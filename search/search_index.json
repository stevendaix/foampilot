{"config":{"lang":["en","fr","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>Welcome to the FoamPilot documentation.</p> <ul> <li>About</li> <li>Install OpenFOAM</li> <li>FOAMPilot Presentation</li> <li>Fluid Mechanics Theory Guide</li> <li>User Guide</li> <li>Developer Section</li> <li>Examples</li> </ul>"},{"location":"about/","title":"test","text":"<p>::: src.foampilot.constant.constantDirectory</p>"},{"location":"fluids_theory/","title":"Theoretical Documentation for FluidMechanics","text":"<p>This document provides a theoretical overview of the fluid mechanics principles implemented in the <code>FluidMechanics</code> Python class. It aims to serve as a comprehensive guide for users and developers seeking to understand the underlying physics and mathematical models used in the library for Computational Fluid Dynamics (CFD) applications.</p>"},{"location":"fluids_theory/#1-introduction-to-fluid-mechanics-for-cfd","title":"1. Introduction to Fluid Mechanics for CFD","text":"<p>Fluid mechanics is the branch of physics concerned with the mechanics of fluids (liquids, gases, and plasmas) and the forces on them. It has a wide range of applications, including aeronautics, civil engineering, meteorology, and biomedical engineering. In the context of Computational Fluid Dynamics (CFD), fluid mechanics principles are discretized and solved numerically to simulate fluid flow phenomena. The <code>FluidMechanics</code> class encapsulates several fundamental concepts and empirical correlations crucial for setting up and analyzing CFD simulations, particularly concerning mesh generation and boundary conditions.</p> <p>CFD simulations rely heavily on understanding the behavior of fluids at various scales and conditions. This includes characterizing the flow regime, predicting energy losses, and analyzing heat transfer mechanisms. The <code>FluidMechanics</code> class provides tools to quantify these aspects, making it easier for engineers and researchers to prepare their simulation inputs and interpret their results. The proper selection of fluid properties, flow parameters, and dimensionless numbers is paramount for accurate and stable CFD computations.</p>"},{"location":"fluids_theory/#2-dimensionless-numbers-in-fluid-mechanics","title":"2. Dimensionless Numbers in Fluid Mechanics","text":"<p>Dimensionless numbers are crucial in fluid mechanics as they allow for the scaling of physical phenomena and provide insights into the relative importance of different forces acting on a fluid. They are particularly useful in CFD for comparing different flow scenarios and validating simulation results against experimental data or analytical solutions. The <code>FluidMechanics</code> class calculates several key dimensionless numbers, each providing unique information about the flow.</p>"},{"location":"fluids_theory/#21-reynolds-number-re","title":"2.1. Reynolds Number (Re)","text":"<p>The Reynolds number is one of the most important dimensionless quantities in fluid dynamics, used to predict flow patterns in different fluid flow situations. It is defined as the ratio of inertial forces to viscous forces and is given by the formula:</p> \\[Re = \\frac{\\rho v L}{\\mu}\\] <p>Where: - \\(\\rho\\) is the fluid density (kg/m\u00b3) - \\(v\\) is the characteristic flow velocity (m/s) - \\(L\\) is the characteristic linear dimension (m) - \\(\\mu\\) is the dynamic viscosity of the fluid (Pa\u00b7s)</p> <p>For internal flows, such as pipe flow, the characteristic linear dimension is typically the pipe diameter. For external flows, it could be the length of a plate or the diameter of a cylinder. The Reynolds number helps determine whether the flow is laminar, transitional, or turbulent. Generally, for pipe flow, \\(Re &lt; 2300\\) indicates laminar flow, \\(2300 \\le Re \\le 4000\\) indicates transitional flow, and \\(Re &gt; 4000\\) indicates turbulent flow [1].</p>"},{"location":"fluids_theory/#22-prandtl-number-pr","title":"2.2. Prandtl Number (Pr)","text":"<p>The Prandtl number is a dimensionless number approximating the ratio of momentum diffusivity (kinematic viscosity) to thermal diffusivity. It is used to characterize the relative thickness of the hydrodynamic and thermal boundary layers. It is defined as:</p> \\[Pr = \\frac{\\mu c_p}{k}\\] <p>Where: - \\(\\mu\\) is the dynamic viscosity (Pa\u00b7s) - \\(c_p\\) is the specific heat capacity at constant pressure (J/(kg\u00b7K)) - \\(k\\) is the thermal conductivity (W/(m\u00b7K))</p> <p>For gases, Pr is typically around 0.7-1.0, indicating that momentum and heat diffuse at similar rates. For liquids, Pr can vary significantly. For example, water at room temperature has a Pr of about 7, meaning momentum diffuses much faster than heat [2].</p>"},{"location":"fluids_theory/#23-nusselt-number-nu","title":"2.3. Nusselt Number (Nu)","text":"<p>The Nusselt number is the ratio of convective to conductive heat transfer across a boundary. It is a dimensionless heat transfer coefficient that quantifies the enhancement of heat transfer from a surface due to convection relative to conduction across the fluid layer. It is defined as:</p> \\[Nu = \\frac{h L}{k}\\] <p>Where: - \\(h\\) is the convective heat transfer coefficient (W/(m\u00b2\u00b7K)) - \\(L\\) is the characteristic length (m) - \\(k\\) is the thermal conductivity of the fluid (W/(m\u00b7K))</p> <p>A higher Nusselt number indicates more effective convective heat transfer. For pure conduction, \\(Nu = 1\\). Empirical correlations are often used to determine the Nusselt number for various geometries and flow conditions [3].</p>"},{"location":"fluids_theory/#24-grashof-number-gr","title":"2.4. Grashof Number (Gr)","text":"<p>The Grashof number is a dimensionless number in fluid dynamics and heat transfer that approximates the ratio of the buoyancy force to the viscous force acting on a fluid. It is primarily used in natural convection problems, where fluid motion is driven by density differences due to temperature variations. It is defined as:</p> \\[Gr = \\frac{g \\beta \\Delta T L^3}{\\nu^2}\\] <p>Where: - \\(g\\) is the acceleration due to gravity (m/s\u00b2) - \\(\\beta\\) is the thermal expansion coefficient (1/K) - \\(\\Delta T\\) is the temperature difference (K) - \\(L\\) is the characteristic length (m) - \\(\\nu\\) is the kinematic viscosity (m\u00b2/s)</p> <p>The Grashof number plays a similar role in natural convection as the Reynolds number does in forced convection, indicating the transition from laminar to turbulent flow in buoyancy-driven flows [4].</p>"},{"location":"fluids_theory/#25-rayleigh-number-ra","title":"2.5. Rayleigh Number (Ra)","text":"<p>The Rayleigh number is a dimensionless number associated with buoyancy-driven flow (natural convection). When the Rayleigh number is below a critical value for a fluid, heat transfer is primarily by conduction; when it exceeds the critical value, heat transfer is primarily by convection. It is defined as the product of the Grashof number and the Prandtl number:</p> \\[Ra = Gr \\cdot Pr = \\frac{g \\beta \\Delta T L^3}{\\nu \\alpha}\\] <p>Where: - \\(\\alpha\\) is the thermal diffusivity (m\u00b2/s)</p> <p>The critical Rayleigh number varies depending on the geometry and boundary conditions. For example, for a horizontal fluid layer heated from below, convection typically begins when \\(Ra &gt; 1708\\) [5].</p>"},{"location":"fluids_theory/#26-peclet-number-pe","title":"2.6. Peclet Number (Pe)","text":"<p>The Peclet number is a dimensionless number relevant in the study of transport phenomena in fluid flows. It is defined as the ratio of the rate of advection of a physical quantity by the flow to the rate of diffusion of the same quantity driven by an appropriate gradient. It is given by:</p> \\[Pe = Re \\cdot Pr\\] <p>Where: - \\(Re\\) is the Reynolds number - \\(Pr\\) is the Prandtl number</p> <p>Alternatively, it can be expressed as:</p> \\[Pe = \\frac{v L}{\\alpha}\\] <p>Where: - \\(v\\) is the flow velocity (m/s) - \\(L\\) is the characteristic length (m) - \\(\\alpha\\) is the thermal diffusivity (m\u00b2/s)</p> <p>A large Peclet number indicates that advection dominates diffusion, while a small Peclet number suggests that diffusion is more significant. This number is particularly important in heat and mass transfer problems [6].</p>"},{"location":"fluids_theory/#3-boundary-layer-calculations","title":"3. Boundary Layer Calculations","text":"<p>Boundary layers are thin layers of fluid adjacent to solid surfaces where viscous effects are significant. Understanding and accurately modeling boundary layers are critical in CFD, especially for predicting drag, lift, and heat transfer. The <code>FluidMechanics</code> class provides tools to estimate boundary layer characteristics, which are essential for proper mesh generation in CFD simulations.</p>"},{"location":"fluids_theory/#31-y-value","title":"3.1. y+ Value","text":"<p>The y+ (pronounced \"y-plus\") value is a dimensionless distance from the wall, normalized by the viscous length scale. It is a crucial parameter in turbulence modeling, particularly for wall-bounded flows. The y+ value determines the appropriate meshing strategy near the wall for different turbulence models. It is defined as:</p> \\[y^+ = \\frac{u_\\tau y}{\\nu}\\] <p>Where: - \\(u_\\tau\\) is the friction velocity (m/s), defined as \\(\\sqrt{\\tau_w / \\rho}\\) - \\(y\\) is the physical distance from the wall (m) - \\(\\nu\\) is the kinematic viscosity (m\u00b2/s) - \\(\\tau_w\\) is the wall shear stress (Pa) - \\(\\rho\\) is the fluid density (kg/m\u00b3)</p> <p>For many turbulence models, the first cell center from the wall should be placed within a specific y+ range (e.g., y+ &lt; 1 for low-Reynolds number models or y+ between 30 and 300 for wall-function approaches). The <code>FluidMechanics</code> class calculates y+ based on the provided wall shear stress and characteristic length, which can be interpreted as the distance from the wall for a given y+ value if rearranged [7].</p>"},{"location":"fluids_theory/#32-turbulent-boundary-layer-thickness","title":"3.2. Turbulent Boundary Layer Thickness","text":"<p>The boundary layer thickness (\\(\\delta\\)) is typically defined as the distance from the wall where the fluid velocity reaches 99% of the free-stream velocity. For turbulent boundary layers over a flat plate, empirical correlations are often used to estimate its thickness. One common correlation for turbulent flow is:</p> \\[\\delta \\approx 0.37 L Re_L^{-1/5}\\] <p>Where: - \\(L\\) is the characteristic length (m) - \\(Re_L\\) is the Reynolds number based on the characteristic length</p> <p>This correlation provides a reasonable estimate for turbulent boundary layers but is an approximation and may not be accurate for all flow conditions or geometries [8].</p>"},{"location":"fluids_theory/#33-number-of-boundary-layer-cells-for-mesh-sizing","title":"3.3. Number of Boundary Layer Cells for Mesh Sizing","text":"<p>In CFD, accurately resolving the boundary layer requires a sufficient number of mesh cells clustered near the wall. The <code>FluidMechanics</code> class provides a method to estimate the number of layers needed to reach a target cell size at the edge of the boundary layer, given an expansion ratio. This calculation is iterative and ensures that the mesh transitions smoothly from the wall to the free-stream region. The expansion ratio dictates how much each successive cell layer grows in thickness. A typical expansion ratio is between 1.1 and 1.3 [9].</p>"},{"location":"fluids_theory/#4-pressure-loss-calculations","title":"4. Pressure Loss Calculations","text":"<p>Pressure loss in fluid flow systems is a critical parameter in engineering design, affecting pump sizing, energy consumption, and overall system efficiency. The <code>FluidMechanics</code> class includes a method for calculating pressure loss in internal flows, specifically using the Darcy-Weisbach equation.</p>"},{"location":"fluids_theory/#41-darcy-weisbach-equation","title":"4.1. Darcy-Weisbach Equation","text":"<p>The Darcy-Weisbach equation is a widely used empirical equation that relates the head loss (or pressure loss) due to friction along a given length of pipe to the average velocity of the fluid flow. It is applicable for both laminar and turbulent flows. The pressure loss (\\(\\Delta P\\)) is given by:</p> \\[\\Delta P = f \\frac{L}{D} \\frac{\\rho v^2}{2}\\] <p>Where: - \\(f\\) is the Darcy friction factor (dimensionless) - \\(L\\) is the length of the pipe (m) - \\(D\\) is the internal diameter of the pipe (m) - \\(\\rho\\) is the fluid density (kg/m\u00b3) - \\(v\\) is the average flow velocity (m/s)</p>"},{"location":"fluids_theory/#42-friction-factor-f","title":"4.2. Friction Factor (f)","text":"<p>The friction factor (\\(f\\)) depends on the flow regime (laminar or turbulent) and the pipe roughness. </p> <p>For laminar flow (\\(Re &lt; 2300\\)), the friction factor is solely a function of the Reynolds number and is given by:</p> \\[f = \\frac{64}{Re}\\] <p>For turbulent flow (\\(Re \\ge 2300\\)), the friction factor depends on both the Reynolds number and the relative roughness of the pipe (\\(\\epsilon/D\\), where \\(\\epsilon\\) is the absolute roughness). There are several empirical correlations for the turbulent friction factor. The <code>FluidMechanics</code> class uses an approximation based on the Colebrook-White equation, such as the Swamee-Jain equation, which is explicit and widely used for its accuracy and simplicity:</p> \\[f = \\frac{0.25}{\\left[\\log_{10}\\left(\\frac{\\epsilon}{3.7D} + \\frac{5.74}{Re^{0.9}}\\right)\\right]^2}\\] <p>This equation is valid for \\(Re &gt; 4000\\) and a wide range of relative roughness values. For the transitional regime (\\(2300 \\le Re \\le 4000\\)), the flow behavior is complex and often unpredictable, and simplified models may not capture the full physics. However, for practical engineering purposes, the laminar or turbulent correlations are often extended into this region or a linear interpolation is used [10].</p>"},{"location":"fluids_theory/#5-heat-transfer-calculations","title":"5. Heat Transfer Calculations","text":"<p>Heat transfer is a fundamental aspect of many fluid flow applications, particularly in thermal systems design and analysis. The <code>FluidMechanics</code> class provides methods to estimate convective heat transfer coefficients for common geometries, which are crucial for calculating heat exchange rates.</p>"},{"location":"fluids_theory/#51-convective-heat-transfer-coefficient","title":"5.1. Convective Heat Transfer Coefficient","text":"<p>Convective heat transfer occurs between a fluid and a solid surface due to the combined effects of conduction and fluid motion. The rate of convective heat transfer (\\(Q\\)) is typically expressed by Newton's Law of Cooling:</p> \\[Q = h A \\Delta T\\] <p>Where: - \\(h\\) is the convective heat transfer coefficient (W/(m\u00b2\u00b7K)) - \\(A\\) is the heat transfer surface area (m\u00b2) - \\(\\Delta T\\) is the temperature difference between the surface and the fluid (K)</p> <p>The convective heat transfer coefficient (\\(h\\)) is not a property of the fluid but depends on the fluid properties, flow conditions (velocity, flow regime), and the geometry of the surface. It is often determined using empirical correlations involving dimensionless numbers like the Nusselt, Reynolds, and Prandtl numbers.</p>"},{"location":"fluids_theory/#511-flat-plate-external-flow","title":"5.1.1. Flat Plate (External Flow)","text":"<p>For external flow over a flat plate, the convective heat transfer coefficient depends on whether the boundary layer is laminar or turbulent. The <code>FluidMechanics</code> class uses common correlations for this estimation:</p> <ul> <li>Laminar Flow (\\(Re_L &lt; 5 \\times 10^5\\)):</li> </ul> \\[Nu_L = 0.664 Re_L^{0.5} Pr^{1/3}\\] <ul> <li>Turbulent Flow (\\(Re_L \\ge 5 \\times 10^5\\)):</li> </ul> \\[Nu_L = 0.0296 Re_L^{0.8} Pr^{1/3}\\] <p>Once the Nusselt number (\\(Nu_L\\)) is determined, the convective heat transfer coefficient (\\(h\\)) can be calculated using the definition of the Nusselt number: \\(h = Nu_L \\frac{k}{L}\\), where \\(k\\) is the thermal conductivity of the fluid and \\(L\\) is the characteristic length (length of the plate) [11].</p>"},{"location":"fluids_theory/#512-cylinder-external-flow","title":"5.1.2. Cylinder (External Flow)","text":"<p>For external flow across a single cylinder, the Churchill-Bernstein equation is a widely used correlation for a wide range of Reynolds numbers (\\(Re_D Pr &gt; 0.2\\)). This equation provides the average Nusselt number for flow normal to a circular cylinder:</p> \\[Nu_D = 0.3 + \\frac{0.62 Re_D^{0.5} Pr^{1/3}}{\\left[1 + (0.4/Pr)^{2/3}\\right]^{0.25}} \\left[1 + \\left(\\frac{Re_D}{282000}\\right)^{0.5}\\right]^{0.5}\\] <p>Where \\(Re_D\\) is the Reynolds number based on the cylinder diameter. Similar to the flat plate, \\(h\\) is then calculated as \\(h = Nu_D \\frac{k}{D}\\), where \\(D\\) is the cylinder diameter [12].</p>"},{"location":"fluids_theory/#52-thermal-expansion-coefficient","title":"5.2. Thermal Expansion Coefficient","text":"<p>The thermal expansion coefficient (\\(\\beta\\)) quantifies how much the density of a fluid changes with temperature at constant pressure. It is a crucial parameter in natural convection problems, as density variations drive the fluid motion. For liquids, it can be approximated using finite differences:</p> \\[\\beta = -\\frac{1}{\\rho_{avg}} \\left(\\frac{\\Delta \\rho}{\\Delta T}\\right)\\] <p>Where: - \\(\\rho_{avg}\\) is the average density over the temperature range - \\(\\Delta \\rho\\) is the change in density - \\(\\Delta T\\) is the change in temperature</p> <p>For ideal gases, the thermal expansion coefficient is simply the inverse of the absolute temperature: \\(\\beta = 1/T\\) [13].</p>"},{"location":"fluids_theory/#6-fluid-properties-and-flow-regimes","title":"6. Fluid Properties and Flow Regimes","text":"<p>Accurate knowledge of fluid properties is fundamental to any fluid mechanics analysis. The <code>FluidMechanics</code> class leverages the <code>pyfluids</code> library to access a wide range of fluid properties, which are then used in various calculations. Furthermore, understanding the flow regime is crucial for applying appropriate models and correlations.</p>"},{"location":"fluids_theory/#61-fundamental-fluid-properties","title":"6.1. Fundamental Fluid Properties","text":"<p>The <code>FluidMechanics</code> class can retrieve several fundamental properties of a fluid at a given temperature and pressure. These include:</p> <ul> <li>Density (\\(\\rho\\)): Mass per unit volume (kg/m\u00b3). It is a measure of how much 'stuff' is packed into a given space. Density is crucial for calculating inertial forces and mass flow rates.</li> <li>Dynamic Viscosity (\\(\\mu\\)): A measure of a fluid's resistance to shear flow (Pa\u00b7s or kg/(m\u00b7s)). It represents the internal friction of a fluid. Viscosity is essential for understanding momentum transfer and energy dissipation in fluids.</li> <li>Thermal Conductivity (\\(k\\)): A measure of a material's ability to conduct heat (W/(m\u00b7K)). It indicates how readily heat energy can be transferred through the fluid by conduction.</li> <li>Specific Heat (\\(c_p\\)): The amount of heat per unit mass required to raise the temperature by one degree Celsius (or Kelvin) at constant pressure (J/(kg\u00b7K)). It is vital for energy balance calculations and heat transfer analysis.</li> <li>Specific Volume (\\(v\\)): The ratio of the fluid's volume to its mass (m\u00b3/kg). It is the reciprocal of density and is often used in thermodynamic calculations.</li> </ul> <p>These properties are temperature and pressure-dependent and are retrieved from the <code>pyfluids</code> library, which provides robust and accurate data for various common fluids [14].</p>"},{"location":"fluids_theory/#62-flow-regime-determination","title":"6.2. Flow Regime Determination","text":"<p>The flow regime describes the general behavior of a fluid flow, primarily categorized as laminar, transitional, or turbulent. This classification is critical because the governing equations and empirical correlations used to describe fluid behavior differ significantly between these regimes. The <code>FluidMechanics</code> class determines the flow regime based on the calculated Reynolds number:</p> <ul> <li>Laminar Flow: Occurs at low Reynolds numbers (typically \\(Re &lt; 2300\\) for internal pipe flow). In this regime, fluid particles move in smooth, parallel layers with minimal mixing. Viscous forces dominate inertial forces.</li> <li>Transitional Flow: Occurs at intermediate Reynolds numbers (typically \\(2300 \\le Re \\le 4000\\) for internal pipe flow). This regime is characterized by an unsteady, oscillating flow that alternates between laminar and turbulent behavior. It is often difficult to predict and model accurately.</li> <li>Turbulent Flow: Occurs at high Reynolds numbers (typically \\(Re &gt; 4000\\) for internal pipe flow). In this regime, fluid particles move in chaotic, irregular patterns with significant mixing. Inertial forces dominate viscous forces, leading to higher friction and heat transfer rates.</li> </ul> <p>Understanding the flow regime is paramount for selecting the correct turbulence models in CFD simulations and for applying appropriate heat transfer and pressure loss correlations [15].</p>"},{"location":"fluids_theory/#63-critical-velocity","title":"6.3. Critical Velocity","text":"<p>The critical velocity is the velocity at which a fluid flow transitions from laminar to turbulent or vice versa. For internal pipe flow, this transition is typically associated with a critical Reynolds number of approximately 2300. The critical velocity (\\(v_c\\)) can be calculated as:</p> \\[v_c = \\frac{Re_{crit} \\mu}{\\rho D}\\] <p>Where: - \\(Re_{crit}\\) is the critical Reynolds number (typically 2300) - \\(\\mu\\) is the dynamic viscosity (Pa\u00b7s) - \\(\\rho\\) is the fluid density (kg/m\u00b3) - \\(D\\) is the pipe diameter (m)</p> <p>This value is important for engineers to design systems that operate within a desired flow regime or to understand the conditions under which a transition might occur [16].</p>"},{"location":"fluids_theory/#7-input-validation-and-error-handling","title":"7. Input Validation and Error Handling","text":"<p>Robust input validation and comprehensive error handling are crucial for the reliability and usability of any computational tool. The <code>FluidMechanics</code> class incorporates several validation methods to ensure that input parameters are physically meaningful and to prevent common errors that could lead to incorrect results or program crashes. These validation checks are performed at the initialization of the class and within individual methods where specific conditions apply.</p>"},{"location":"fluids_theory/#71-positive-quantity-validation","title":"7.1. Positive Quantity Validation","text":"<p>Many physical quantities in fluid mechanics, such as pressure, velocity, and characteristic length, must inherently be positive. Attempting calculations with non-positive values for these parameters would lead to physically impossible or undefined results. The <code>_validate_positive_quantity</code> helper method ensures that any <code>Quantity</code> object passed to the class or its methods has a value greater than zero. If a non-positive value is detected, a <code>ValueError</code> is raised with an informative message, guiding the user to correct their input.</p>"},{"location":"fluids_theory/#72-non-zero-quantity-validation","title":"7.2. Non-Zero Quantity Validation","text":"<p>Certain calculations involve division by fluid properties like dynamic viscosity, thermal conductivity, or kinematic viscosity. If these properties were zero, the division would result in a mathematical error (division by zero), leading to a program crash. The <code>_validate_non_zero_quantity</code> helper method checks that critical <code>Quantity</code> objects, or their underlying numerical values, are not zero before they are used in such calculations. This prevents runtime errors and ensures the mathematical integrity of the computations. For instance, a fluid with zero viscosity would behave as a perfect fluid, which is a theoretical idealization not typically encountered in practical engineering problems where viscous effects are always present, however small.</p>"},{"location":"fluids_theory/#73-temperature-range-validation","title":"7.3. Temperature Range Validation","text":"<p>Temperature is a fundamental property that significantly influences fluid behavior. In many physical models and equations, particularly those involving ideal gas laws or thermodynamic properties, temperature must be expressed on an absolute scale (e.g., Kelvin) and must be positive. A temperature of 0 Kelvin (absolute zero) represents a state where particles have minimal kinetic energy, and many fluid properties become undefined or behave in ways not covered by standard models. Negative temperatures are physically impossible in this context. The <code>_validate_temperature_range</code> helper method ensures that the input temperature is greater than 0 Kelvin, preventing calculations based on unphysical temperature values and ensuring compatibility with the underlying <code>pyfluids</code> library, which relies on absolute temperature scales [17].</p> <p>By implementing these validation checks, the <code>FluidMechanics</code> class enhances its robustness, provides clearer feedback to the user in case of invalid inputs, and helps maintain the physical consistency of the calculated results. This proactive approach to error handling is essential for developing reliable and user-friendly engineering software.</p>"},{"location":"fluids_theory/#8-references","title":"8. References","text":"<p>[1] White, F. M. (2006). Fluid Mechanics (6th ed.). McGraw-Hill.</p> <p>[2] Incropera, F. P., DeWitt, D. P., Bergman, T. L., &amp; Lavine, A. S. (2007). Fundamentals of Heat and Mass Transfer (6th ed.). John Wiley &amp; Sons.</p> <p>[3] Cengel, Y. A., &amp; Ghajar, A. J. (2015). Heat and Mass Transfer: Fundamentals and Applications (5th ed.). McGraw-Hill Education.</p> <p>[4] Bejan, A. (2013). Convection Heat Transfer (4th ed.). John Wiley &amp; Sons.</p> <p>[5] Tritton, D. J. (1988). Physical Fluid Dynamics (2nd ed.). Oxford University Press.</p> <p>[6] Bird, R. B., Stewart, W. E., &amp; Lightfoot, E. N. (2007). Transport Phenomena (2nd ed.). John Wiley &amp; Sons.</p> <p>[7] Versteeg, H. K., &amp; Malalasekera, W. (2007). An Introduction to Computational Fluid Dynamics: The Finite Volume Method (2nd ed.). Pearson Education.</p> <p>[8] Schlichting, H., &amp; Gersten, K. (2017). Boundary-Layer Theory (9th ed.). Springer.</p> <p>[9] Blazek, J. (2015). Computational Fluid Dynamics: Principles and Applications (3rd ed.). Elsevier.</p> <p>[10] Munson, B. R., Young, D. F., &amp; Okiishi, T. H. (2009). Fundamentals of Fluid Mechanics (6th ed.). John Wiley &amp; Sons.</p> <p>[11] Kays, W. M., Crawford, M. E., &amp; Weigand, B. (2005). Convective Heat and Mass Transfer (4th ed.). McGraw-Hill.</p> <p>[12] Churchill, S. W., &amp; Bernstein, M. (1977). A Correlation for Forced Convection from Gases and Liquids to a Circular Cylinder in Crossflow. Journal of Heat Transfer, 99(2), 300-306.</p> <p>[13] Moran, M. J., Shapiro, H. N., Boettner, D. D., &amp; Bailey, M. B. (2014). Fundamentals of Engineering Thermodynamics (8th ed.). John Wiley &amp; Sons.</p> <p>[14] Lemmon, E. W., Bell, I. H., &amp; Huber, M. L. (2010). NIST Standard Reference Database 23: Reference Fluid Thermodynamic and Transport Properties\u2014REFPROP, Version 9.0 (Software). National Institute of Standards</p> <p>[15] Fox, R. W., Pritchard, P. J., &amp; McDonald, A. T. (2016). Introduction to Fluid Mechanics (9th ed.). John Wiley &amp; Sons.</p> <p>[16] Streeter, V. L., Wylie, E. B., &amp; Bedford, K. W. (1998). Fluid Mechanics (9th ed.). McGraw-Hill</p>"},{"location":"install_openfoam/","title":"OpenFOAM on Windows \u2013 WSL Installation Guide","text":"<p>The Windows Subsystem for Linux (WSL) allows you to run a full Linux environment directly on Windows 10 and 11. This is currently the recommended method to run OpenFOAM reliably on Windows.</p>"},{"location":"install_openfoam/#download-links","title":"Download Links","text":"<ul> <li>Official OpenFOAM website: https://www.openfoam.com</li> <li>OpenFOAM v13: https://www.openfoam.com/download</li> <li>OpenFOAM-dev: https://www.openfoam.com/download/dev</li> <li>Running OpenFOAM on Windows (WSL): https://www.openfoam.com/download/windows</li> <li>Running OpenFOAM on macOS: https://www.openfoam.com/download/mac</li> <li>Compile from source: https://www.openfoam.com/download/source</li> <li>Package repository: https://dl.openfoam.org</li> <li>Version history: https://www.openfoam.com/releases</li> </ul>"},{"location":"install_openfoam/#installing-wsl","title":"Installing WSL","text":""},{"location":"install_openfoam/#1-open-windows-command-prompt-as-administrator","title":"1. Open Windows Command Prompt as Administrator","text":"<ul> <li>Click on the Start Menu, type <code>cmd</code>.</li> <li>Right-click on Command Prompt \u2192 Run as administrator.</li> <li>Confirm any authorization prompts.</li> </ul>"},{"location":"install_openfoam/#2-check-if-wsl-is-installed","title":"2. Check if WSL is installed","text":"<p>Run the command:</p> <pre><code>wsl -l -v\n````\n\n* If no distributions are installed, proceed to the next step.\n* Otherwise, check that Ubuntu is listed with version 2.\n\n### 3. Install WSL with Ubuntu 22.04\n\nRun:\n\n```bash\nwsl --install -d Ubuntu-22.04\n</code></pre> <ul> <li>Follow the prompts to set up your Linux username and password.</li> </ul>"},{"location":"install_openfoam/#4-start-wsl","title":"4. Start WSL","text":"<ul> <li>Open the Start Menu, search for Ubuntu, and launch it.</li> <li>Or type <code>wsl</code> in the Command Prompt.</li> </ul>"},{"location":"install_openfoam/#installing-openfoam-and-paraview","title":"Installing OpenFOAM and ParaView","text":"<p>OpenFOAM and ParaView can be installed using the <code>apt</code> package manager. You will need superuser privileges (<code>sudo</code>) to run the following commands.</p>"},{"location":"install_openfoam/#1-add-the-openfoam-repository-and-public-key","title":"1. Add the OpenFOAM repository and public key","text":"<p>Run in the terminal:</p> <pre><code>sudo sh -c \"wget -O - https://dl.openfoam.org/gpg.key &gt; /etc/apt/trusted.gpg.d/openfoam.asc\"\nsudo add-apt-repository http://dl.openfoam.org/ubuntu\n</code></pre> <p>Note:</p> <ul> <li>The public key uses <code>https://</code>.</li> <li>The repository URL uses <code>http://</code> because <code>https://</code> may not be supported, but security is ensured by the GPG key.</li> </ul>"},{"location":"install_openfoam/#2-update-your-package-list","title":"2. Update your package list","text":"<pre><code>sudo apt update\n</code></pre>"},{"location":"install_openfoam/#3-install-openfoam-13","title":"3. Install OpenFOAM 13","text":"<pre><code>sudo apt -y install openfoam13\n</code></pre> <p>OpenFOAM 13 and ParaView will be installed in <code>/opt</code>.</p>"},{"location":"install_openfoam/#user-configuration","title":"User Configuration","text":"<p>To use OpenFOAM, follow these steps:</p> <ol> <li>Open your <code>.bashrc</code> file in your home directory with an editor, for example:</li> </ol> <pre><code>gedit ~/.bashrc\n</code></pre> <ol> <li>Add the following line at the end of the file, then save and close:</li> </ol> <pre><code>. /opt/openfoam13/etc/bashrc\n</code></pre> <ol> <li>Open a new terminal window and test the installation:</li> </ol> <pre><code>foamRun -help\n</code></pre> <ol> <li>You should see the help message. Installation and configuration are now complete.</li> </ol>"},{"location":"install_openfoam/#notes","title":"Notes","text":"<ul> <li>If you already have a similar line in <code>.bashrc</code> from a previous OpenFOAM version, comment it out with <code>#</code> or remove it.</li> <li>To apply changes immediately in the same terminal window after modifying <code>.bashrc</code>:</li> </ul> <pre><code>. $HOME/.bashrc\n</code></pre>"},{"location":"install_openfoam/#graphics-and-latex-dependencies","title":"Graphics and LaTeX Dependencies","text":""},{"location":"install_openfoam/#install-libraries-for-gmsh-and-opengl","title":"Install libraries for Gmsh and OpenGL","text":"<pre><code>sudo apt install libglu1-mesa libgl1-mesa-glx libxrender1 libxext6\n</code></pre>"},{"location":"install_openfoam/#install-texlive-for-latex","title":"Install TexLive for LaTeX","text":""},{"location":"install_openfoam/#1-base-installation","title":"1. Base installation","text":"<pre><code>sudo apt-get install texlive-latex-base\n</code></pre>"},{"location":"install_openfoam/#2-recommended-and-extra-fonts","title":"2. Recommended and extra fonts","text":"<p>To avoid errors when using <code>pdflatex</code> on LaTeX files with multiple fonts:</p> <pre><code>sudo apt-get install texlive-fonts-recommended\nsudo apt-get install texlive-fonts-extra\n</code></pre>"},{"location":"install_openfoam/#3-additional-latex-packages","title":"3. Additional LaTeX packages","text":"<pre><code>sudo apt-get install texlive-latex-extra\n</code></pre>"},{"location":"presentation/","title":"Conceptual and Theoretical Overview of the foampilot Module","text":"<p>The <code>foampilot</code> module is designed as an object-oriented Python layer for the computational fluid dynamics (CFD) platform OpenFOAM. Its main purpose is to abstract the complexity of OpenFOAM case configuration, which traditionally relies on text-based dictionary files, by providing an intuitive and robust Python programming interface (API).</p> <p>The architecture of <code>foampilot</code> closely mirrors the structure of an OpenFOAM case, with each submodule managing a fundamental aspect of the simulation.</p>"},{"location":"presentation/#1-foampilotsolver-the-core-of-physics-and-numerics","title":"1. foampilot.solver: The Core of Physics and Numerics","text":"<p>The <code>solver</code> submodule is the central control of the simulation. It does not just run an OpenFOAM solver; it handles dynamic solver selection based on physical and numerical properties defined by the user.</p> OpenFOAM Concept Role in foampilot Theoretical Description Solver <code>Solver</code> Class Acts as an intelligent solver manager. By modifying boolean properties (e.g., <code>compressible</code>, <code>transient</code>, <code>is_vof</code>), it automatically selects the appropriate OpenFOAM solver corresponding to the physical equations to solve (Navier-Stokes for incompressible flow, equation of state for compressible flow, etc.). Physical Configuration Solver Properties Defines the problem type (steady vs. transient, single-phase vs. multiphase VOF, with or without gravity/energy). This abstraction ensures that the user does not need to worry about the exact OpenFOAM solver name, only the physics of the problem."},{"location":"presentation/#2-foampilotconstant-definition-of-the-physical-medium","title":"2. foampilot.constant: Definition of the Physical Medium","text":"<p>The <code>constant</code> submodule manages OpenFOAM's <code>constant</code> directory, which contains fluid and mesh properties.</p> OpenFOAM Concept Role in foampilot Theoretical Description Fluid Properties <code>transportProperties</code>, <code>physicalProperties</code> Classes Define essential fluid properties (kinematic viscosity \\(\\nu\\), density \\(\\rho\\), specific heat \\(C_p\\), etc.). These are crucial for closing the Navier-Stokes equations and modeling transport phenomena. Turbulence Model <code>turbulenceProperties</code> Class Handles the selection and configuration of turbulence models (e.g., \\(k-\\epsilon\\), \\(k-\\omega\\) SST). These models add transport equations to account for turbulent effects, closing the RANS (Reynolds-Averaged Navier-Stokes) system. Gravity <code>gravityFile</code> Class Allows activation and definition of the gravity vector \\(\\mathbf{g}\\), essential for buoyancy (Boussinesq) or free-surface flow simulations."},{"location":"presentation/#3-foampilotsystem-numerical-and-temporal-control","title":"3. foampilot.system: Numerical and Temporal Control","text":"<p>The <code>system</code> submodule manages OpenFOAM's <code>system</code> directory, which dictates how equations are discretized and solved.</p> OpenFOAM Concept Role in foampilot Theoretical Description Simulation Control <code>controlDictFile</code> Class Defines temporal parameters (time step \\(\\Delta t\\), start/end time), result writing frequencies, and execution functions (e.g., <code>runTimeControl</code> for automatic stop). Numerical Schemes <code>fvSchemesFile</code> Class Handles discretization of equation terms (time derivatives, convection, diffusion). The choice of schemes (e.g., Euler for time, <code>upwind</code> or <code>Gauss linear</code> for convection) directly affects numerical stability and accuracy. Algebraic Solvers <code>fvSolutionFile</code> Class Configures matrix solvers for linear systems resulting from discretization (e.g., <code>PCG</code> for pressure, <code>BiCGStab</code> for velocity). It also defines convergence criteria (tolerance) and under-relaxation strategies."},{"location":"presentation/#4-foampilotmesh-mesh-generation","title":"4. foampilot.mesh: Mesh Generation","text":"<p>The <code>mesh</code> submodule is responsible for mesh creation, i.e., spatial discretization of the computational domain.</p> OpenFOAM Concept Role in foampilot Theoretical Description Structured Mesh <code>BlockMeshFile</code> Class Abstracts OpenFOAM's <code>blockMesh</code> utility. Allows defining the domain geometry using hexahedral blocks, an efficient method for simple or parameterized geometries. Unstructured Mesh <code>gmsh_mesher</code>, <code>snappymesh</code> Classes Handle integration with advanced meshing tools (<code>Gmsh</code>, <code>snappyHexMesh</code>) for complex geometries (e.g., STL files). They generate the necessary configuration files for these utilities."},{"location":"presentation/#5-foampilotboundaries-physical-boundary-conditions","title":"5. foampilot.boundaries: Physical Boundary Conditions","text":"<p>The <code>boundaries</code> submodule is crucial to define the interaction of the fluid with its environment.</p> OpenFOAM Concept Role in foampilot Theoretical Description Boundary Conditions <code>Boundary</code> Class Manages boundary conditions for each physical field (\\(\\mathbf{U}\\), \\(p\\), \\(k\\), \\(\\epsilon\\), etc.) on mesh patches. Theoretically, these are necessary to provide missing information at domain boundaries, ensuring unique PDE solutions. Condition Types <code>Boundary</code> Methods Provides methods for common physical conditions: <code>set_velocity_inlet</code> (Dirichlet for velocity), <code>set_pressure_outlet</code> (Neumann for pressure), <code>set_wall</code> (no-slip or slip), etc. Wall Functions Automatic Integration Integrates appropriate wall functions for turbulence models, allowing boundary layer modeling without an extremely fine mesh near walls."},{"location":"presentation/#6-foampilotpostprocess-and-foampilotreport-result-analysis","title":"6. foampilot.postprocess and foampilot.report: Result Analysis","text":"<p>These submodules manage the post-simulation phase: data extraction, analysis, and presentation.</p> Submodule Conceptual Role Theoretical Description <code>postprocess</code> Visualization and Analysis Uses libraries like PyVista to load OpenFOAM results (VTK files) and perform standard post-processing operations (slices, contours, vectors, streamlines). Allows visualization of physical fields and derived quantities (e.g., Q criterion, vorticity). <code>report</code> Report Generation Automates creation of structured simulation reports (e.g., PDF). Aggregates key data (input parameters, convergence residuals, post-processing images) for traceability and reproducibility."},{"location":"presentation/#7-foampilotutilities-and-foampilotcommons-cross-cutting-tools","title":"7. foampilot.utilities and foampilot.commons: Cross-Cutting Tools","text":"<p>These modules provide essential supporting functionality for the entire framework.</p> Submodule Conceptual Role Theoretical Description <code>utilities.manageunits</code> Unit Management Uses the <code>Quantity</code> class to ensure dimensional consistency of inputs. This practice is essential in physics and engineering to avoid conversion errors and make the code unit-system independent (SI, Imperial, etc.). <code>utilities.dictonnary</code> OpenFOAM Dictionary Handling Provides tools to create and manipulate complex data structures corresponding to OpenFOAM dictionary files (e.g., <code>topoSetDict</code>, <code>createPatchDict</code>). <code>commons</code> Generic Utilities Contains functions for class serialization, reading mesh files (<code>polyMesh/boundary</code>), and other low-level operations necessary to interface with OpenFOAM file formats. <p>This document provides an overview of how <code>foampilot</code> structures and manages fundamental OpenFOAM simulation concepts, translating them into a modular and intuitive Python architecture.</p>"},{"location":"user_documentation/","title":"User Documentation for <code>foampilot</code>","text":""},{"location":"user_documentation/#1-overall-working-philosophy-of-foampilot","title":"1. Overall Working Philosophy of <code>foampilot</code>","text":"<p>The <code>foampilot</code> module is designed as a Python wrapper for OpenFOAM, aimed at simplifying and automating the computational fluid dynamics (CFD) simulation process. It abstracts the complexity of OpenFOAM\u2019s file structure and commands, allowing the user to define, run, and post-process a simulation entirely in Python.</p> <p>The philosophy of <code>foampilot</code> is based on the following principles:</p> <ol> <li>Case Definition in Python: Instead of manually editing configuration files (dictionaries) in the OpenFOAM directory structure, the user interacts with Python objects (<code>Solver</code>, <code>Meshing</code>, <code>Boundary</code>, <code>Constant</code>, <code>System</code>).</li> <li>Automatic File Generation: Python objects are responsible for automatically generating OpenFOAM configuration files (<code>controlDict</code>, <code>fvSchemes</code>, <code>transportProperties</code>, etc.) in the case directory.</li> <li>Integration with the Python Ecosystem: The module integrates with powerful Python libraries for specific tasks:<ul> <li><code>classy_blocks</code> for structured mesh generation (<code>blockMesh</code>).</li> <li><code>pyfluid</code> (implicit in examples) for managing fluid properties and physical constants.</li> <li><code>pyvista</code> for advanced post-processing and visualization.</li> <li><code>latex_pdf</code> for generating structured simulation reports.</li> </ul> </li> </ol> <p>In short, <code>foampilot</code> transforms a manual and fragmented workflow (editing files, running shell commands) into a scripted and reproducible workflow (a single Python script).</p>"},{"location":"user_documentation/#2-geometry-and-mesh-selection","title":"2. Geometry and Mesh Selection","text":"<p>Choosing the meshing method is crucial in CFD and depends on the geometry complexity. <code>foampilot</code> supports three main scenarios:</p> Meshing Method Target Geometry <code>foampilot</code> Tool / Library Description &amp; Advantages <code>blockMesh</code> Simple, extruded, or hexahedral block geometries. <code>Meshing(..., mesher=\"blockMesh\")</code> (via <code>classy_blocks</code>) Ideal for simple geometries (channels, cylinders, etc.) or regular computational domains. Provides full control over mesh quality and cell distribution. The <code>run_example2.py</code> demonstrates creating complex geometries by combining blocks (<code>Cylinder</code>, <code>ExtrudedRing</code>, <code>Elbow</code>). <code>gmsh</code> Complex CAD geometries in STEP or IGES format. <code>Meshing(..., mesher=\"gmsh\")</code> Enables meshing of complex CAD geometries with unstructured meshes (tetrahedra, prisms). Requires a geometry file (e.g., <code>.step</code>). <code>snappyHexMesh</code> Complex geometries in STL format (triangulated surface). <code>Meshing(..., mesher=\"snappy\")</code> Standard for highly complex geometries (vehicles, buildings). Generates hexahedral mesh conforming to the STL surface with automatic boundary layer refinement."},{"location":"user_documentation/#21-structured-meshing-with-blockmesh-via-classy_blocks","title":"2.1. Structured Meshing with <code>blockMesh</code> (via <code>classy_blocks</code>)","text":"<p>For geometries that can be decomposed into hexahedral blocks (including extrusions), <code>foampilot</code> uses the <code>classy_blocks</code> library.</p> <p>Workflow: 1.  Define basic geometric shapes (<code>cb.Cylinder</code>, <code>cb.ExtrudedRing</code>, <code>cb.Elbow</code>). 2.  Use chaining methods (<code>.chain()</code>, <code>.expand()</code>, <code>.fill()</code>) to build complex geometry. 3.  Set mesh on each shape using <code>.chop_axial()</code>, <code>.chop_radial()</code>, <code>.chop_tangential()</code>. 4.  Assign patches (surfaces) with <code>.set_start_patch()</code>, <code>.set_end_patch()</code>. 5.  Assemble everything in a <code>cb.Mesh()</code> object and write <code>blockMeshDict</code>:</p> <pre><code># Example usage\nmesh = cb.Mesh()\n# ... add shapes ...\nmesh.set_default_patch(\"walls\", \"wall\")\nmesh.write(current_path / \"system\" / \"blockMeshDict\", current_path /\"debug.vtk\")\n</code></pre>"},{"location":"user_documentation/#22-unstructured-meshing-with-gmsh-for-step","title":"2.2. Unstructured Meshing with <code>gmsh</code> (for STEP)","text":"<p>For CAD geometries in STEP format:</p> <ol> <li>Ensure the STEP file is available (e.g., <code>geometry.step</code>).</li> <li>Initialize a <code>Meshing</code> object with <code>mesher=\"gmsh\"</code>.</li> <li>Run the meshing process with the STEP file path:</li> </ol> <pre><code>mesh_obj = Meshing(current_path, mesher=\"gmsh\")\nmesh_obj.mesher.run(current_path / \"geometry.step\")\n</code></pre>"},{"location":"user_documentation/#23-surface-meshing-with-snappyhexmesh-for-stl","title":"2.3. Surface Meshing with <code>snappyHexMesh</code> (for STL)","text":"<p>For complex STL geometries:</p> <ol> <li>Create a simple <code>blockMeshDict</code> (via <code>classy_blocks</code> or manually) for the encompassing domain.</li> <li>Place the STL file in <code>constant/triSurface</code>.</li> <li>Initialize <code>Meshing</code> with <code>mesher=\"snappyHexMesh\"</code>.</li> <li>Run the meshing. <code>foampilot</code> manages <code>snappyHexMesh</code> configuration and execution:</li> </ol> <pre><code>mesh_obj = Meshing(current_path, mesher=\"snappyHexMesh\")\nmesh_obj.mesher.run()\n</code></pre> <p>Note: Detailed <code>snappyHexMeshDict</code> configuration (refinement levels, boundary layers) must be handled by the user or via advanced <code>foampilot</code> functions if available.</p>"},{"location":"user_documentation/#3-solver-selection-and-physics","title":"3. Solver Selection and Physics","text":"<p>Solver selection determines how <code>foampilot</code> handles simulation physics. The <code>Solver</code> class configures the case, and the appropriate OpenFOAM solver is selected and executed in the background.</p>"},{"location":"user_documentation/#31-solver-selection","title":"3.1. Solver Selection","text":"<p>Implicit solver selection is done by configuring the <code>Solver</code> object:</p> <pre><code>from foampilot.solver import Solver\n\nsolver = Solver(current_path)\nsolver.compressible = False   # Incompressible simulation\nsolver.with_gravity = False   # No gravity\n# ... other properties: turbulence, multiphase, etc.\n</code></pre> <p>Based on these properties, <code>foampilot</code> configures <code>controlDict</code> and other dictionaries to use the most appropriate OpenFOAM solver (e.g., <code>simpleFoam</code> or <code>pimpleFoam</code> for incompressible, <code>rhoSimpleFoam</code> for compressible).</p> Physics <code>Solver</code> Property Typical OpenFOAM Solver Incompressible <code>solver.compressible = False</code> <code>incompressibleFluid</code> (internal <code>foampilot</code> solver) Compressible <code>solver.compressible = True</code> <code>compressibleFluid</code> (internal <code>foampilot</code> solver) Transient <code>solver.transient = True</code> (handles transient settings) Turbulence <code>solver.turbulence_model = \"kEpsilon\"</code> (configures turbulence models) Multiphase (VOF) <code>solver.is_vof = True</code> <code>incompressibleVoF</code> or <code>compressibleVoF</code> (internal <code>foampilot</code> solvers) Solid (Displacement) <code>solver.is_solid = True</code> <code>solidDisplacement</code> (internal <code>foampilot</code> solver) Energy (Thermal) <code>solver.energy_activated = True</code> (enables thermal fields)"},{"location":"user_documentation/#32-boundary-conditions","title":"3.2. Boundary Conditions","text":"<p>Boundary conditions (BCs) are managed via <code>solver.boundary</code>, applied to patches created during meshing.</p> <pre><code>solver.boundary.initialize_boundary()\n\n# Inlet velocity\nsolver.boundary.apply_condition_with_wildcard(\n    pattern=\"inlet\",\n    condition_type=\"velocityInlet\",\n    velocity=(Quantity(10, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")),\n    turbulence_intensity=0.05\n)\n\n# Outlet pressure\nsolver.boundary.apply_condition_with_wildcard(\n    pattern=\"outlet\",\n    condition_type=\"pressureOutlet\"\n)\n\n# Wall\nsolver.boundary.apply_condition_with_wildcard(\n    pattern=\"walls\",\n    condition_type=\"wall\"\n)\n\nsolver.boundary.write_boundary_conditions()\n</code></pre> <code>condition_type</code> Description Typical Fields <code>fixedValue</code> Imposed fixed value (e.g., temperature). <code>T</code>, <code>C</code> <code>zeroGradient</code> Zero normal gradient (Neumann). <code>p</code>, <code>T</code>, <code>U</code> <code>velocityInlet</code> Inlet velocity with turbulence parameters. <code>U</code>, <code>k</code>, <code>epsilon</code> <code>pressureOutlet</code> Fixed or zero-gradient pressure. <code>p</code> <code>wall</code> Solid wall (no-slip, zero heat flux by default). <code>U</code>, <code>T</code> <code>symmetryPlane</code> Symmetry plane. <code>U</code>, <code>p</code>, <code>T</code>"},{"location":"user_documentation/#33-modifying-dictionaries-or-adding-a-patch","title":"3.3. Modifying Dictionaries or Adding a Patch","text":"<p>OpenFOAM dictionaries are exposed as Python objects:</p> <pre><code>from foampilot.utilities.manageunits import Quantity\n\nsolver.constant.transportProperties.nu = Quantity(1e-6, \"m2/s\")\nsolver.system.controlDict.writeInterval = 100\nsolver.system.controlDict.endTime = 1000\n</code></pre> <p>System files managed by <code>foampilot</code> include: <code>controlDict</code>, <code>fvSchemes</code>, <code>fvSolution</code>, <code>decomposeParDict</code>, plus custom dictionaries.</p> <pre><code>solver.constant.write()\nsolver.system.write()\n</code></pre> <p>Adding a patch:</p> <ul> <li>With <code>blockMesh</code>:</li> </ul> <pre><code>shapes[-1].set_end_patch(\"newPatch\")\n</code></pre> <ul> <li>With <code>gmsh</code> or <code>snappyHexMesh</code>: defined in mesh configuration files. Apply BCs afterward.</li> </ul>"},{"location":"user_documentation/#4-system-and-constant-setup-with-pyfluid","title":"4. <code>system</code> and <code>constant</code> Setup with <code>pyfluid</code>","text":"<p><code>pyfluid</code> (or <code>FluidMechanics</code> from <code>foampilot.utilities.fluids_theory</code>) defines physical fluid properties and constants.</p> <pre><code>from foampilot.utilities.fluids_theory import FluidMechanics\nfrom foampilot.utilities.manageunits import Quantity\n\nfluid_mech = FluidMechanics(\n    FluidMechanics.get_available_fluids()['Water'],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\n\nproperties = fluid_mech.get_fluid_properties()\nsolver.constant.transportProperties.nu = properties['kinematic_viscosity']\n\nsolver.system.write()\nsolver.constant.write()\n</code></pre> <p><code>constant</code> files managed: <code>transportProperties</code>, <code>physicalProperties</code>, <code>turbulenceProperties</code>, <code>g</code>, <code>pRef</code>, <code>radiationProperties</code>, <code>fvModels</code>.</p>"},{"location":"user_documentation/#5-running-the-solver","title":"5. Running the Solver","text":"<pre><code>solver.run_simulation()\n</code></pre> <p>Parallel execution:</p> <pre><code>solver.decompose_domain(cores=4)\nsolver.run_simulation(parallel=True)\nsolver.reconstruct_domain()\n</code></pre>"},{"location":"user_documentation/#6-post-processing-with-pyvista","title":"6. Post-Processing with <code>pyvista</code>","text":"<pre><code>from foampilot import postprocess\nimport pyvista as pv\n\nfoam_post = postprocess.FoamPostProcessing(case_path=current_path)\nfoam_post.foamToVTK()\nlatest_time_step = foam_post.get_all_time_steps()[-1]\nstructure = foam_post.load_time_step(latest_time_step)\ncell_mesh = structure[\"cell\"]\n\npl_contour = pv.Plotter(off_screen=True)\npl_contour.add_mesh(cell_mesh, scalars='p', show_scalar_bar=True)\nfoam_post.export_plot(pl_contour, current_path / \"contour_plot.png\")\n</code></pre> <p>Capabilities include slices, contours, vector plots, vortex analysis, mesh statistics, and exporting data.</p>"},{"location":"user_documentation/#7-latex-reporting-with-latex_pdf","title":"7. LaTeX Reporting with <code>latex_pdf</code>","text":"<p><code>latex_pdf</code> generates structured PDF reports from Python:</p> <pre><code>doc = latex_pdf.LatexDocument(\n    title=\"Simulation Report: Muffler Flow Case\",\n    author=\"Automated Report\",\n    filename=\"simulation_report\",\n    output_dir=current_path\n)\n\ndoc.add_table(mesh_table_data, headers=[\"Statistic\", \"Value\"], caption=\"Mesh Quality Statistics\")\n\nfor img_name in [\"slice_plot.png\", \"contour_plot.png\"]:\n    img_path = current_path / img_name\n    if img_path.exists():\n        doc.add_figure(str(img_path), caption=img_name.replace(\"_\", \" \").title(), width=\"0.7\\\\textwidth\")\n\ndoc.generate_document(output_format=\"pdf\")\n</code></pre> <p>This ensures full traceability and reproducibility of simulation results.</p>"},{"location":"dev/dev_detailed_documentation/","title":"Modules d\u00e9tail\u00e9s de FoamPilot","text":"<ul> <li>Architecture du module</li> <li>foampilot.base</li> <li>foampilot.boundaries</li> <li>foampilot.commons</li> <li>foampilot.constant</li> <li>foampilot.mesh</li> <li>foampilot.postprocess</li> <li>foampilot.report</li> <li>foampilot.solver</li> <li>foampilot.system</li> <li>foampilot.utilities</li> <li>Installation</li> <li>Utilisation</li> <li>Exemples</li> <li>Am\u00e9liorations et Contributions</li> </ul>"},{"location":"dev/dev_detailed_documentation/#introduction","title":"Introduction","text":"<p><code>foampilot</code> est une plateforme Python qui simplifie et automatise le processus de configuration, d'ex\u00e9cution et de post-traitement des simulations OpenFOAM. Elle permet aux utilisateurs de d\u00e9finir l'int\u00e9gralit\u00e9 de leur workflow de simulation en Python, offrant une reproductibilit\u00e9 accrue et un gain de temps significatif.</p>"},{"location":"dev/dev_detailed_documentation/#architecture-du-module","title":"Architecture du module","text":"<p>Le module <code>foampilot</code> est structur\u00e9 en plusieurs sous-modules, chacun g\u00e9rant un aspect sp\u00e9cifique du workflow OpenFOAM.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotbase","title":"foampilot.base","text":"<p>Ce sous-module contient les classes de base pour la gestion des fichiers OpenFOAM et les op\u00e9rations de maillage.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotboundaries","title":"foampilot.boundaries","text":"<p>G\u00e8re la d\u00e9finition et la manipulation des conditions aux limites.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotcommons","title":"foampilot.commons","text":"<p>Contient des utilitaires communs, notamment pour la lecture des fichiers de maillage.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotconstant","title":"foampilot.constant","text":"<p>G\u00e8re le r\u00e9pertoire <code>constant</code> d'OpenFOAM, y compris les propri\u00e9t\u00e9s de transport et de turbulence.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotmesh","title":"foampilot.mesh","text":"<p>Contient les classes pour la cr\u00e9ation et la gestion des maillages, notamment <code>blockMesh</code>.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotpostprocess","title":"foampilot.postprocess","text":"<p>Fournit des outils pour le post-traitement des r\u00e9sultats de simulation, y compris la visualisation avec PyVista.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotreport","title":"foampilot.report","text":"<p>G\u00e8re la g\u00e9n\u00e9ration de rapports automatiques, par exemple au format PDF.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotsolver","title":"foampilot.solver","text":"<p>Contient les classes pour l'ex\u00e9cution des solveurs OpenFOAM, comme <code>incompressibleFluid</code>.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotsystem","title":"foampilot.system","text":"<p>G\u00e8re le r\u00e9pertoire <code>system</code> d'OpenFOAM, y compris les fichiers <code>controlDict</code>, <code>fvSchemes</code> et <code>fvSolution</code>.</p>"},{"location":"dev/dev_detailed_documentation/#foampilotutilities","title":"foampilot.utilities","text":"<p>Ce sous-module regroupe diverses fonctions utilitaires.</p>"},{"location":"dev/dev_detailed_documentation/#installation","title":"Installation","text":"<p>Pour installer <code>foampilot</code>, clonez le d\u00e9p\u00f4t GitHub et installez les d\u00e9pendances n\u00e9cessaires :</p> <pre><code>git clone https://github.com/stevendaix/foampilot.git\ncd foampilot\npip install -r requirements.txt # (Assurez-vous que ce fichier existe ou cr\u00e9ez-le)\n</code></pre>"},{"location":"dev/dev_detailed_documentation/#utilisation","title":"Utilisation","text":"<p>(Cette section sera compl\u00e9t\u00e9e avec des exemples de code et des explications d\u00e9taill\u00e9es sur l'utilisation des diff\u00e9rentes classes et fonctions du module.)</p>"},{"location":"dev/dev_detailed_documentation/#exemples","title":"Exemples","text":"<p>(Cette section pr\u00e9sentera des exemples concrets d'utilisation du module pour des cas de simulation typiques.)</p>"},{"location":"dev/dev_detailed_documentation/#ameliorations-et-contributions","title":"Am\u00e9liorations et Contributions","text":"<p>(Cette section d\u00e9crira comment contribuer au projet et les am\u00e9liorations futures envisag\u00e9es.)</p>"},{"location":"dev/dev_detailed_documentation/#foampilotbasemeshingmeshing","title":"<code>foampilot.base.meshing.Meshing</code>","text":"<p>La classe <code>Meshing</code> g\u00e8re le processus de maillage pour un cas OpenFOAM. Elle permet de configurer et d'ex\u00e9cuter <code>blockMesh</code>.</p> <p>Constructeur:</p> <pre><code>Meshing(path_case)\n</code></pre> <ul> <li><code>path_case</code> (str ou Path): Le chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>add_file(file_name, file_content)</code>:   Ajoute un fichier additionnel au processus de maillage.</li> <li><code>file_name</code> (str): Le nom du fichier \u00e0 ajouter.</li> <li> <p><code>file_content</code> (dict): Le contenu du fichier.</p> </li> <li> <p><code>load_from_json(json_path)</code>:   Charge la configuration du maillage \u00e0 partir d'un fichier JSON et met \u00e0 jour <code>blockMeshDict</code>.</p> </li> <li> <p><code>json_path</code> (str ou Path): Le chemin vers le fichier JSON.</p> </li> <li> <p><code>write()</code>:   \u00c9crit les fichiers dans leurs r\u00e9pertoires respectifs au sein du r\u00e9pertoire <code>system</code>.</p> </li> <li> <p><code>run_blockMesh()</code>:   Ex\u00e9cute la commande <code>blockMesh</code> dans le chemin du cas sp\u00e9cifi\u00e9 et enregistre la sortie.</p> </li> <li>L\u00e8ve: <code>FileNotFoundError</code>, <code>NotADirectoryError</code>, <code>RuntimeError</code> en cas d'\u00e9chec.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotbaseopenfoamfileopenfoamfile","title":"<code>foampilot.base.openFOAMFile.OpenFOAMFile</code>","text":"<p><code>OpenFOAMFile</code> est une classe de base pour la cr\u00e9ation et la gestion des fichiers de configuration OpenFOAM. Elle g\u00e8re l'en-t\u00eate standard <code>FoamFile</code> et l'\u00e9criture des attributs.</p> <p>Constructeur:</p> <pre><code>OpenFOAMFile(object_name, **attributes)\n</code></pre> <ul> <li><code>object_name</code> (str): Le nom de l'objet pour l'en-t\u00eate du fichier OpenFOAM.</li> <li><code>**attributes</code>: Arguments mots-cl\u00e9s arbitraires repr\u00e9sentant les attributs sp\u00e9cifiques du fichier.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>write(filepath)</code>:   \u00c9crit le contenu du fichier OpenFOAM dans le chemin sp\u00e9cifi\u00e9.</li> <li><code>filepath</code> (str ou Path): Le chemin vers le fichier \u00e0 \u00e9crire.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotboundariesboundaries_dictboundary","title":"<code>foampilot.boundaries.boundaries_dict.Boundary</code>","text":"<p>La classe <code>Boundary</code> g\u00e8re les conditions aux limites pour les simulations OpenFOAM. Elle permet de d\u00e9finir et de manipuler les conditions aux limites pour divers champs (vitesse, pression, param\u00e8tres de turbulence).</p> <p>Constructeur:</p> <pre><code>Boundary(parent, turbulence_model=\"kEpsilon\")\n</code></pre> <ul> <li><code>parent</code>: L'objet parent du cas OpenFOAM.</li> <li><code>turbulence_model</code> (str): Le mod\u00e8le de turbulence \u00e0 utiliser (par d\u00e9faut : \"kEpsilon\").</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>load_boundary_names(case_path)</code>:   Charge les noms et types des limites \u00e0 partir du fichier <code>polyMesh/boundary</code>.</li> <li><code>case_path</code> (Path): Le chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> <li>Retourne: Un dictionnaire mappant les noms des patchs \u00e0 leurs types.</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code> si le fichier de limites n'existe pas.</p> </li> <li> <p><code>initialize_boundary()</code>:   Initialise les champs de limites avec les noms des patchs et applique automatiquement les conditions de paroi.</p> </li> <li> <p><code>apply_condition_with_wildcard(field, pattern, condition)</code>:   Applique une condition \u00e0 toutes les limites correspondant \u00e0 un motif.</p> </li> <li><code>field</code>: Le champ auquel appliquer la condition (par exemple, \"U\", \"p\").</li> <li><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re pour faire correspondre les noms des limites.</li> <li> <p><code>condition</code>: Dictionnaire contenant les param\u00e8tres de la condition aux limites.</p> </li> <li> <p><code>set_velocity_inlet(pattern, velocity, turbulence_intensity=None)</code>:   D\u00e9finit une condition aux limites d'entr\u00e9e de vitesse.</p> </li> <li><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</li> <li><code>velocity</code>: Tuple de 3 objets <code>Quantity</code> (u, v, w) repr\u00e9sentant les composantes de vitesse.</li> <li><code>turbulence_intensity</code> (float, optionnel): Intensit\u00e9 de turbulence entre 0 et 1.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si les unit\u00e9s de vitesse sont incorrectes.</p> </li> <li> <p><code>set_pressure_inlet(pattern, pressure, turbulence_intensity=None)</code>:   D\u00e9finit une condition aux limites d'entr\u00e9e de pression.</p> </li> <li><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</li> <li><code>pressure</code>: Valeur de pression en tant qu'objet <code>Quantity</code>.</li> <li><code>turbulence_intensity</code> (float, optionnel): Intensit\u00e9 de turbulence entre 0 et 1.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si les unit\u00e9s de pression sont incorrectes.</p> </li> <li> <p><code>set_pressure_outlet(pattern, velocity)</code>:   D\u00e9finit une condition aux limites de sortie de pression.</p> </li> <li><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</li> <li> <p><code>velocity</code>: Tuple de 3 objets <code>Quantity</code> (u, v, w) repr\u00e9sentant les composantes de vitesse.</p> </li> <li> <p><code>set_mass_flow_inlet(pattern, mass_flow_rate, density)</code>:   D\u00e9finit une condition aux limites d'entr\u00e9e de d\u00e9bit massique.</p> </li> <li><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</li> <li><code>mass_flow_rate</code>: D\u00e9bit massique en tant qu'objet <code>Quantity</code>.</li> <li><code>density</code>: Densit\u00e9 en tant qu'objet <code>Quantity</code>.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si les unit\u00e9s sont incorrectes.</p> </li> <li> <p><code>set_wall(pattern, friction=True, velocity=None)</code>:   D\u00e9finit une condition aux limites de paroi.</p> </li> <li><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</li> <li><code>friction</code> (bool): Si <code>True</code> (par d\u00e9faut), utilise la condition de non-glissement. Si <code>False</code>, utilise la condition de glissement.</li> <li> <p><code>velocity</code> (tuple, optionnel): Tuple de 3 objets <code>Quantity</code> pour une paroi \u00e0 vitesse fixe.</p> </li> <li> <p><code>set_symmetry(pattern)</code>:   D\u00e9finit une condition aux limites de sym\u00e9trie (vide).</p> </li> <li> <p><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</p> </li> <li> <p><code>set_no_friction_wall(pattern)</code>:   D\u00e9finit une condition aux limites de paroi sans frottement (glissement).</p> </li> <li> <p><code>pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</p> </li> <li> <p><code>get_wall_function(field, vel_cond)</code>:   Obtient la fonction de paroi appropri\u00e9e pour un champ donn\u00e9.</p> </li> <li><code>field</code> (str): Le nom du champ (\"k\", \"epsilon\" ou \"omega\").</li> <li><code>vel_cond</code> (bool): Indique si une condition de vitesse est appliqu\u00e9e.</li> <li> <p>Retourne: Un dictionnaire contenant les param\u00e8tres de la fonction de paroi.</p> </li> <li> <p><code>set_uniform_normal_fixed_value_all_fields(patch_pattern, mode=\"intakeType3\", ref_value=1.2)</code>:   D\u00e9finit la condition <code>uniformNormalFixedValue</code> ou <code>surfaceNormalFixedValue</code> sur tous les champs.</p> </li> <li><code>patch_pattern</code>: Motif d'expression r\u00e9guli\u00e8re.</li> <li><code>mode</code> (str): Type de condition \u00e0 appliquer.</li> <li><code>ref_value</code> (float): Valeur de r\u00e9f\u00e9rence pour la condition.</li> <li>L\u00e8ve: <code>ValueError</code> si le mode est invalide.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotcommonsread_polymeshboundaryfilehandler","title":"<code>foampilot.commons.read_polymesh.BoundaryFileHandler</code>","text":"<p>La classe <code>BoundaryFileHandler</code> g\u00e8re les fichiers <code>boundary</code> d'OpenFOAM situ\u00e9s dans <code>constant/polyMesh/</code>. Elle fournit des utilitaires pour analyser, mettre \u00e0 jour et \u00e9crire le dictionnaire <code>boundary</code> qui d\u00e9finit les patchs de maillage dans OpenFOAM.</p> <p>Constructeur:</p> <pre><code>BoundaryFileHandler(base_path, all_data=False)\n</code></pre> <ul> <li><code>base_path</code> (str ou Path): Chemin vers le r\u00e9pertoire racine du cas OpenFOAM (doit contenir <code>constant/polyMesh/boundary</code>).</li> <li><code>all_data</code> (bool, optionnel): Si <code>True</code>, tous les attributs des patchs sont extraits (nFaces, startFace, etc.). Par d\u00e9faut \u00e0 <code>False</code>.</li> <li>L\u00e8ve: <code>FileNotFoundError</code> si le fichier <code>boundary</code> n'existe pas.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>comment_remover(text)</code>:   Supprime les commentaires de ligne (<code>//</code>) et de bloc (<code>/* */</code>) d'un texte tout en pr\u00e9servant les litt\u00e9raux de cha\u00eene.</li> <li><code>text</code> (str): Texte d'entr\u00e9e duquel les commentaires doivent \u00eatre supprim\u00e9s.</li> <li> <p>Retourne: Le texte avec les commentaires supprim\u00e9s.</p> </li> <li> <p><code>parse_boundary_file(all_data)</code>:   Analyse un fichier <code>boundary</code> d'OpenFOAM et extrait les patchs.</p> </li> <li><code>all_data</code> (bool): Si <code>True</code>, extrait les attributs d\u00e9taill\u00e9s des patchs.</li> <li> <p>Retourne: Un dictionnaire contenant les patchs et leurs attributs.</p> </li> <li> <p><code>write_boundary_file(data=None)</code>:   \u00c9crit les donn\u00e9es de patch dans le fichier <code>boundary</code> d'OpenFOAM.</p> </li> <li> <p><code>data</code> (dict, optionnel): Dictionnaire contenant les donn\u00e9es de patch \u00e0 \u00e9crire. Si <code>None</code>, utilise <code>self.data</code>.</p> </li> <li> <p><code>update_patch(patch_name, patch_data)</code>:   Met \u00e0 jour ou ajoute un patch dans les donn\u00e9es de limite.</p> </li> <li><code>patch_name</code> (str): Nom du patch \u00e0 mettre \u00e0 jour ou \u00e0 ajouter.</li> <li><code>patch_data</code> (dict): Dictionnaire d'attributs pour le patch.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotconstantconstantdirectoryconstantdirectory","title":"<code>foampilot.constant.constantDirectory.ConstantDirectory</code>","text":"<p>La classe <code>ConstantDirectory</code> repr\u00e9sente le r\u00e9pertoire <code>constant</code> dans un cas OpenFOAM, qui contient des fichiers tels que <code>transportProperties</code> et <code>turbulenceProperties</code>.</p> <p>Constructeur:</p> <pre><code>ConstantDirectory(parent)\n</code></pre> <ul> <li><code>parent</code>: L'objet parent du cas OpenFOAM.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>write()</code>:   \u00c9crit les fichiers \u00e0 leurs emplacements respectifs dans le r\u00e9pertoire <code>constant</code>.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotconstanttransportpropertiesfiletransportpropertiesfile","title":"<code>foampilot.constant.transportPropertiesFile.TransportPropertiesFile</code>","text":"<p>La classe <code>TransportPropertiesFile</code> repr\u00e9sente le fichier de configuration OpenFOAM <code>transportProperties</code>. Ce fichier d\u00e9finit le mod\u00e8le de transport et les propri\u00e9t\u00e9s du fluide, telles que la viscosit\u00e9, n\u00e9cessaires aux simulations CFD.</p> <p>Constructeur:</p> <pre><code>TransportPropertiesFile(transportModel=\"Newtonian\", nu=\"1e-05\")\n</code></pre> <ul> <li><code>transportModel</code> (str, optionnel): Le mod\u00e8le de transport utilis\u00e9 dans la simulation (par d\u00e9faut : <code>\"Newtonian\"</code>).</li> <li><code>nu</code> (str, optionnel): La viscosit\u00e9 cin\u00e9matique (m\u00b2/s) sous forme de cha\u00eene de caract\u00e8res (par d\u00e9faut : <code>\"1e-05\"</code>).</li> </ul> <p>Notes:</p> <ul> <li>Cette classe h\u00e9rite de <code>foampilot.base.openFOAMFile.OpenFOAMFile</code>.</li> <li>Les param\u00e8tres sont stock\u00e9s au format dictionnaire OpenFOAM.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotconstantturbulencepropertiesfileturbulencepropertiesfile","title":"<code>foampilot.constant.turbulencePropertiesFile.TurbulencePropertiesFile</code>","text":"<p>La classe <code>TurbulencePropertiesFile</code> repr\u00e9sente un fichier de configuration OpenFOAM <code>turbulenceProperties</code>. Cette classe permet de configurer les mod\u00e8les de turbulence, le type de simulation et les param\u00e8tres associ\u00e9s.</p> <p>Attributs:</p> <ul> <li><code>AVAILABLE_MODELS</code> (dict): Dictionnaire mappant les noms de mod\u00e8les conviviaux aux codes OpenFOAM internes.</li> </ul> <p>Constructeur:</p> <pre><code>TurbulencePropertiesFile(simulationType=\"RAS\", RASModel=\"k-epsilon\", turbulence=\"on\", printCoeffs=\"on\")\n</code></pre> <ul> <li><code>simulationType</code> (str, optionnel): Le type de simulation de turbulence (par d\u00e9faut : <code>\"RAS\"</code>).</li> <li><code>RASModel</code> (str, optionnel): Le mod\u00e8le de turbulence \u00e0 utiliser. Doit \u00eatre dans <code>AVAILABLE_MODELS</code> ou un mod\u00e8le personnalis\u00e9 (par d\u00e9faut : <code>\"k-epsilon\"</code>).</li> <li><code>turbulence</code> (str, optionnel): Indique si la turbulence est activ\u00e9e (<code>\"on\"</code>/<code>\"off\"</code>) (par d\u00e9faut : <code>\"on\"</code>).</li> <li><code>printCoeffs</code> (str, optionnel): Indique s'il faut imprimer les coefficients du mod\u00e8le (<code>\"on\"</code>/<code>\"off\"</code>) (par d\u00e9faut : <code>\"on\"</code>).</li> </ul> <p>M\u00e9thodes de classe:</p> <ul> <li><code>add_turbulence_model(model_name, model_code)</code>:   Ajoute un nouveau mod\u00e8le de turbulence au dictionnaire des mod\u00e8les disponibles.</li> <li><code>model_name</code> (str): Nom convivial pour le mod\u00e8le.</li> <li><code>model_code</code> (str): Code interne pour le mod\u00e8le dans OpenFOAM.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotmeshblockmeshfileblockmeshfile","title":"<code>foampilot.mesh.BlockMeshFile.BlockMeshFile</code>","text":"<p>La classe <code>BlockMeshFile</code> repr\u00e9sente le fichier <code>blockMeshDict</code> dans OpenFOAM. Elle permet de construire, modifier et exporter ce fichier qui d\u00e9finit la topologie du maillage pour les simulations OpenFOAM.</p> <p>Attributs:</p> <ul> <li><code>scale</code> (float): Facteur d'\u00e9chelle appliqu\u00e9 au maillage.</li> <li><code>vertices</code> (list de listes): Liste des coordonn\u00e9es des sommets (x, y, z).</li> <li><code>blocks</code> (list): Liste des d\u00e9finitions de blocs.</li> <li><code>edges</code> (list): Liste des d\u00e9finitions d'ar\u00eates.</li> <li><code>defaultPatch</code> (dict): D\u00e9finition du patch par d\u00e9faut.</li> <li><code>boundary</code> (dict): Dictionnaire des patchs de limite et de leurs conditions.</li> <li><code>mergePatchPairs</code> (list de tuples): Liste des paires de patchs \u00e0 fusionner.</li> </ul> <p>Constructeur:</p> <pre><code>BlockMeshFile(scale=1, vertices=None, blocks=None, edges=None, defaultPatch=None, boundary=None, mergePatchPairs=None)\n</code></pre> <ul> <li><code>scale</code> (float, optionnel): Facteur d'\u00e9chelle du maillage (par d\u00e9faut : 1).</li> <li><code>vertices</code> (list de listes, optionnel): Liste des sommets, chacun sous la forme <code>[x, y, z]</code> (par d\u00e9faut : liste vide).</li> <li><code>blocks</code> (list, optionnel): Liste des d\u00e9finitions de blocs (par d\u00e9faut : liste vide).</li> <li><code>edges</code> (list, optionnel): Liste des ar\u00eates (par d\u00e9faut : liste vide).</li> <li><code>defaultPatch</code> (dict, optionnel): D\u00e9finition du patch par d\u00e9faut (par d\u00e9faut : dictionnaire vide).</li> <li><code>boundary</code> (dict, optionnel): D\u00e9finitions des limites, par exemple <code>{\"inlet\": {\"type\": \"patch\", \"faces\": [...]}}</code>.</li> <li><code>mergePatchPairs</code> (list de tuples, optionnel): Liste des paires de patchs \u00e0 fusionner (par d\u00e9faut : liste vide).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>load_from_json(json_path)</code>:   Charge une configuration <code>blockMeshDict</code> \u00e0 partir d'un fichier JSON.</li> <li><code>json_path</code> (str): Chemin vers le fichier de configuration JSON.</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code> si le fichier JSON n'existe pas, <code>KeyError</code> si la structure du fichier JSON est invalide ou si des cl\u00e9s requises sont manquantes.</p> </li> <li> <p><code>write(file_path)</code>:   \u00c9crit le contenu de <code>blockMeshDict</code> dans un fichier.</p> </li> <li><code>file_path</code> (Path): Chemin de destination du fichier <code>blockMeshDict</code>.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotmeshtest_snappymeshstlanalyzer","title":"<code>foampilot.mesh.test_snappymesh.STLAnalyzer</code>","text":"<p>La classe <code>STLAnalyzer</code> est con\u00e7ue pour analyser les fichiers STL, extraire des informations g\u00e9om\u00e9triques et pr\u00e9parer les donn\u00e9es pour le maillage.</p> <p>Constructeur:</p> <pre><code>STLAnalyzer(filename)\n</code></pre> <ul> <li><code>filename</code> (Path): Chemin vers le fichier STL.</li> </ul> <p>Attributs:</p> <ul> <li><code>filename</code> (Path): Chemin vers le fichier STL.</li> <li><code>mesh</code> (pv.PolyData): Objet maillage PyVista repr\u00e9sentant le contenu du fichier STL.</li> <li><code>reader</code> (pyvista.reader): L'objet lecteur utilis\u00e9 pour lire le fichier STL.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>load()</code>:   Charge le maillage \u00e0 partir du fichier STL.</li> <li> <p>Retourne: <code>pv.PolyData</code> : Objet maillage PyVista.</p> </li> <li> <p><code>get_max_dim()</code>:   Retourne la dimension maximale du maillage STL bas\u00e9e sur la bo\u00eete englobante.</p> </li> <li> <p>Retourne: <code>float</code> : Dimension maximale.</p> </li> <li> <p><code>get_min_dim()</code>:   Retourne la dimension minimale du maillage STL bas\u00e9e sur la bo\u00eete englobante.</p> </li> <li> <p>Retourne: <code>float</code> : Dimension minimale.</p> </li> <li> <p><code>calc_domain_size(sizeFactor=1.0)</code>:   Calcule la taille du domaine bas\u00e9e sur la bo\u00eete englobante STL et un facteur de taille.</p> </li> <li><code>sizeFactor</code> (float): Facteur pour redimensionner le domaine.</li> <li> <p>Retourne: <code>tuple</code> : Taille du domaine dans chaque dimension.</p> </li> <li> <p><code>get_info()</code>:   Obtient des informations sur le maillage, y compris les dimensions max/min et la taille du domaine.</p> </li> <li>Retourne: <code>dict</code> : Dictionnaire contenant des informations sur le maillage.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas \u00e9t\u00e9 charg\u00e9.</p> </li> <li> <p><code>extract_features()</code>:   Ex\u00e9cute <code>surfaceFeatureExtract</code> pour g\u00e9n\u00e9rer le fichier <code>.eMesh</code> avec les caract\u00e9ristiques des ar\u00eates.</p> </li> <li> <p><code>get_center_of_mass()</code>:   Calcule le centre de masse du maillage STL.</p> </li> <li>Retourne: <code>tuple</code> : Coordonn\u00e9es du centre de masse (x, y, z).</li> <li>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas \u00e9t\u00e9 charg\u00e9.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotmeshtest_snappymeshsnappyhexmesh","title":"<code>foampilot.mesh.test_snappymesh.SnappyHexMesh</code>","text":"<p>La classe <code>SnappyHexMesh</code> est utilis\u00e9e pour configurer et g\u00e9n\u00e9rer le fichier <code>snappyHexMeshDict</code> bas\u00e9 sur la g\u00e9om\u00e9trie STL.</p> <p>Constructeur:</p> <pre><code>SnappyHexMesh(base_path, stl_file, castellatedMesh=True, snap=True, addLayers=False)\n</code></pre> <ul> <li><code>base_path</code> (Path): Chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> <li><code>stl_file</code> (Path): Chemin vers le fichier de g\u00e9om\u00e9trie STL.</li> <li><code>castellatedMesh</code> (bool): Active la structure de maillage <code>castellated</code> initiale (par d\u00e9faut : <code>True</code>).</li> <li><code>snap</code> (bool): Active la projection du maillage sur la surface STL (par d\u00e9faut : <code>True</code>).</li> <li><code>addLayers</code> (bool): Active l'ajout de couches limites (par d\u00e9faut : <code>False</code>).</li> </ul> <p>Attributs:</p> <ul> <li><code>base_path</code> (Path): Chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> <li><code>stl_file</code> (Path): Chemin vers le fichier STL.</li> <li><code>snappy_hex_mesh_dict_path</code> (Path): Chemin vers le fichier <code>snappyHexMeshDict</code>.</li> <li><code>locationInMesh</code> (tuple): Coordonn\u00e9es d'un point \u00e0 l'int\u00e9rieur du maillage.</li> <li><code>castellatedMesh</code> (bool): Indique si le maillage <code>castellated</code> est activ\u00e9.</li> <li><code>snap</code> (bool): Indique si le <code>snap</code> est activ\u00e9.</li> <li><code>addLayers</code> (bool): Indique si l'ajout de couches est activ\u00e9.</li> <li><code>geometry</code> (dict): D\u00e9finition de la g\u00e9om\u00e9trie pour <code>snappyHexMesh</code>.</li> <li><code>castellatedMeshControls</code> (dict): Contr\u00f4les pour le maillage <code>castellated</code>.</li> <li><code>snapControls</code> (dict): Contr\u00f4les pour l'\u00e9tape de <code>snap</code>.</li> <li><code>addLayersControls</code> (dict): Contr\u00f4les pour l'ajout de couches limites.</li> <li><code>meshQualityControls</code> (dict): Contr\u00f4les de qualit\u00e9 du maillage.</li> <li><code>debugFlags</code> (list): Drapeaux de d\u00e9bogage.</li> <li><code>writeFlags</code> (list): Drapeaux d'\u00e9criture.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>add_feature(feature_file, level)</code>:   Ajoute un fichier d'ar\u00eates de caract\u00e9ristique (extrait avec <code>surfaceFeatureExtract</code>) pour affiner les ar\u00eates de la g\u00e9om\u00e9trie.</li> <li><code>feature_file</code> (str): Chemin vers le fichier <code>.eMesh</code>.</li> <li> <p><code>level</code> (int): Niveau de raffinement pour les caract\u00e9ristiques d'ar\u00eates.</p> </li> <li> <p><code>add_refinement_region(name, mode, levels)</code>:   Ajoute une r\u00e9gion de raffinement sp\u00e9cifique.</p> </li> <li><code>name</code> (str): Nom de la r\u00e9gion dans la g\u00e9om\u00e9trie.</li> <li><code>mode</code> (str): Mode de raffinement (par exemple, <code>'inside'</code>, <code>'outside'</code>).</li> <li> <p><code>levels</code> (tuple): Niveaux de raffinement pour la r\u00e9gion (par exemple, <code>((1, 2))</code>).</p> </li> <li> <p><code>add_layer(surface, n_surface_layers)</code>:   D\u00e9finit le nombre de couches de maillage autour d'une surface sp\u00e9cifique.</p> </li> <li><code>surface</code> (str): Nom de la surface.</li> <li> <p><code>n_surface_layers</code> (int): Nombre de couches de surface.</p> </li> <li> <p><code>write_snappyHexMeshDict()</code>:   G\u00e9n\u00e8re le fichier <code>snappyHexMeshDict</code> avec les options d\u00e9finies pour <code>snappyHexMesh</code>.</p> </li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotpostprocessopenfoam_pyvistafoampostprocessing","title":"<code>foampilot.postprocess.openfoam_pyvista.FoamPostProcessing</code>","text":"<p>La classe <code>FoamPostProcessing</code> est une classe de post-traitement pour les cas OpenFOAM. Elle permet de convertir les donn\u00e9es OpenFOAM en fichiers VTK, de charger et de visualiser les maillages, et de calculer diverses quantit\u00e9s.</p> <p>Constructeur:</p> <pre><code>FoamPostProcessing(case_path, vtk_dir=\"VTK\")\n</code></pre> <ul> <li><code>case_path</code> (str): Chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> <li><code>vtk_dir</code> (str): Nom du r\u00e9pertoire pour la sortie VTK (par d\u00e9faut : <code>\"VTK\"</code>).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>check_case()</code>:   V\u00e9rifie si le chemin du cas OpenFOAM existe et est un r\u00e9pertoire.</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code> si le chemin n'existe pas ou n'est pas un r\u00e9pertoire.</p> </li> <li> <p><code>foamToVTK(all_regions=False, ascii=False, constant=False, latest_time=False, fields=None, no_boundary=False, no_internal=False)</code>:   Convertit le cas OpenFOAM en fichiers VTK \u00e0 l'aide de <code>foamToVTK</code>.</p> </li> <li><code>all_regions</code> (bool): Convertit toutes les r\u00e9gions (par d\u00e9faut : <code>False</code>).</li> <li><code>ascii</code> (bool): Exporte en format ASCII (par d\u00e9faut : <code>False</code>).</li> <li><code>constant</code> (bool): Exporte les champs constants (par d\u00e9faut : <code>False</code>).</li> <li><code>latest_time</code> (bool): Exporte uniquement le dernier pas de temps (par d\u00e9faut : <code>False</code>).</li> <li><code>fields</code> (list ou str): Champs \u00e0 exporter (par d\u00e9faut : <code>None</code>, tous les champs).</li> <li><code>no_boundary</code> (bool): N'exporte pas les limites (par d\u00e9faut : <code>False</code>).</li> <li><code>no_internal</code> (bool): N'exporte pas le maillage interne (par d\u00e9faut : <code>False</code>).</li> <li> <p>L\u00e8ve: <code>RuntimeError</code> si <code>foamToVTK</code> \u00e9choue.</p> </li> <li> <p><code>list_time_steps()</code>:   Retourne une liste tri\u00e9e des pas de temps disponibles bas\u00e9e sur les fichiers VTK dans le r\u00e9pertoire principal.</p> </li> <li> <p>Retourne: <code>list</code> : Liste des pas de temps.</p> </li> <li> <p><code>get_structure(time_step=None)</code>:   Construit un dictionnaire avec le maillage principal (cellule) et toutes les limites trouv\u00e9es automatiquement dans le dossier VTK.</p> </li> <li><code>time_step</code> (int, optionnel): Le pas de temps \u00e0 charger. Si <code>None</code>, le dernier pas de temps est utilis\u00e9.</li> <li>Retourne: <code>dict</code> : Dictionnaire contenant le maillage des cellules et les maillages des limites.</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code> si aucun fichier VTK n'est trouv\u00e9 ou si le fichier de cellule n'existe pas.</p> </li> <li> <p><code>load_time_step(time_step)</code>:   Charge les donn\u00e9es VTK pour un pas de temps sp\u00e9cifique.</p> </li> <li><code>time_step</code> (int): Le pas de temps \u00e0 charger.</li> <li> <p>Retourne: <code>dict</code> : Dictionnaire contenant le maillage des cellules et les maillages des limites.</p> </li> <li> <p><code>get_all_time_steps()</code>:   Retourne tous les pas de temps disponibles.</p> </li> <li> <p>Retourne: <code>list</code> : Liste de tous les pas de temps.</p> </li> <li> <p><code>plot_slice(structure=None, plane=\"z\", scalars=\"U\", opacity=0.25)</code>:   G\u00e9n\u00e8re un trac\u00e9 de tranche \u00e0 partir du dictionnaire de structure donn\u00e9.</p> </li> <li><code>structure</code> (dict, optionnel): Dictionnaire de structure du maillage. Si <code>None</code>, l\u00e8ve une <code>RuntimeError</code>.</li> <li><code>plane</code> (str): Le plan de la tranche (\"x\", \"y\" ou \"z\") (par d\u00e9faut : <code>\"z\"</code>).</li> <li><code>scalars</code> (str): Le champ scalaire \u00e0 afficher (par d\u00e9faut : <code>\"U\"</code>).</li> <li> <p><code>opacity</code> (float): L'opacit\u00e9 du maillage (par d\u00e9faut : <code>0.25</code>).</p> </li> <li> <p><code>plot_contour(mesh, scalars, is_filled=True, opacity=1.0)</code>:   G\u00e9n\u00e8re un trac\u00e9 de contour.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>scalars</code> (str): Le champ scalaire \u00e0 afficher.</li> <li><code>is_filled</code> (bool): Si <code>True</code>, le contour est rempli (par d\u00e9faut : <code>True</code>).</li> <li> <p><code>opacity</code> (float): L'opacit\u00e9 du trac\u00e9 (par d\u00e9faut : <code>1.0</code>).</p> </li> <li> <p><code>plot_vectors(mesh, vectors, scale=1.0, color='blue')</code>:   G\u00e9n\u00e8re un trac\u00e9 de vecteurs.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>vectors</code> (str): Le champ vectoriel \u00e0 afficher.</li> <li><code>scale</code> (float): Facteur d'\u00e9chelle pour les vecteurs (par d\u00e9faut : <code>1.0</code>).</li> <li><code>color</code> (str): Couleur des vecteurs (par d\u00e9faut : <code>\"blue\"</code>).</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le champ vectoriel n'est pas trouv\u00e9.</p> </li> <li> <p><code>plot_streamlines(mesh, vectors, n_points=100, max_time=10.0)</code>:   G\u00e9n\u00e8re des lignes de courant.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>vectors</code> (str): Le champ vectoriel \u00e0 afficher.</li> <li><code>n_points</code> (int): Nombre de points de d\u00e9part pour les lignes de courant (par d\u00e9faut : <code>100</code>).</li> <li> <p><code>max_time</code> (float): Temps maximal pour le calcul des lignes de courant (par d\u00e9faut : <code>10.0</code>).</p> </li> <li> <p><code>plot_mesh_style(mesh, style='surface', show_edges=False, color='white', opacity=1.0)</code>:   Visualise le maillage avec diff\u00e9rents styles.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>style</code> (str): Style de visualisation (<code>'surface'</code>, <code>'wireframe'</code>, etc.) (par d\u00e9faut : <code>'surface'</code>).</li> <li><code>show_edges</code> (bool): Affiche les ar\u00eates (par d\u00e9faut : <code>False</code>).</li> <li><code>color</code> (str): Couleur du maillage (par d\u00e9faut : <code>'white'</code>).</li> <li> <p><code>opacity</code> (float): Opacit\u00e9 du maillage (par d\u00e9faut : <code>1.0</code>).</p> </li> <li> <p><code>calculate_q_criterion(mesh, velocity_field='U')</code>:   Calcule le crit\u00e8re Q.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>velocity_field</code> (str): Le champ de vitesse (par d\u00e9faut : <code>'U'</code>).</li> <li>Retourne: Le maillage avec le crit\u00e8re Q ajout\u00e9 aux donn\u00e9es de points.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le champ de vitesse n'est pas trouv\u00e9.</p> </li> <li> <p><code>calculate_vorticity(mesh, velocity_field='U')</code>:   Calcule la vorticit\u00e9.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>velocity_field</code> (str): Le champ de vitesse (par d\u00e9faut : <code>'U'</code>).</li> <li>Retourne: Le maillage avec la vorticit\u00e9 ajout\u00e9e aux donn\u00e9es de points.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le champ de vitesse n'est pas trouv\u00e9.</p> </li> <li> <p><code>export_plot(plotter, filename, image_format=\"png\")</code>:   Exporte le trac\u00e9 actuel vers un fichier image.</p> </li> <li><code>plotter</code>: L'objet de tra\u00e7age (par exemple, <code>pyvista.Plotter</code>).</li> <li><code>filename</code> (Path): Nom du fichier (avec ou sans extension).</li> <li> <p><code>image_format</code> (str): Format de l'image (par d\u00e9faut : <code>\"png\"</code>).</p> </li> <li> <p><code>create_animation(scalars, filename, image_format='gif', fps=10)</code>:   Cr\u00e9e une animation \u00e0 travers les pas de temps.</p> </li> <li><code>scalars</code> (str): Le champ scalaire \u00e0 animer.</li> <li><code>filename</code> (str): Nom du fichier de sortie de l'animation.</li> <li><code>image_format</code> (str): Format de l'image (par d\u00e9faut : <code>'gif'</code>).</li> <li><code>fps</code> (int): Images par seconde (par d\u00e9faut : <code>10</code>).</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code> si aucun fichier VTK n'est trouv\u00e9 pour l'animation.</p> </li> <li> <p><code>get_scalar_statistics(mesh, scalar_field)</code>:   Calcule les statistiques (moyenne, \u00e9cart-type, min, max) pour un champ scalaire.</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li><code>scalar_field</code> (str): Le champ scalaire.</li> <li>Retourne: <code>dict</code> : Dictionnaire des statistiques.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le champ scalaire n'est pas trouv\u00e9.</p> </li> <li> <p><code>get_time_series_data(scalar_field, point_coordinates)</code>:   Extrait les donn\u00e9es de s\u00e9rie temporelle pour un champ scalaire \u00e0 un point sp\u00e9cifique.</p> </li> <li><code>scalar_field</code> (str): Le champ scalaire.</li> <li><code>point_coordinates</code> (list): Coordonn\u00e9es du point.</li> <li>Retourne: <code>dict</code> : Dictionnaire contenant les pas de temps et les donn\u00e9es de s\u00e9rie temporelle.</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code> si aucun fichier VTK n'est trouv\u00e9 pour l'analyse de s\u00e9rie temporelle, <code>ValueError</code> si le champ scalaire n'est pas trouv\u00e9.</p> </li> <li> <p><code>get_mesh_statistics(mesh)</code>:   Retourne les statistiques sur le maillage lui-m\u00eame (par exemple, nombre de points, cellules).</p> </li> <li><code>mesh</code>: L'objet maillage PyVista.</li> <li> <p>Retourne: <code>dict</code> : Dictionnaire des statistiques du maillage.</p> </li> <li> <p><code>get_region_statistics(structure, region_name, scalar_field)</code>:   Calcule les statistiques pour un champ scalaire dans une r\u00e9gion sp\u00e9cifique (cellule ou limite).</p> </li> <li><code>structure</code>: Dictionnaire de structure du maillage.</li> <li><code>region_name</code> (str): Nom de la r\u00e9gion (\"cell\" ou nom de la limite).</li> <li><code>scalar_field</code> (str): Le champ scalaire.</li> <li>Retourne: <code>dict</code> : Dictionnaire des statistiques de la r\u00e9gion.</li> <li>L\u00e8ve: <code>ValueError</code> si la r\u00e9gion ou le champ scalaire n'est pas trouv\u00e9.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotreportlatex_pdflatexdocument","title":"<code>foampilot.report.latex_pdf.LatexDocument</code>","text":"<p>La classe <code>LatexDocument</code> facilite la cr\u00e9ation de documents LaTeX, y compris l'ajout de sections, de figures, de tableaux et la g\u00e9n\u00e9ration de PDF.</p> <p>Constructeur:</p> <pre><code>LatexDocument(title, author, filename)\n</code></pre> <ul> <li><code>title</code> (str): Le titre du document.</li> <li><code>author</code> (str): L'auteur du document.</li> <li><code>filename</code> (str): Le nom de base du fichier de sortie (sans extension).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li> <p><code>add_title()</code>:   Ajoute la page de titre au document.</p> </li> <li> <p><code>add_toc()</code>:   Ajoute la table des mati\u00e8res au document.</p> </li> <li> <p><code>add_section(title, content)</code>:   Ajoute une nouvelle section au document.</p> </li> <li><code>title</code> (str): Le titre de la section.</li> <li> <p><code>content</code> (str): Le contenu de la section.</p> </li> <li> <p><code>add_subsection(title, content)</code>:   Ajoute une nouvelle sous-section au document.</p> </li> <li><code>title</code> (str): Le titre de la sous-section.</li> <li> <p><code>content</code> (str): Le contenu de la sous-section.</p> </li> <li> <p><code>add_unnumbered_section(title, content)</code>:   Ajoute une section non num\u00e9rot\u00e9e au document.</p> </li> <li><code>title</code> (str): Le titre de la section non num\u00e9rot\u00e9e.</li> <li> <p><code>content</code> (str): Le contenu de la section.</p> </li> <li> <p><code>add_abstract(content)</code>:   Ajoute un r\u00e9sum\u00e9 au document.</p> </li> <li> <p><code>content</code> (str): Le contenu du r\u00e9sum\u00e9.</p> </li> <li> <p><code>add_list(items, ordered=False)</code>:   Ajoute une liste (ordonn\u00e9e ou non) au document.</p> </li> <li><code>items</code> (list): Une liste de cha\u00eenes de caract\u00e8res pour les \u00e9l\u00e9ments de la liste.</li> <li> <p><code>ordered</code> (bool): Si <code>True</code>, la liste est ordonn\u00e9e (par d\u00e9faut : <code>False</code>).</p> </li> <li> <p><code>add_math(equation)</code>:   Ajoute une \u00e9quation math\u00e9matique au document.</p> </li> <li> <p><code>equation</code> (str): Cha\u00eene format\u00e9e LaTeX repr\u00e9sentant l'\u00e9quation.</p> </li> <li> <p><code>add_figure(image_path, caption=None, width=\\'0.8\\\\textwidth\\')</code>:   Ajoute une figure au document avec une l\u00e9gende et une largeur optionnelles.</p> </li> <li><code>image_path</code> (str): Chemin vers le fichier image.</li> <li><code>caption</code> (str, optionnel): L\u00e9gende de l'image.</li> <li> <p><code>width</code> (str): Largeur de l'image (par d\u00e9faut : <code>\\'0.8\\\\textwidth\\'</code>).</p> </li> <li> <p>`add_table(data, headers=None, caption=\\</p> </li> </ul> <p>,   col_align=\"c\", multicol_data=None, multirow_data=None)<code>:   Ajoute un tableau avec support pour</code>MultiColumn<code>et</code>MultiRow<code>.   -</code>data<code>(list de listes): Les donn\u00e9es du tableau.   -</code>headers<code>(list, optionnel): Les en-t\u00eates de colonnes.   -</code>caption<code>(str): L\u00e9gende du tableau.   -</code>col_align<code>(str): Alignement des colonnes (par d\u00e9faut :</code>\"c\"<code>pour centr\u00e9).   -</code>multicol_data<code>(dict, optionnel): Dictionnaire pour les cellules</code>MultiColumn<code>.   -</code>multirow_data<code>(dict, optionnel): Dictionnaire pour les cellules</code>MultiRow`.</p> <ul> <li><code>dataframe_to_latex(dataframe, caption=\"\", label=\"\")</code>:   Convertit un <code>pandas.DataFrame</code> en une cha\u00eene de caract\u00e8res de tableau LaTeX.</li> <li><code>dataframe</code> (pd.DataFrame): Le DataFrame \u00e0 convertir.</li> <li><code>caption</code> (str): L\u00e9gende du tableau.</li> <li><code>label</code> (str): \u00c9tiquette pour r\u00e9f\u00e9rencer le tableau.</li> <li> <p>Retourne: <code>str</code> : Une cha\u00eene de caract\u00e8res de tableau LaTeX.</p> </li> <li> <p><code>add_dataframe_table(dataframe, caption=\"\", label=\"\")</code>:   Ajoute un <code>pandas.DataFrame</code> en tant que tableau LaTeX au document.</p> </li> <li><code>dataframe</code> (pd.DataFrame): Le DataFrame \u00e0 ajouter.</li> <li><code>caption</code> (str): L\u00e9gende du tableau.</li> <li> <p><code>label</code> (str): \u00c9tiquette pour r\u00e9f\u00e9rencer le tableau.</p> </li> <li> <p><code>add_bibliography(bib_path)</code>:   Ajoute une bibliographie au document.</p> </li> <li> <p><code>bib_path</code> (str): Chemin vers le fichier <code>.bib</code>.</p> </li> <li> <p><code>add_environment(env_name, content)</code>:   Ajoute un environnement LaTeX personnalis\u00e9.</p> </li> <li><code>env_name</code> (str): Nom de l'environnement.</li> <li> <p><code>content</code> (str): Contenu de l'environnement.</p> </li> <li> <p><code>add_appendix(title, content)</code>:   Ajoute une annexe au document.</p> </li> <li><code>title</code> (str): Titre de l'annexe.</li> <li> <p><code>content</code> (str): Contenu de l'annexe.</p> </li> <li> <p><code>add_package(package_name, options=None)</code>:   Ajoute un package LaTeX au document.</p> </li> <li><code>package_name</code> (str): Nom du package.</li> <li> <p><code>options</code> (str, optionnel): Options du package.</p> </li> <li> <p><code>add_custom_preamble(command)</code>:   Ajoute une commande personnalis\u00e9e au pr\u00e9ambule LaTeX.</p> </li> <li> <p><code>command</code> (str): La commande LaTeX.</p> </li> <li> <p><code>generate_tex()</code>:   G\u00e9n\u00e8re le fichier <code>.tex</code>.</p> </li> <li> <p><code>generate_pdf()</code>:   Compile le fichier <code>.tex</code> en PDF.</p> </li> <li> <p><code>generate_document(output_format=\"pdf\")</code>:   G\u00e9n\u00e8re le document au format sp\u00e9cifi\u00e9 (<code>'tex'</code> ou <code>'pdf'</code>).</p> </li> <li><code>output_format</code> (str): Format de sortie (par d\u00e9faut : <code>\"pdf\"</code>).</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotsolverincompressible_fluidincompressiblefluid","title":"<code>foampilot.solver.incompressible_fluid.incompressibleFluid</code>","text":"<p>La classe <code>incompressibleFluid</code> repr\u00e9sente un cas OpenFOAM configur\u00e9 pour fonctionner avec le solveur <code>incompressibleFluid</code>. Elle organise la structure principale du r\u00e9pertoire de cas OpenFOAM en initialisant les composants cl\u00e9s : <code>system</code>, <code>constant</code> et les dictionnaires de conditions aux limites. Elle fournit \u00e9galement des fonctionnalit\u00e9s pour mettre \u00e0 jour les param\u00e8tres sp\u00e9cifiques au cas et pour ex\u00e9cuter la simulation <code>incompressibleFluid</code>.</p> <p>Attributs:</p> <ul> <li><code>case_path</code> (Path): Le chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> <li><code>system</code> (SystemDirectory): G\u00e8re le dossier <code>system</code> et ses fichiers.</li> <li><code>constant</code> (ConstantDirectory): G\u00e8re le dossier <code>constant</code> et ses fichiers.</li> <li><code>boundary</code> (Boundary): G\u00e8re les dictionnaires de conditions aux limites.</li> </ul> <p>Constructeur:</p> <pre><code>incompressibleFluid(path_case)\n</code></pre> <ul> <li><code>path_case</code> (str ou Path): Chemin vers le r\u00e9pertoire du cas OpenFOAM.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li> <p><code>update_case_specific_attributes()</code>:   Met \u00e0 jour ou d\u00e9finit les attributs sp\u00e9cifiques au cas <code>SimpleFoam</code>.</p> </li> <li> <p><code>run_simulation(log_filename=\"log.incompressibleFluid\")</code>:   Ex\u00e9cute le solveur <code>incompressibleFluid</code> dans le r\u00e9pertoire du cas et \u00e9crit la sortie dans un fichier journal.</p> </li> <li><code>log_filename</code> (str): Nom du fichier journal (par d\u00e9faut : <code>\"log.incompressibleFluid\"</code>).</li> <li>L\u00e8ve: <code>FileNotFoundError</code>, <code>NotADirectoryError</code>, <code>RuntimeError</code> en cas d'\u00e9chec.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotsystemsystemdirectorysystemdirectory","title":"<code>foampilot.system.SystemDirectory.SystemDirectory</code>","text":"<p>La classe <code>SystemDirectory</code> g\u00e8re le r\u00e9pertoire <code>system</code> d'un cas OpenFOAM. Elle g\u00e8re la cr\u00e9ation, la configuration et la gestion de tous les fichiers syst\u00e8me dans un cas OpenFOAM, y compris <code>controlDict</code>, <code>fvSchemes</code> et <code>fvSolution</code>. Elle fournit \u00e9galement des m\u00e9thodes pour ex\u00e9cuter des utilitaires OpenFOAM comme <code>topoSet</code> et <code>createPatch</code>.</p> <p>Attributs:</p> <ul> <li><code>parent</code>: L'objet cas parent.</li> <li><code>controlDict</code> (ControlDictFile): Le gestionnaire de fichier <code>controlDict</code>.</li> <li><code>fvSchemes</code> (FvSchemesFile): Le gestionnaire de fichier <code>fvSchemes</code>.</li> <li><code>fvSolution</code> (FvSolutionFile): Le gestionnaire de fichier <code>fvSolution</code>.</li> <li><code>additional_files</code> (dict): Dictionnaire des fichiers syst\u00e8me additionnels.</li> </ul> <p>Constructeur:</p> <pre><code>SystemDirectory(parent)\n</code></pre> <ul> <li><code>parent</code>: L'objet cas parent qui poss\u00e8de ce r\u00e9pertoire syst\u00e8me.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li> <p><code>write()</code>:   \u00c9crit tous les fichiers syst\u00e8me dans le r\u00e9pertoire du cas. Cr\u00e9e le r\u00e9pertoire syst\u00e8me s'il n'existe pas et \u00e9crit <code>controlDict</code>, <code>fvSchemes</code>, <code>fvSolution</code> et tous les fichiers additionnels.</p> </li> <li> <p><code>add_dict_file(file_name, file_content)</code>:   Ajoute un fichier additionnel au r\u00e9pertoire syst\u00e8me.</p> </li> <li><code>file_name</code> (str): Le nom du fichier \u00e0 ajouter (par exemple, <code>\\'transportProperties\\'</code>).</li> <li> <p><code>file_content</code> (dict): Le contenu du fichier sous forme de dictionnaire.</p> </li> <li> <p><code>to_dict()</code>:   Convertit la configuration du r\u00e9pertoire syst\u00e8me en un dictionnaire.</p> </li> <li> <p>Retourne: <code>dict</code> : Un dictionnaire contenant les configurations de <code>controlDict</code>, <code>fvSchemes</code> et <code>fvSolution</code>.</p> </li> <li> <p><code>from_dict(config)</code>:   Charge la configuration du r\u00e9pertoire syst\u00e8me \u00e0 partir d'un dictionnaire.</p> </li> <li> <p><code>config</code> (dict): Dictionnaire contenant les configurations pour <code>controlDict</code>, <code>fvSchemes</code> et <code>fvSolution</code>.</p> </li> <li> <p><code>run_topoSet()</code>:   Ex\u00e9cute l'utilitaire <code>topoSet</code> dans le r\u00e9pertoire du cas.</p> </li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code>, <code>NotADirectoryError</code>, <code>RuntimeError</code> en cas d'\u00e9chec.</p> </li> <li> <p><code>run_createPatch(overwrite=True)</code>:   Ex\u00e9cute l'utilitaire <code>createPatch</code> dans le r\u00e9pertoire du cas.</p> </li> <li><code>overwrite</code> (bool): Indique s'il faut ajouter l'option <code>-overwrite</code> (par d\u00e9faut : <code>True</code>).</li> <li> <p>L\u00e8ve: <code>FileNotFoundError</code>, <code>NotADirectoryError</code>, <code>RuntimeError</code> en cas d'\u00e9chec.</p> </li> <li> <p><code>write_functions_file(includes=None, filename=\"functions\")</code>:   Cr\u00e9e un fichier <code>functions</code> dans le r\u00e9pertoire syst\u00e8me avec les inclusions donn\u00e9es.</p> </li> <li><code>includes</code> (list, optionnel): Liste des fichiers de fonction \u00e0 inclure (par d\u00e9faut : <code>[\"fieldAverage\", \"referencePressure\", \"runTimeControls\"]</code>).</li> <li><code>filename</code> (str): Nom du fichier \u00e0 cr\u00e9er (par d\u00e9faut : <code>\"functions\"</code>).</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotsystemcontroldictfilecontroldictfile","title":"<code>foampilot.system.controlDictFile.ControlDictFile</code>","text":"<p>La classe <code>ControlDictFile</code> repr\u00e9sente le fichier <code>controlDict</code> dans OpenFOAM. Elle g\u00e8re la cr\u00e9ation et la manipulation de ce fichier qui contr\u00f4le le comportement d'ex\u00e9cution d'une simulation OpenFOAM.</p> <p>Attributs:</p> <ul> <li><code>application</code> (str): L'application OpenFOAM \u00e0 ex\u00e9cuter (par exemple, <code>\"simpleFoam\"</code>).</li> <li><code>startFrom</code> (str): Option de temps de d\u00e9but (<code>\"startTime\"</code>, <code>\"firstTime\"</code>, <code>\"latestTime\"</code>).</li> <li><code>startTime</code> (float): Temps de simulation initial.</li> <li><code>stopAt</code> (str): Condition d'arr\u00eat (<code>\"endTime\"</code>, <code>\"writeNow\"</code>, <code>\"noWriteNow\"</code>, <code>\"nextWrite\"</code>).</li> <li><code>endTime</code> (float): Temps de simulation final.</li> <li><code>deltaT</code> (float): Taille du pas de temps.</li> <li><code>writeControl</code> (str): M\u00e9thode de contr\u00f4le d'\u00e9criture (<code>\"timeStep\"</code>, <code>\"runTime\"</code>, <code>\"adjustableRunTime\"</code>).</li> <li><code>writeInterval</code> (int): Intervalle entre l'\u00e9criture des r\u00e9sultats.</li> <li><code>purgeWrite</code> (int): Nombre de r\u00e9pertoires de temps \u00e0 conserver.</li> <li><code>writeFormat</code> (str): Format de fichier pour la sortie (<code>\"ascii\"</code>, <code>\"binary\"</code>).</li> <li><code>writePrecision</code> (int): Pr\u00e9cision pour les donn\u00e9es de sortie.</li> <li><code>writeCompression</code> (str): Compression pour les fichiers de sortie (<code>\"on\"</code>, <code>\"off\"</code>).</li> <li><code>timeFormat</code> (str): Format de nommage du r\u00e9pertoire de temps (<code>\"general\"</code>, <code>\"fixed\"</code>, <code>\"scientific\"</code>).</li> <li><code>timePrecision</code> (int): Pr\u00e9cision pour les noms de r\u00e9pertoire de temps.</li> <li><code>runTimeModifiable</code> (bool): Indique si le dictionnaire peut \u00eatre modifi\u00e9 pendant l'ex\u00e9cution.</li> <li><code>functions</code> (dict): Dictionnaire des objets de fonction pour des contr\u00f4les d'ex\u00e9cution suppl\u00e9mentaires.</li> </ul> <p>Constructeur:</p> <pre><code>ControlDictFile(application=\"incompressibleFluid\", startFrom=\"startTime\", startTime=0,\n                 stopAt=\"endTime\", endTime=5000, deltaT=1, writeControl=\"timeStep\",\n                 writeInterval=100, purgeWrite=10, writeFormat=\"ascii\", writePrecision=6,\n                 writeCompression=\"off\", timeFormat=\"general\", timePrecision=6,\n                 runTimeModifiable=True, functions=None)\n</code></pre> <ul> <li><code>application</code>: Application du solveur OpenFOAM (par d\u00e9faut : <code>\"incompressibleFluid\"</code>).</li> <li><code>startFrom</code>: Option de temps de d\u00e9but (par d\u00e9faut : <code>\"startTime\"</code>).</li> <li><code>startTime</code>: Temps de simulation initial (par d\u00e9faut : <code>0</code>).</li> <li><code>stopAt</code>: Condition d'arr\u00eat (par d\u00e9faut : <code>\"endTime\"</code>).</li> <li><code>endTime</code>: Temps de simulation final (par d\u00e9faut : <code>5000</code>).</li> <li><code>deltaT</code>: Taille du pas de temps (par d\u00e9faut : <code>1</code>).</li> <li><code>writeControl</code>: M\u00e9thode de contr\u00f4le d'\u00e9criture (par d\u00e9faut : <code>\"timeStep\"</code>).</li> <li><code>writeInterval</code>: Intervalle d'\u00e9criture en pas de temps (par d\u00e9faut : <code>100</code>).</li> <li><code>purgeWrite</code>: Nombre de r\u00e9pertoires de temps \u00e0 conserver (par d\u00e9faut : <code>10</code>).</li> <li><code>writeFormat</code>: Format de fichier de sortie (par d\u00e9faut : <code>\"ascii\"</code>).</li> <li><code>writePrecision</code>: Pr\u00e9cision de sortie (par d\u00e9faut : <code>6</code>).</li> <li><code>writeCompression</code>: Compression de sortie (par d\u00e9faut : <code>\"off\"</code>).</li> <li><code>timeFormat</code>: Format du r\u00e9pertoire de temps (par d\u00e9faut : <code>\"general\"</code>).</li> <li><code>timePrecision</code>: Pr\u00e9cision du r\u00e9pertoire de temps (par d\u00e9faut : <code>6</code>).</li> <li><code>runTimeModifiable</code>: Autoriser la modification \u00e0 l'ex\u00e9cution (par d\u00e9faut : <code>True</code>).</li> <li><code>functions</code>: Dictionnaire des objets de fonction (par d\u00e9faut : <code>None</code> -&gt; dictionnaire vide).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>to_dict()</code>:   Convertit les param\u00e8tres <code>controlDict</code> en un dictionnaire.</li> <li> <p>Retourne: <code>dict</code> : Un dictionnaire contenant tous les param\u00e8tres <code>controlDict</code> avec leurs valeurs actuelles.</p> </li> <li> <p><code>from_dict(config)</code>:   Cr\u00e9e une instance <code>ControlDictFile</code> \u00e0 partir d'un dictionnaire de configuration.</p> </li> <li><code>config</code> (dict): Dictionnaire contenant les param\u00e8tres <code>controlDict</code>.</li> <li>Retourne: <code>ControlDictFile</code> : Une nouvelle instance initialis\u00e9e avec les valeurs fournies ou par d\u00e9faut.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotsystemfvschemesfilefvschemesfile","title":"<code>foampilot.system.fvSchemesFile.FvSchemesFile</code>","text":"<p>La classe <code>FvSchemesFile</code> repr\u00e9sente le fichier <code>fvSchemes</code> dans OpenFOAM. Elle g\u00e8re la cr\u00e9ation et la manipulation de ce fichier qui d\u00e9finit les sch\u00e9mas num\u00e9riques utilis\u00e9s dans une simulation OpenFOAM.</p> <p>Attributs:</p> <ul> <li><code>ddtSchemes</code> (dict): Configuration des sch\u00e9mas de d\u00e9riv\u00e9e temporelle.</li> <li><code>gradSchemes</code> (dict): Configuration des sch\u00e9mas de gradient.</li> <li><code>divSchemes</code> (dict): Configuration des sch\u00e9mas de divergence.</li> <li><code>laplacianSchemes</code> (dict): Configuration des sch\u00e9mas laplaciens.</li> <li><code>interpolationSchemes</code> (dict): Configuration des sch\u00e9mas d'interpolation.</li> <li><code>snGradSchemes</code> (dict): Configuration des sch\u00e9mas de gradient normal de surface.</li> </ul> <p>Constructeur:</p> <pre><code>FvSchemesFile(ddtSchemes=None, gradSchemes=None, divSchemes=None,\n                 laplacianSchemes=None, interpolationSchemes=None, snGradSchemes=None)\n</code></pre> <ul> <li><code>ddtSchemes</code>: Sch\u00e9mas de d\u00e9riv\u00e9e temporelle (par d\u00e9faut : <code>{\"default\": \"steadyState\"}</code>).</li> <li><code>gradSchemes</code>: Sch\u00e9mas de gradient (par d\u00e9faut : <code>{\"default\": \"Gauss linear\"}</code>).</li> <li><code>divSchemes</code>: Sch\u00e9mas de divergence (par d\u00e9faut : <code>{\"default\": \"none\", \"div(phi,U)\": \"bounded Gauss upwind\", \"turbulence\": \"bounded Gauss upwind\", \"div(phi,k)\": \"$turbulence\", \"div(phi,epsilon)\": \"$turbulence\", \"div((nuEff*dev2(T(grad(U)))))\": \"Gauss linear\"}</code>).</li> <li><code>laplacianSchemes</code>: Sch\u00e9mas laplaciens (par d\u00e9faut : <code>{\"default\": \"Gauss linear corrected\"}</code>).</li> <li><code>interpolationSchemes</code>: Sch\u00e9mas d'interpolation (par d\u00e9faut : <code>{\"default\": \"linear\"}</code>).</li> <li><code>snGradSchemes</code>: Sch\u00e9mas de gradient normal de surface (par d\u00e9faut : <code>{\"default\": \"corrected\"}</code>).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>to_dict()</code>:   Convertit la configuration des sch\u00e9mas en un dictionnaire.</li> <li> <p>Retourne: <code>dict</code> : Un dictionnaire contenant tous les sch\u00e9mas avec leur configuration actuelle.</p> </li> <li> <p><code>from_dict(config)</code>:   Cr\u00e9e une instance <code>FvSchemesFile</code> \u00e0 partir d'un dictionnaire de configuration.</p> </li> <li><code>config</code> (dict): Dictionnaire contenant la configuration des sch\u00e9mas.</li> <li>Retourne: <code>FvSchemesFile</code> : Une nouvelle instance initialis\u00e9e avec les sch\u00e9mas fournis.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotsystemfvsolutionfilefvsolutionfile","title":"<code>foampilot.system.fvSolutionFile.FvSolutionFile</code>","text":"<p>La classe <code>FvSolutionFile</code> repr\u00e9sente le fichier <code>fvSolution</code> dans OpenFOAM. Elle g\u00e8re la cr\u00e9ation et la manipulation de ce fichier qui d\u00e9finit les algorithmes de r\u00e9solution et les contr\u00f4les du solveur pour une simulation OpenFOAM.</p> <p>Attributs:</p> <ul> <li><code>solvers</code> (dict): Dictionnaire contenant les param\u00e8tres du solveur pour chaque champ.</li> <li><code>SIMPLE</code> (dict): Param\u00e8tres de contr\u00f4le de l'algorithme SIMPLE.</li> <li><code>relaxationFactors</code> (dict): Facteurs de sous-relaxation pour les champs et les \u00e9quations.</li> </ul> <p>Constructeur:</p> <pre><code>FvSolutionFile(solvers=None, SIMPLE=None, relaxationFactors=None)\n</code></pre> <ul> <li><code>solvers</code>: Dictionnaire des configurations de solveur pour chaque champ (par d\u00e9faut : configuration d\u00e9taill\u00e9e pour <code>p</code>, <code>U</code>, <code>k</code>, <code>epsilon</code>, <code>R</code>, <code>nuTilda</code>).</li> <li><code>SIMPLE</code>: Param\u00e8tres de l'algorithme SIMPLE (par d\u00e9faut : <code>{\"nNonOrthogonalCorrectors\": \"0\", \"residualControl\": {\"p\": \"1e-2\", \"U\": \"1e-4\", \"k\": \"1e-4\", \"epsilon\": \"1e-4\"}}</code>).</li> <li><code>relaxationFactors</code>: Facteurs de sous-relaxation (par d\u00e9faut : <code>{\"fields\": {\"p\": \"0.3\"}, \"equations\": {\"U\": \"0.7\", \"k\": \"0.7\", \"epsilon\": \"0.7\"}}</code>).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>to_dict()</code>:   Convertit la configuration du solveur en un dictionnaire.</li> <li> <p>Retourne: <code>dict</code> : Un dictionnaire contenant tous les param\u00e8tres du solveur avec leur configuration actuelle.</p> </li> <li> <p><code>from_dict(config)</code>:   Cr\u00e9e une instance <code>FvSolutionFile</code> \u00e0 partir d'un dictionnaire de configuration.</p> </li> <li><code>config</code> (dict): Dictionnaire contenant la configuration du solveur.</li> <li>Retourne: <code>FvSolutionFile</code> : Une nouvelle instance initialis\u00e9e avec les configurations fournies.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotutilitiesdictonnaryopenfoamdictaddfile","title":"<code>foampilot.utilities.dictonnary.OpenFOAMDictAddFile</code>","text":"<p>La classe <code>OpenFOAMDictAddFile</code> est une classe de base pour les fichiers de configuration OpenFOAM. Elle g\u00e8re l'en-t\u00eate standard <code>FoamFile</code> et l'\u00e9criture des attributs, y compris la gestion des dictionnaires imbriqu\u00e9s et des listes.</p> <p>Constructeur:</p> <pre><code>OpenFOAMDictAddFile(object_name, **attributes)\n</code></pre> <ul> <li><code>object_name</code> (str): Le nom de l'objet pour l'en-t\u00eate du fichier OpenFOAM.</li> <li><code>**attributes</code>: Arguments mots-cl\u00e9s arbitraires repr\u00e9sentant les attributs sp\u00e9cifiques du fichier.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>_write_attributes(file, attributes, indent_level=0)</code>:   \u00c9crit les attributs dans le fichier avec une indentation appropri\u00e9e. G\u00e8re les cas sp\u00e9ciaux comme les bo\u00eetes (<code>box</code>) et les listes.</li> <li><code>file</code> (objet fichier): L'objet fichier dans lequel \u00e9crire.</li> <li><code>attributes</code> (dict): Les attributs \u00e0 \u00e9crire.</li> <li> <p><code>indent_level</code> (int): Le niveau d'indentation actuel.</p> </li> <li> <p><code>write(name_dict, base_path, folder='system')</code>:   \u00c9crit le fichier OpenFOAM dans le chemin sp\u00e9cifi\u00e9.</p> </li> <li><code>name_dict</code> (str): Le nom du dictionnaire \u00e0 \u00e9crire.</li> <li><code>base_path</code> (str ou Path): Le chemin de base du r\u00e9pertoire du cas OpenFOAM.</li> <li><code>folder</code> (str): Le sous-r\u00e9pertoire o\u00f9 \u00e9crire le fichier (par d\u00e9faut : <code>'system'</code>).</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotutilitiesdictonnarydict_tools","title":"<code>foampilot.utilities.dictonnary.dict_tools</code>","text":"<p>La classe <code>dict_tools</code> fournit des m\u00e9thodes statiques pour cr\u00e9er des dictionnaires de configuration OpenFOAM, notamment pour les patchs et les actions <code>topoSetDict</code>.</p> <p>M\u00e9thodes statiques:</p> <ul> <li><code>create_patches_dict(patch_names, construct_from=\"set\", point_sync=False)</code>:   Cr\u00e9e un dictionnaire pour plusieurs patchs dans OpenFOAM.</li> <li><code>patch_names</code> (list): Liste des noms des patchs \u00e0 cr\u00e9er.</li> <li><code>construct_from</code> (str): M\u00e9thode de construction (<code>'patches'</code> ou <code>'set'</code>).</li> <li><code>point_sync</code> (bool): Indique si la synchronisation des points est activ\u00e9e.</li> <li> <p>Retourne: <code>dict</code> : Dictionnaire repr\u00e9sentant la configuration des patchs.</p> </li> <li> <p><code>create_action(name, action_type, action, source, **kwargs)</code>:   Cr\u00e9e une action pour <code>topoSetDict</code>.</p> </li> <li><code>name</code> (str): Nom de l'action.</li> <li><code>action_type</code> (str): Type de l'action (par exemple, <code>'cellSet'</code>, <code>'faceSet'</code>).</li> <li><code>action</code> (str): Type d'action (par exemple, <code>'new'</code>, <code>'subset'</code>).</li> <li><code>source</code> (str): Source de l'action (par exemple, <code>'boxToCell'</code>, <code>'patchToFace'</code>).</li> <li><code>**kwargs</code>: Autres attributs optionnels pour l'action.</li> <li>Retourne: <code>dict</code> : Dictionnaire repr\u00e9sentant l'action.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le type d'action ou l'action est invalide.</p> </li> <li> <p><code>create_actions_dict(actions)</code>:   Cr\u00e9e un dictionnaire pour les actions dans <code>topoSetDict</code>.</p> </li> <li><code>actions</code> (list): Liste des dictionnaires repr\u00e9sentant chaque action.</li> <li>Retourne: <code>dict</code> : Dictionnaire repr\u00e9sentant les actions.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotutilitiesepw_weather_readerweatherfileepw","title":"<code>foampilot.utilities.epw_weather_reader.WeatherFileEPW</code>","text":"<p>La classe <code>WeatherFileEPW</code> g\u00e8re les fichiers EnergyPlus Weather (EPW). Elle fournit des fonctionnalit\u00e9s pour lire, \u00e9crire, analyser et visualiser les donn\u00e9es climatiques.</p> <p>Attributs:</p> <ul> <li><code>headers</code> (dict): Dictionnaire stockant les en-t\u00eates du fichier EPW.</li> <li><code>dataframe</code> (pd.DataFrame): DataFrame contenant les donn\u00e9es climatiques.</li> </ul> <p>Constructeur:</p> <pre><code>WeatherFileEPW()\n</code></pre> <p>M\u00e9thodes:</p> <ul> <li><code>read(fp)</code>:   Lit les en-t\u00eates et les donn\u00e9es climatiques d'un fichier EPW.</li> <li> <p><code>fp</code> (str): Chemin du fichier EPW \u00e0 lire.</p> </li> <li> <p><code>_read_headers(fp)</code>:   Lit les en-t\u00eates d'un fichier EPW.</p> </li> <li><code>fp</code> (str): Chemin du fichier EPW.</li> <li> <p>Retourne: <code>dict</code> : Dictionnaire contenant les informations d'en-t\u00eate.</p> </li> <li> <p><code>_read_data(fp)</code>:   Lit les donn\u00e9es climatiques d'un fichier EPW dans un DataFrame.</p> </li> <li><code>fp</code> (str): Chemin du fichier EPW.</li> <li> <p>Retourne: <code>pd.DataFrame</code> : DataFrame contenant les donn\u00e9es climatiques.</p> </li> <li> <p><code>_first_row_with_climate_data(fp)</code>:   Trouve la premi\u00e8re ligne du fichier EPW qui contient des donn\u00e9es climatiques.</p> </li> <li><code>fp</code> (str): Chemin du fichier EPW.</li> <li> <p>Retourne: <code>int</code> : Index de la ligne o\u00f9 les donn\u00e9es climatiques commencent.</p> </li> <li> <p><code>write(fp)</code>:   \u00c9crit les en-t\u00eates du fichier EPW et les donn\u00e9es climatiques dans un nouveau fichier.</p> </li> <li> <p><code>fp</code> (str): Chemin du fichier EPW \u00e0 enregistrer.</p> </li> <li> <p><code>analyze_temperature()</code>:   Calcule les statistiques pour la temp\u00e9rature de bulbe sec.</p> </li> <li>Retourne: <code>pd.Series</code> : R\u00e9sum\u00e9 statistique de la temp\u00e9rature de bulbe sec.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si aucune donn\u00e9e climatique n'a \u00e9t\u00e9 charg\u00e9e.</p> </li> <li> <p><code>analyze_humidity()</code>:   Calcule les statistiques pour l'humidit\u00e9 relative.</p> </li> <li>Retourne: <code>pd.Series</code> : R\u00e9sum\u00e9 statistique de l'humidit\u00e9 relative.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si aucune donn\u00e9e climatique n'a \u00e9t\u00e9 charg\u00e9e.</p> </li> <li> <p><code>plot_wind_rose()</code>:   G\u00e9n\u00e8re un graphique de rose des vents en utilisant la vitesse et la direction du vent.</p> </li> <li> <p>L\u00e8ve: <code>ValueError</code> si aucune donn\u00e9e climatique n'a \u00e9t\u00e9 charg\u00e9e.</p> </li> <li> <p><code>get_header()</code>:   Retourne les en-t\u00eates du fichier EPW.</p> </li> <li>Retourne: <code>dict</code> : Dictionnaire des en-t\u00eates.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si les en-t\u00eates n'ont pas \u00e9t\u00e9 charg\u00e9s.</p> </li> <li> <p><code>get_dataframe()</code>:   Retourne le DataFrame contenant les donn\u00e9es climatiques.</p> </li> <li>Retourne: <code>pd.DataFrame</code> : DataFrame des donn\u00e9es climatiques.</li> <li>L\u00e8ve: <code>ValueError</code> si les donn\u00e9es climatiques n'ont pas \u00e9t\u00e9 charg\u00e9es.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotutilitiesfluids_theoryfluidmechanics","title":"<code>foampilot.utilities.fluids_theory.FluidMechanics</code>","text":"<p>La classe <code>FluidMechanics</code> est un calculateur complet de m\u00e9canique des fluides pour les applications CFD. Elle fournit des m\u00e9thodes pour calculer les param\u00e8tres cl\u00e9s de la m\u00e9canique des fluides et les caract\u00e9ristiques de la couche limite, essentiels pour le dimensionnement du maillage CFD et la configuration de la simulation.</p> <p>Attributs:</p> <ul> <li><code>fluid_name</code> (FluidsList): Le fluide analys\u00e9 (\u00e0 partir de l'\u00e9num\u00e9ration <code>FluidsList</code>).</li> <li><code>temperature</code> (Quantity): Temp\u00e9rature du fluide avec unit\u00e9s.</li> <li><code>pressure</code> (Quantity): Pression du fluide avec unit\u00e9s.</li> <li><code>velocity</code> (Quantity): Vitesse d'\u00e9coulement caract\u00e9ristique avec unit\u00e9s.</li> <li><code>characteristic_length</code> (Quantity): \u00c9chelle de longueur pertinente pour les nombres sans dimension.</li> <li><code>fluid</code>: Objet <code>PyFluids Fluid</code> initialis\u00e9 avec l'\u00e9tat actuel.</li> </ul> <p>Constructeur:</p> <pre><code>FluidMechanics(fluid_name, temperature, pressure, velocity, characteristic_length)\n</code></pre> <ul> <li><code>fluid_name</code>: Type de fluide de l'\u00e9num\u00e9ration <code>FluidsList</code> (par exemple, <code>FluidsList.Water</code>).</li> <li><code>temperature</code>: Temp\u00e9rature du fluide (par exemple, <code>Quantity(300, 'K')</code>).</li> <li><code>pressure</code>: Pression du fluide (par exemple, <code>Quantity(101325, 'Pa')</code>).</li> <li><code>velocity</code>: Vitesse d'\u00e9coulement caract\u00e9ristique (par exemple, <code>Quantity(2, 'm/s')</code>).</li> <li><code>characteristic_length</code>: \u00c9chelle de longueur pertinente (par exemple, diam\u00e8tre du tuyau).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>get_fluid_properties(temperature)</code>:   R\u00e9cup\u00e8re les propri\u00e9t\u00e9s fondamentales du fluide \u00e0 la temp\u00e9rature sp\u00e9cifi\u00e9e.</li> <li><code>temperature</code>: Temp\u00e9rature \u00e0 laquelle \u00e9valuer les propri\u00e9t\u00e9s.</li> <li> <p>Retourne: <code>tuple</code> : (densit\u00e9 [kg/m\u00b3], viscosit\u00e9 dynamique [Pa\u00b7s], conductivit\u00e9 thermique [W/(m\u00b7K)], chaleur sp\u00e9cifique [J/(kg\u00b7K)]).</p> </li> <li> <p><code>calculate_reynolds()</code>:   Calcule le nombre de Reynolds pour les conditions d'\u00e9coulement actuelles.</p> </li> <li> <p>Retourne: <code>float</code> : Nombre de Reynolds (Re = \u03c1vL/\u03bc).</p> </li> <li> <p><code>calculate_y_plus(wall_shear_stress)</code>:   Calcule la valeur y+ (distance \u00e0 la paroi sans dimension) pour la mod\u00e9lisation de la turbulence.</p> </li> <li><code>wall_shear_stress</code>: Contrainte de cisaillement \u00e0 la paroi avec unit\u00e9s.</li> <li> <p>Retourne: <code>float</code> : Valeur y+ (y+ = \u03c4_w\u00b7L/\u03bc).</p> </li> <li> <p><code>calculate_prandtl()</code>:   Calcule le nombre de Prandtl pour l'\u00e9tat actuel du fluide.</p> </li> <li> <p>Retourne: <code>float</code> : Nombre de Prandtl (Pr = \u03bc\u00b7c_p/k).</p> </li> <li> <p><code>calculate_thermal_expansion_coefficient(temperature1, temperature2, density1, density2, density_ave)</code>:   Calcule le coefficient de dilatation thermique (\u03b2) en utilisant des diff\u00e9rences finies.</p> </li> <li><code>temperature1</code>: Premier point de temp\u00e9rature.</li> <li><code>temperature2</code>: Deuxi\u00e8me point de temp\u00e9rature.</li> <li><code>density1</code>: Densit\u00e9 \u00e0 <code>temperature1</code>.</li> <li><code>density2</code>: Densit\u00e9 \u00e0 <code>temperature2</code>.</li> <li><code>density_ave</code>: Densit\u00e9 moyenne entre les deux points.</li> <li> <p>Retourne: <code>float</code> : Coefficient de dilatation thermique [1/K].</p> </li> <li> <p><code>calculate_rayleigh(temperature1, temperature2)</code>:   Calcule le nombre de Rayleigh pour l'analyse de la convection naturelle.</p> </li> <li><code>temperature1</code>: Temp\u00e9rature de la paroi froide.</li> <li><code>temperature2</code>: Temp\u00e9rature de la paroi chaude.</li> <li> <p>Retourne: <code>float</code> : Nombre de Rayleigh (Ra = g\u00b7\u03b2\u00b7\u0394T\u00b7L\u00b3/(\u03bd\u00b7\u03b1)).</p> </li> <li> <p><code>characteristic_thickness_turbulent()</code>:   Estime l'\u00e9paisseur de la couche limite turbulente en utilisant une corr\u00e9lation empirique.</p> </li> <li> <p>Retourne: <code>Quantity</code> : \u00c9paisseur de la couche limite avec unit\u00e9s (\u03b4 = 0.37L/Re^(1/5)).</p> </li> <li> <p><code>calculate_layers_for_cell_size(target_cell_size, expansion_ratio=1.2)</code>:   Calcule le nombre de cellules de couche limite n\u00e9cessaires pour atteindre la taille cible.</p> </li> <li><code>target_cell_size</code>: Taille de cellule souhait\u00e9e au bord de la couche limite.</li> <li><code>expansion_ratio</code>: Rapport de croissance entre les couches adjacentes (par d\u00e9faut : <code>1.2</code>).</li> <li>Retourne: <code>int</code> : Nombre de couches requises.</li> <li>L\u00e8ve: <code>ValueError</code> si l'\u00e9paisseur de la couche limite est non positive.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotutilitiesmanageunitsquantity","title":"<code>foampilot.utilities.manageunits.Quantity</code>","text":"<p>La classe <code>Quantity</code> est un wrapper pour les quantit\u00e9s Pint afin de g\u00e9rer les valeurs avec des unit\u00e9s physiques. Elle fournit une interface pratique pour stocker des valeurs avec des unit\u00e9s, les convertir dans d'autres unit\u00e9s et les afficher.</p> <p>Attributs:</p> <ul> <li><code>quantity</code> (pint.Quantity): La quantit\u00e9 avec sa valeur num\u00e9rique et son unit\u00e9 associ\u00e9e.</li> </ul> <p>Constructeur:</p> <pre><code>Quantity(value, unit)\n</code></pre> <ul> <li><code>value</code> (float): La valeur num\u00e9rique de la quantit\u00e9.</li> <li><code>unit</code> (str): L'unit\u00e9 sous forme de cha\u00eene de caract\u00e8res (par exemple, <code>\"m/s\"</code>, <code>\"Pa\"</code>, <code>\"kg\"</code>).</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>set_quantity(value, unit)</code>:   Met \u00e0 jour la quantit\u00e9 avec une nouvelle valeur et unit\u00e9.</li> <li><code>value</code> (float): La nouvelle valeur num\u00e9rique.</li> <li> <p><code>unit</code> (str): La nouvelle unit\u00e9 associ\u00e9e.</p> </li> <li> <p><code>get_in(target_unit)</code>:   Convertit la quantit\u00e9 en une unit\u00e9 sp\u00e9cifi\u00e9e et retourne sa valeur.</p> </li> <li><code>target_unit</code> (str): L'unit\u00e9 cible pour la conversion (par exemple, <code>\"ft/s\"</code>, <code>\"inch\"</code>, <code>\"psi\"</code>).</li> <li> <p>Retourne: <code>float</code> : La valeur num\u00e9rique convertie dans l'unit\u00e9 cible.</p> </li> <li> <p><code>__repr__()</code>:   Retourne une repr\u00e9sentation textuelle de la quantit\u00e9.</p> </li> <li>Retourne: <code>str</code> : La valeur num\u00e9rique avec son unit\u00e9 (par exemple, <code>\"10.0 m/s\"</code>).</li> </ul>"},{"location":"dev/dev_detailed_documentation/#foampilotutilitiesstl_analyzerstlanalyzer","title":"<code>foampilot.utilities.stl_analyzer.STLAnalyzer</code>","text":"<p>La classe <code>STLAnalyzer</code> est con\u00e7ue pour analyser et traiter les fichiers STL (Stereolithography). Elle fournit des m\u00e9thodes pour charger des fichiers STL, extraire des propri\u00e9t\u00e9s g\u00e9om\u00e9triques, effectuer des requ\u00eates spatiales et calculer des param\u00e8tres li\u00e9s au maillage pour les simulations CFD.</p> <p>Attributs:</p> <ul> <li><code>filename</code> (Path): Objet <code>Path</code> pointant vers le fichier STL.</li> <li><code>mesh</code> (pv.PolyData): Objet maillage PyVista contenant la g\u00e9om\u00e9trie STL charg\u00e9e.</li> <li><code>reader</code> (pyvista.reader): Objet lecteur pour le fichier STL.</li> </ul> <p>Constructeur:</p> <pre><code>STLAnalyzer(filename)\n</code></pre> <ul> <li><code>filename</code> (Path): Objet <code>Path</code> pointant vers le fichier STL \u00e0 analyser.</li> </ul> <p>M\u00e9thodes:</p> <ul> <li><code>load()</code>:   Charge et retourne le fichier STL en tant que maillage PyVista.</li> <li> <p>Retourne: <code>pv.PolyData</code> : L'objet maillage charg\u00e9.</p> </li> <li> <p><code>get_info()</code>:   Obtient des informations g\u00e9om\u00e9triques de base sur le maillage charg\u00e9.</p> </li> <li>Retourne: <code>dict</code> : Dictionnaire contenant les propri\u00e9t\u00e9s du maillage, y compris le nombre de points, de cellules, les dimensions, la surface et le volume.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas encore \u00e9t\u00e9 charg\u00e9.</p> </li> <li> <p><code>is_point_inside(point)</code>:   V\u00e9rifie si un point 3D se trouve \u00e0 l'int\u00e9rieur du maillage STL ferm\u00e9.</p> </li> <li><code>point</code> (tuple): Coordonn\u00e9es (x, y, z) du point \u00e0 tester.</li> <li>Retourne: <code>bool</code> : <code>True</code> si le point est \u00e0 l'int\u00e9rieur du maillage, <code>False</code> sinon.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas encore \u00e9t\u00e9 charg\u00e9.</p> </li> <li> <p><code>get_center_of_mass()</code>:   Calcule le centre de masse du maillage STL.</p> </li> <li>Retourne: <code>tuple</code> : Coordonn\u00e9es (x, y, z) du centre de masse.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas encore \u00e9t\u00e9 charg\u00e9.</p> </li> <li> <p><code>get_curvature()</code>:   Calcule les valeurs de courbure moyenne et gaussienne pour le maillage.</p> </li> <li>Retourne: <code>dict</code> : Dictionnaire contenant <code>Mean_Curvature</code> et <code>Gaussian_Curvature</code>.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas encore \u00e9t\u00e9 charg\u00e9.</p> </li> <li> <p><code>get_smallest_curvature()</code>:   Trouve la valeur de courbure moyenne minimale dans le maillage.</p> </li> <li>Retourne: <code>float</code> : La plus petite valeur de courbure moyenne.</li> <li> <p>L\u00e8ve: <code>ValueError</code> si le maillage n'a pas encore \u00e9t\u00e9 charg\u00e9.</p> </li> <li> <p><code>calc_mesh_settings(stlBoundingBox, nu=1e-6, rho=1000., U=1.0, maxCellSize=0.5, sizeFactor=1.0, expansion_ratio=1.5, onGround=False, internalFlow=False, refinement=1, nLayers=5, halfModel=False, thicknessRatio=0.3)</code>:   Calcule les param\u00e8tres de g\u00e9n\u00e9ration de maillage pour les simulations CFD bas\u00e9es sur la g\u00e9om\u00e9trie STL.</p> </li> <li><code>stlBoundingBox</code> (tuple): Bo\u00eete englobante du STL (xmin, xmax, ymin, ymax, zmin, zmax).</li> <li><code>nu</code> (float): Viscosit\u00e9 cin\u00e9matique (par d\u00e9faut : <code>1e-6</code>).</li> <li><code>rho</code> (float): Densit\u00e9 (par d\u00e9faut : <code>1000.</code>).</li> <li><code>U</code> (float): Vitesse caract\u00e9ristique (par d\u00e9faut : <code>1.0</code>).</li> <li><code>maxCellSize</code> (float): Taille maximale des cellules (par d\u00e9faut : <code>0.5</code>).</li> <li><code>sizeFactor</code> (float): Multiplicateur de la taille du domaine (par d\u00e9faut : <code>1.0</code>).</li> <li><code>expansion_ratio</code> (float): Rapport d'expansion de la couche limite (par d\u00e9faut : <code>1.5</code>).</li> <li><code>onGround</code> (bool): Indique si l'objet est au sol (affecte le domaine) (par d\u00e9faut : <code>False</code>).</li> <li><code>internalFlow</code> (bool): Indique si le flux est interne (affecte le dimensionnement des cellules) (par d\u00e9faut : <code>False</code>).</li> <li><code>refinement</code> (int): Niveau de raffinement (0=grossier, 1=moyen, 2=fin) (par d\u00e9faut : <code>1</code>).</li> <li><code>nLayers</code> (int): Nombre de couches limites (par d\u00e9faut : <code>5</code>).</li> <li><code>halfModel</code> (bool): Indique si un demi-mod\u00e8le est utilis\u00e9 (sym\u00e9trie) (par d\u00e9faut : <code>False</code>).</li> <li><code>thicknessRatio</code> (float): Rapport d'\u00e9paisseur de la couche finale (par d\u00e9faut : <code>0.3</code>).</li> <li>Retourne: <code>dict</code> : Dictionnaire contenant tous les param\u00e8tres de maillage calcul\u00e9s, y compris les dimensions du domaine, le nombre de cellules, les param\u00e8tres de taille de cellule, les niveaux de raffinement et les param\u00e8tres de mod\u00e9lisation de la turbulence.</li> </ul>"},{"location":"dev/dev_detailed_documentation/#conclusion","title":"Conclusion","text":"<p>Ce document fournit une documentation compl\u00e8te du module <code>foampilot</code>, couvrant ses principaux sous-modules et classes. Le module <code>foampilot</code> est con\u00e7u pour faciliter la configuration, l'ex\u00e9cution et le post-traitement des simulations OpenFOAM, en offrant des outils pour la gestion du maillage, la d\u00e9finition des conditions aux limites, la configuration des solveurs et l'analyse des r\u00e9sultats.</p> <p>Les am\u00e9liorations apport\u00e9es \u00e0 ce module visent \u00e0 renforcer sa robustesse, sa convivialit\u00e9 et sa capacit\u00e9 \u00e0 g\u00e9rer des cas de simulation complexes. En particulier, l'ajout de validations d'entr\u00e9e et d'une meilleure gestion des erreurs contribue \u00e0 une exp\u00e9rience utilisateur plus fiable.</p> <p>Pour toute question ou contribution, veuillez vous r\u00e9f\u00e9rer au d\u00e9p\u00f4t GitHub original : https://github.com/stevendaix/foampilot.</p>"},{"location":"dev/dev_index/","title":"index","text":"<p>Voici en d\u00e9tail la description des modules :</p> <ul> <li>Introduction</li> <li>Modules d\u00e9taill\u00e9s</li> <li>Gestion des quantit\u00e9es</li> </ul>"},{"location":"dev/dev_intro_documentation/","title":"Developer Quickstart Documentation: <code>foampilot</code> Module","text":""},{"location":"dev/dev_intro_documentation/#1-introduction","title":"1. Introduction","text":"<p>The <code>foampilot</code> module is designed to simplify and automate the creation, configuration, execution, and post-processing of simulation cases based on OpenFOAM. It provides an object-oriented Python interface to manage complex OpenFOAM configuration files, allowing developers to focus on the physics and geometry of the problem rather than dictionary syntax.</p> <p>This documentation aims to give a detailed overview of the code structure to facilitate understanding and contribution to the project.</p>"},{"location":"dev/dev_intro_documentation/#2-key-concepts-and-architecture","title":"2. Key Concepts and Architecture","text":"<p>The architecture of <code>foampilot</code> closely mirrors the structure of a standard OpenFOAM case, which is divided into three main directories: <code>constant</code>, <code>system</code>, and the initial time directory (<code>0</code>).</p>"},{"location":"dev/dev_intro_documentation/#central-class-solver","title":"Central Class: <code>Solver</code>","text":"<p>The <code>Solver</code> class (<code>foampilot.solver.Solver</code>) is the central orchestrator of the module. It encapsulates the entire simulation case and provides access points to the <code>constant</code> and <code>system</code> directories, as well as boundary condition management.</p> <p>Upon initialization, a <code>Solver</code> instance automatically creates objects needed to manage configuration files:</p> <ul> <li><code>solver.constant</code>: An instance of <code>ConstantDirectory</code> to manage files in the <code>constant</code> directory.</li> <li><code>solver.system</code>: An instance of <code>SystemDirectory</code> to manage files in the <code>system</code> directory.</li> <li><code>solver.boundary</code>: An instance of <code>Boundary</code> to manage boundary conditions.</li> </ul>"},{"location":"dev/dev_intro_documentation/#3-detailed-code-structure","title":"3. Detailed Code Structure","text":"<p>The core logic of <code>foampilot</code> is located in the <code>foampilot/foampilot/src/foampilot</code> directory. This directory is organized into logical submodules, each responsible for a specific aspect of OpenFOAM case management.</p> Source Directory Description Key Classes (Examples) <code>base</code> Base classes and utilities for OpenFOAM file handling. <code>Meshing</code>, <code>OpenFOAMFile</code> <code>solver</code> Contains the main <code>Solver</code> class and simulation execution logic. <code>Solver</code>, <code>BaseSolver</code> <code>constant</code> Manages configuration files in the <code>constant</code> directory. <code>ConstantDirectory</code>, <code>transportPropertiesFile</code>, <code>turbulencePropertiesFile</code> <code>system</code> Manages configuration files in the <code>system</code> directory. <code>SystemDirectory</code>, <code>controlDictFile</code>, <code>fvSchemesFile</code>, <code>fvSolutionFile</code> <code>boundaries</code> Defines and applies boundary conditions. <code>Boundary</code>, <code>boundaries_conditions_config</code> <code>mesh</code> Mesh tools, including integration with <code>classy_blocks</code> and <code>snappyHexMesh</code>. <code>BlockMeshFile</code>, <code>Meshing</code>, <code>gmsh_mesher</code> <code>utilities</code> Utility functions and classes not specific to OpenFOAM (units, fluid properties, etc.). <code>Quantity</code>, <code>FluidMechanics</code>, <code>manageunits</code> <code>postprocess</code> Classes for result analysis, visualization (via <code>pyvista</code>), and data extraction. <code>FoamPostProcessing</code>, <code>ResidualsPost</code>"},{"location":"dev/dev_intro_documentation/#4-internal-mechanisms-for-developers","title":"4. Internal Mechanisms for Developers","text":"<p>For effective contribution, it is essential to understand how <code>foampilot</code> translates Python objects into OpenFOAM files and manages complex configurations.</p>"},{"location":"dev/dev_intro_documentation/#41-file-writing-mechanism-openfoamfile","title":"4.1. File Writing Mechanism (<code>OpenFOAMFile</code>)","text":"<p>The core of data serialization lies in the base class <code>OpenFOAMFile</code> (<code>foampilot/foampilot/src/foampilot/base/openFOAMFile.py</code>).</p> <ul> <li>Inheritance and Attributes: Each OpenFOAM configuration file (e.g., <code>transportPropertiesFile</code> or <code>controlDictFile</code>) inherits from <code>OpenFOAMFile</code>. Configuration parameters are stored in the instance attribute <code>self.attributes</code>.</li> <li>Dynamic Access: Overriding magic methods <code>__getattr__</code> and <code>__setattr__</code> allows direct access and modification of parameters as object attributes (e.g., <code>solver.constant.transportProperties.nu = ...</code>), even if they are stored in the <code>self.attributes</code> dictionary.</li> <li>Serialization (<code>write_file</code>): The <code>write_file</code> method recursively iterates over <code>self.attributes</code> and uses the internal <code>_format_value</code> method to convert Python data types (booleans, numbers, tuples, especially <code>Quantity</code>) into OpenFOAM-specific syntax (e.g., <code>true</code>/<code>false</code>, parenthesis-enclosed lists).</li> </ul>"},{"location":"dev/dev_intro_documentation/#42-unit-and-dimension-management-quantity","title":"4.2. Unit and Dimension Management (<code>Quantity</code>)","text":"<p>The <code>Quantity</code> class (<code>foampilot/foampilot/src/foampilot/utilities/manageunits.py</code>) is a wrapper around the <code>pint</code> library and ensures physical consistency.</p> <ul> <li>Purpose: Stores a numerical value with its physical unit (e.g., <code>Quantity(10, \"m/s\")</code>).</li> <li>Automatic Conversion: When writing to an OpenFOAM file, <code>OpenFOAMFile._format_value</code> checks if the value is a <code>Quantity</code>. If so, it uses <code>get_in(target_unit)</code> to convert the value to the unit expected by OpenFOAM (defined in <code>OpenFOAMFile.DEFAULT_UNITS</code>), ensuring all written values are in OpenFOAM\u2019s base units.</li> <li>OpenFOAM Dimensions: The <code>to_openfoam_dimensions()</code> method uses <code>pint</code> to derive OpenFOAM\u2019s dimension vector (M, L, T, \u0398, N, J, A) from the unit, which is crucial for generating field file headers (e.g., <code>U</code>, <code>p</code>).</li> </ul>"},{"location":"dev/dev_intro_documentation/#43-solver-and-field-orchestration-solver-and-casefieldsmanager","title":"4.3. Solver and Field Orchestration (<code>Solver</code> and <code>CaseFieldsManager</code>)","text":"<p>The <code>Solver</code> class delegates field management to the <code>CaseFieldsManager</code> class (<code>foampilot/foampilot/src/foampilot/base/cases_variables.py</code>).</p> <ul> <li>Solver Selection: <code>Solver</code> (<code>foampilot/foampilot/src/foampilot/solver/solver.py</code>) uses boolean properties (e.g., <code>self.compressible</code>, <code>self.with_gravity</code>, <code>self.is_vof</code>) to determine the simulation type. The internal <code>_update_solver()</code> method selects the appropriate OpenFOAM solver (e.g., <code>incompressibleFluid</code>, <code>compressibleVoF</code>) and updates the <code>BaseSolver</code> instance.</li> <li>Field Management: <code>CaseFieldsManager</code> uses these properties to dynamically generate the list of required physical fields (e.g., <code>U</code>, <code>p</code>, <code>k</code>, <code>epsilon</code>, <code>T</code>).<ul> <li>If <code>self.with_gravity</code> is true, the pressure field becomes <code>p_rgh</code>.</li> <li>If a turbulence model is defined, associated fields (<code>k</code>, <code>epsilon</code>, <code>omega</code>, <code>nut</code>) are added.</li> <li>This field list is then used by <code>Boundary</code> to initialize boundary conditions for all required fields.</li> </ul> </li> </ul>"},{"location":"dev/dev_intro_documentation/#44-advanced-boundary-condition-management-boundary","title":"4.4. Advanced Boundary Condition Management (<code>Boundary</code>)","text":"<p>The <code>Boundary</code> class (<code>foampilot/foampilot/src/foampilot/boundaries/boundaries_dict.py</code>) translates physical boundary conditions into OpenFOAM configurations.</p> <ul> <li>Centralized Configuration: Uses a configuration dictionary (<code>BOUNDARY_CONDITIONS_CONFIG</code>) mapping physical condition types (e.g., <code>\"velocityInlet\"</code>) to required OpenFOAM configurations for each field (U, p, k, etc.) based on the selected turbulence model.</li> <li>Wildcard Application: <code>apply_condition_with_wildcard(pattern, condition_type, **kwargs)</code> applies a condition to all patches matching a regular expression (<code>pattern</code>).</li> <li>Condition Resolution: For each field, <code>_resolve_field_config</code> determines the final OpenFOAM configuration. For example, a wall condition selects between <code>noSlip</code> or <code>slip</code> and applies appropriate wall functions (<code>wallFunction</code>) for turbulence fields using the <code>WALL_FUNCTIONS</code> dictionary.</li> <li>File Generation: <code>write_boundary_conditions()</code> iterates over all fields managed by <code>CaseFieldsManager</code> and uses <code>OpenFOAMFile.write_boundary_file</code> to generate boundary condition files in the <code>0/</code> directory.</li> </ul>"},{"location":"dev/dev_intro_documentation/#5-developer-workflow-based-on-mufflerpy","title":"5. Developer Workflow (Based on <code>muffler.py</code>)","text":"<p>This usage example illustrates a typical workflow for a developer using <code>foampilot</code>:</p> Step Description Key Classes and Methods 1. Initialization Set working directory and initialize solver. <code>Solver(path)</code>, <code>FluidMechanics</code> 2. Physical Configuration Determine fluid properties and apply them to configuration files. <code>FluidMechanics.get_fluid_properties()</code>, <code>solver.constant.transportProperties.nu = ...</code> 3. Mesh Define geometry and mesh (often via <code>classy_blocks</code> integration) and generate <code>blockMeshDict</code>. <code>classy_blocks.Cylinder</code>, <code>cb.Mesh()</code>, <code>Meshing(path, mesher=\"blockMesh\")</code> 4. Boundary Conditions Initialize and apply boundary conditions to mesh-defined patches. <code>solver.boundary.initialize_boundary()</code>, <code>solver.boundary.apply_condition_with_wildcard()</code> 5. File Writing Generate all OpenFOAM configuration files on disk. <code>solver.system.write()</code>, <code>solver.constant.write()</code>, <code>solver.boundary.write_boundary_conditions()</code> 6. Execution Run the OpenFOAM simulation. <code>solver.run_simulation()</code> 7. Post-Processing Analyze results, generate visualizations and reports. <code>FoamPostProcessing</code>, <code>ResidualsPost</code>, <code>latex_pdf.LatexDocument</code> <p>This workflow highlights how the different <code>foampilot</code> modules interact to provide a complete abstraction of the OpenFOAM simulation process. To contribute effectively, a developer must understand how each module class interacts with the central <code>Solver</code> object and how Python commands are translated into OpenFOAM dictionary syntax.</p>"},{"location":"dev/manage_quantity/","title":"Gestion des quantit\u00e9s","text":"<pre><code># `Quantity` Class: Detailed Method Documentation\n\nThis document provides a detailed explanation of each method of the `Quantity` class, designed to handle physical quantities with units.\n\n## Introduction\n\nThe `Quantity` class is a wrapper around the Pint library, allowing manipulation of values associated with physical units. It facilitates unit conversion, display, serialization, and arithmetic operations.\n\n## Constructor\n\n### Description\n\nThe constructor initializes a new `Quantity` instance with a numeric value and a unit.\n\n- **Parameters**:\n  - `value`: Numeric value of the quantity.\n  - `unit`: String representing the unit (e.g., \"m/s\", \"Pa\", \"kg\").\n\n## Main Methods\n\n### `set_quantity`\n\n#### Description\n\nUpdates the value and unit of the quantity.\n\n- **Parameters**:\n  - `value`: New numeric value.\n  - `unit`: New unit.\n\n### `get_in`\n\n#### Description\n\nConverts the quantity to a target unit and returns its numeric value.\n\n- **Parameters**:\n  - `target_unit`: Unit to convert to.\n- **Returns**: Numeric value in the target unit.\n- **Exceptions**: Raises an error if conversion is not possible.\n\n### `to`\n\n#### Description\n\nConverts the quantity to a target unit and returns a new `Quantity` object.\n\n- **Parameters**:\n  - `target_unit`: Unit to convert to.\n- **Returns**: A new `Quantity` object with the converted value.\n- **Exceptions**: Raises an error if conversion is not possible.\n\n## Serialization\n\n### `as_dict`\n\n#### Description\n\nReturns a dictionary representation of the quantity.\n\n- **Returns**: A dictionary with keys `value` and `unit`.\n- **Example Output**: `{\"value\": 10.0, \"unit\": \"meter / second\"}`\n\n### `from_dict`\n\n#### Description\n\nCreates a `Quantity` object from a dictionary.\n\n- **Parameters**:\n  - `data`: Dictionary containing `value` and `unit`.\n- **Returns**: A new `Quantity` object.\n\n### `from_pint`\n\n#### Description\n\nCreates a `Quantity` object from a Pint Quantity.\n\n- **Parameters**:\n  - `pint_quantity`: Pint Quantity object.\n- **Returns**: A new `Quantity` object.\n\n## Representation\n\n### `__repr__` and `__str__`\n\n#### Description\n\n- **`__repr__`**: Returns a formal representation of the object, useful for debugging.\n- **`__str__`**: Returns a human-readable representation of the object.\n\n## Arithmetic Operations\n\n### Description\n\nThe class supports `+`, `-`, `*`, `/` operations with other `Quantity` objects or scalars.\n\n- **Addition (`__add__`)**: Adds two quantities or a quantity and a scalar.\n- **Subtraction (`__sub__`)**: Subtracts two quantities or a quantity and a scalar.\n- **Multiplication (`__mul__`)**: Multiplies two quantities or a quantity and a scalar.\n- **Division (`__truediv__`)**: Divides two quantities or a quantity and a scalar.\n\n- **Returns**: A new `Quantity` object representing the result of the operation.\n\n## Usage Examples\n\n1. **Creating objects**:\n   - `speed = Quantity(10, \"m/s\")`\n   - `pressure = Quantity(101325, \"Pa\")`\n\n2. **Conversion**:\n   - `speed.get_in(\"km/h\")`\n   - `pressure.get_in(\"atm\")`\n\n3. **Arithmetic**:\n   - `d1 + d2`\n   - `force / area`\n\n4. **Serialization**:\n   - `data = {\"speed\": speed.as_dict(), \"pressure\": pressure.as_dict()}`\n   - `json_str = json.dumps(data, indent=2)`\n\n5. **Deserialization**:\n   - `speed_loaded = Quantity.from_dict(loaded_data[\"speed\"])`\n\n## Conclusion\n\nThe `Quantity` class simplifies handling physical quantities with units in Python, leveraging Pint for conversions and adding serialization and arithmetic capabilities.\n</code></pre>"},{"location":"example/presentation_example/","title":"FOAMPilot Examples","text":"<p>FOAMPilot is a Python library designed to simplify the creation, configuration, and execution of OpenFOAM simulations. It provides a modular and intuitive approach to manage CFD cases, mesh generation, boundary conditions, function objects, and post-processing of results.</p> <p>This section presents different examples illustrating the advantages and flexibility of FOAMPilot for automating CFD workflows and facilitating learning OpenFOAM with Python.</p>"},{"location":"example/presentation_example/#objectives-of-the-examples","title":"Objectives of the Examples","text":"<p>The examples aim to:</p> <ul> <li>Show how to initialize an OpenFOAM case from Python.</li> <li>Demonstrate mesh generation and modification using JSON files.</li> <li>Illustrate the definition of fluid properties and boundary conditions.</li> <li>Set up <code>functionObjects</code> to monitor physical quantities (forces, pressure, field averages, etc.).</li> <li>Create and manage OpenFOAM-specific dictionaries (<code>topoSetDict</code>, <code>createPatchDict</code>, etc.).</li> <li>Run the simulation and automate post-processing.</li> <li>Provide reproducible examples for learning and prototyping.</li> </ul>"},{"location":"example/presentation_example/#list-of-examples","title":"List of Examples","text":"<p>This section will be updated as more tests are developed.</p> <ul> <li>Muffler: A detailed example of a car muffler, showing complex mesh generation, boundary conditions, and analysis of acoustic and fluidic results.  </li> <li>SimpleCar: Example based on the official OpenFOAM tutorial SimpleCar, illustrating the simulation of airflow around a simple car with JSON-based mesh generation, boundary condition application, and aerodynamic force monitoring.</li> </ul>"},{"location":"example/presentation_example/#notes","title":"Notes","text":"<p>Each example comes with a standalone Python script that:</p> <ol> <li>Defines the case path (<code>current_path</code>).</li> <li>Initializes fluid properties (density, viscosity, pressure, temperature, etc.).</li> <li>Initializes the FOAMPilot solver and system/constant folders.</li> <li>Generates the mesh from a JSON file.</li> <li>Adds the necessary <code>functionObjects</code> (field average, reference pressure, run-time control, etc.).</li> <li>Manipulates OpenFOAM dictionaries for patch creation and zone definition.</li> <li>Applies boundary conditions using the modern API.</li> <li>Runs the simulation.</li> <li>Automatically post-processes results and exports CSV, JSON, PNG, and HTML files.</li> </ol> <p>These examples are designed to be modular and easily adaptable to various CFD case studies.</p>"},{"location":"example/muffler/detailled_example_muffler/","title":"Muffler CFD Example \u2013 FoamPilot","text":""},{"location":"example/muffler/detailled_example_muffler/#overview","title":"Overview","text":"<p>This example demonstrates a complete CFD workflow using FoamPilot and OpenFOAM to simulate an incompressible flow through a muffler geometry. It is intended as a reference example showcasing FoamPilot\u2019s philosophy:</p> <ul> <li>Explicit physical modeling (fluids, units)</li> <li>Parametric geometry and structured meshing</li> <li>Robust boundary-condition management</li> <li>Automated simulation execution</li> <li>Advanced post-processing and visualization</li> <li>Automatic PDF report generation</li> </ul> <p>\ud83d\udcc1 Location: <code>examples/muffler</code></p>"},{"location":"example/muffler/detailled_example_muffler/#1-prerequisites","title":"1. Prerequisites","text":"<p>Before running this example, ensure that:</p> <ul> <li>OpenFOAM is correctly installed and accessible in your environment</li> <li>FoamPilot is installed</li> <li>The following Python dependencies are available:</li> <li><code>classy_blocks</code></li> <li><code>pyvista</code></li> <li><code>numpy</code></li> <li><code>pandas</code></li> </ul>"},{"location":"example/muffler/detailled_example_muffler/#2-case-initialization","title":"2. Case Initialization","text":"<p>We start by defining the working directory and initializing the FoamPilot solver.</p> <pre><code>from foampilot.solver import Solver\nfrom pathlib import Path\n\ncurrent_path = Path.cwd() / \"cas_test\"\nsolver = Solver(current_path)\n\nsolver.compressible = False\nsolver.with_gravity = False\n</code></pre> <p>The <code>Solver</code> class is the central orchestration object in FoamPilot. It coordinates:</p> <ul> <li>OpenFOAM dictionaries</li> <li>Boundary conditions</li> <li>Simulation execution</li> </ul>"},{"location":"example/muffler/detailled_example_muffler/#3-fluid-properties","title":"3. Fluid Properties","text":"<p>FoamPilot relies on explicit fluid modeling through the <code>FluidMechanics</code> API.</p> <pre><code>from foampilot import FluidMechanics, Quantity\n\navailable_fluids = FluidMechanics.get_available_fluids()\n\nfluid = FluidMechanics(\n    available_fluids[\"Water\"],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\n\nproperties = fluid.get_fluid_properties()\nnu = properties[\"kinematic_viscosity\"]\n</code></pre> <p>The kinematic viscosity is then injected directly into the OpenFOAM configuration:</p> <pre><code>solver.constant.transportProperties.nu = nu\n</code></pre> <p>This ensures unit consistency and avoids hard-coded numerical values.</p>"},{"location":"example/muffler/detailled_example_muffler/#4-writing-openfoam-configuration-files","title":"4. Writing OpenFOAM Configuration Files","text":"<pre><code>solver.system.write()\nsolver.constant.write()\nsolver.system.fvSchemes.to_dict()\n</code></pre> <p>FoamPilot automatically generates:</p> <ul> <li><code>controlDict</code></li> <li><code>fvSchemes</code></li> <li><code>fvSolution</code></li> <li><code>transportProperties</code></li> </ul>"},{"location":"example/muffler/detailled_example_muffler/#5-geometry-definition-classyblocks","title":"5. Geometry Definition (ClassyBlocks)","text":""},{"location":"example/muffler/detailled_example_muffler/#51-geometric-parameters","title":"5.1 Geometric Parameters","text":"<pre><code>pipe_radius = 0.05\nmuffler_radius = 0.08\nref_length = 0.1\ncell_size = 0.015\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#52-geometry-construction","title":"5.2 Geometry Construction","text":"<p>The geometry is built as a sequence of parametric shapes:</p> <ol> <li>Inlet pipe (cylinder)</li> <li>Expansion ring (muffler body)</li> <li>Filled section</li> <li>90\u00b0 elbow outlet</li> </ol> <p>Example for the inlet cylinder:</p> <pre><code>import classy_blocks as cb\n\nshapes = []\n\nshapes.append(cb.Cylinder(\n    [0, 0, 0],\n    [3 * ref_length, 0, 0],\n    [0, pipe_radius, 0]\n))\n\nshapes[-1].chop_axial(start_size=cell_size)\nshapes[-1].chop_radial(start_size=cell_size)\nshapes[-1].chop_tangential(start_size=cell_size)\nshapes[-1].set_start_patch(\"inlet\")\n</code></pre> <p>Patches are defined at geometry level, ensuring consistency between meshing and boundary conditions.</p>"},{"location":"example/muffler/detailled_example_muffler/#6-mesh-generation","title":"6. Mesh Generation","text":"<pre><code>mesh = cb.Mesh()\nfor shape in shapes:\n    mesh.add(shape)\n\nmesh.set_default_patch(\"walls\", \"wall\")\nmesh.write(\n    current_path / \"system\" / \"blockMeshDict\",\n    current_path / \"debug.vtk\"\n)\n</code></pre> <p>The mesh is then generated using OpenFOAM:</p> <pre><code>from foampilot import Meshing\n\nmeshing = Meshing(current_path, mesher=\"blockMesh\")\nmeshing.mesher.run()\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#7-boundary-conditions","title":"7. Boundary Conditions","text":"<p>FoamPilot provides a generic wildcard-based boundary API.</p> <pre><code>solver.boundary.initialize_boundary()\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#71-velocity-inlet","title":"7.1 Velocity Inlet","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"inlet\",\n    condition_type=\"velocityInlet\",\n    velocity=(\n        Quantity(10, \"m/s\"),\n        Quantity(0, \"m/s\"),\n        Quantity(0, \"m/s\")\n    ),\n    turbulence_intensity=0.05\n)\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#72-pressure-outlet","title":"7.2 Pressure Outlet","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"outlet\",\n    condition_type=\"pressureOutlet\"\n)\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#73-walls","title":"7.3 Walls","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"walls\",\n    condition_type=\"wall\"\n)\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#74-writing-boundary-files","title":"7.4 Writing Boundary Files","text":"<pre><code>solver.boundary.write_boundary_conditions()\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#8-running-the-simulation","title":"8. Running the Simulation","text":"<pre><code>solver.run_simulation()\n</code></pre> <p>FoamPilot automatically manages:</p> <ul> <li>solver selection</li> <li>execution</li> <li>logging</li> </ul>"},{"location":"example/muffler/detailled_example_muffler/#9-post-processing","title":"9. Post-processing","text":""},{"location":"example/muffler/detailled_example_muffler/#91-residuals","title":"9.1 Residuals","text":"<pre><code>from foampilot.utilities import ResidualsPost\n\nresiduals = ResidualsPost(current_path / \"log.incompressibleFluid\")\nresiduals.process(\n    export_csv=True,\n    export_json=True,\n    export_png=True,\n    export_html=True\n)\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#92-conversion-to-vtk","title":"9.2 Conversion to VTK","text":"<pre><code>from foampilot import postprocess\n\nfoam_post = postprocess.FoamPostProcessing(case_path=current_path)\nfoam_post.foamToVTK()\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#10-visualization-and-analysis","title":"10. Visualization and Analysis","text":"<p>FoamPilot integrates tightly with PyVista.</p> <p>Available analyses include:</p> <ul> <li>Scalar and vector visualization</li> <li>Q-criterion</li> <li>Vorticity</li> <li>Mesh statistics</li> <li>Region-based statistics</li> <li>CSV / JSON export</li> <li>Animations</li> </ul> <pre><code>foam_post.calculate_q_criterion(mesh=cell_mesh, velocity_field=\"U\")\nfoam_post.calculate_vorticity(mesh=cell_mesh, velocity_field=\"U\")n\nfoam_post.create_animation(\n    scalars=\"U\",\n    filename=current_path / \"animation.gif\",\n    fps=5\n)\n</code></pre>"},{"location":"example/muffler/detailled_example_muffler/#11-automatic-pdf-report-generation","title":"11. Automatic PDF Report Generation","text":"<p>FoamPilot includes a LaTeX-based reporting engine.</p> <pre><code>from foampilot import latex_pdf\n\ndoc = latex_pdf.LatexDocument(\n    title=\"Simulation Report: Muffler Flow Case\",\n    author=\"Automated Report\",\n    output_dir=current_path\n)\n\ndoc.add_title()\ndoc.add_toc()\ndoc.add_abstract(\n    \"This report summarizes the incompressible CFD simulation of a muffler.\"\n)\n\ndoc.generate_document(output_format=\"pdf\")\n</code></pre> <p>The generated report includes:</p> <ul> <li>Fluid properties</li> <li>Mesh statistics</li> <li>Field statistics</li> <li>Figures</li> <li>Data appendices</li> </ul>"},{"location":"example/muffler/detailled_example_muffler/#12-summary","title":"12. Summary","text":"<p>This example demonstrates a full industrial-grade CFD workflow:</p> <ul> <li>Parametric geometry and meshing</li> <li>Physically consistent fluid modeling</li> <li>Robust boundary-condition management</li> <li>Advanced post-processing</li> <li>Automated reporting</li> </ul> <p>It is intended as a template for more complex CFD studies using FoamPilot.</p>"},{"location":"example/simplecar/detailled_example/","title":"OpenFOAM Python Example with Foampilot \u2013 Detailed Explanation","text":"<p>This document explains step by step the Python example that sets up and runs an OpenFOAM simulation using the Foampilot library. It covers the mesh generation from JSON, solver setup, function objects, boundary conditions, and post-processing.</p> <p>SimpleCar Tutorial (OpenFOAM)</p>"},{"location":"example/simplecar/detailled_example/#1-define-case-path","title":"1. Define Case Path","text":"<pre><code>current_path = Path.cwd() / \"cases\"\n</code></pre> <p>We define the directory where the simulation case will be stored. All OpenFOAM folders like <code>system</code>, <code>constant</code>, and <code>0</code> will be generated under this path.</p>"},{"location":"example/simplecar/detailled_example/#2-fluid-properties-modern-api","title":"2. Fluid Properties (Modern API)","text":"<pre><code>available_fluids = FluidMechanics.get_available_fluids()\nfluid = FluidMechanics(\n    available_fluids[\"Air\"],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\nnu = fluid.get_fluid_properties()[\"kinematic_viscosity\"]\n</code></pre> <ul> <li><code>FluidMechanics.get_available_fluids()</code> returns a dictionary of predefined fluids.</li> <li><code>FluidMechanics</code> allows setting temperature and pressure.</li> <li><code>get_fluid_properties()</code> returns properties like <code>kinematic_viscosity</code> (<code>nu</code>) for later use in the solver.</li> </ul>"},{"location":"example/simplecar/detailled_example/#3-initialize-solver","title":"3. Initialize Solver","text":"<pre><code>solver = Solver(current_path)\nsolver.compressible = False\nsolver.with_gravity = False\nsolver.constant.transportProperties.nu = nu\nsolver.system.write()\nsolver.constant.write()\n</code></pre> <ul> <li>Initializes the solver object with the case path.</li> <li>Sets incompressible flow and no gravity.</li> <li>Sets the viscosity in <code>transportProperties</code>.</li> <li>Writes default OpenFOAM folders: <code>system</code> and <code>constant</code>.</li> </ul>"},{"location":"example/simplecar/detailled_example/#4-mesh-generation-via-json","title":"4. Mesh Generation via JSON","text":"<pre><code>data_path = Path.cwd() / \"block_mesh.json\"\nmesh = Meshing(current_path, mesher=\"blockMesh\")\nmesh.mesher.load_from_json(data_path)\nmesh.mesher.write(file_path=current_path / \"system\" / \"blockMeshDict\")\nmesh.mesher.run()\n</code></pre> <ul> <li>JSON-based mesh: the mesh configuration (blocks, vertices, boundaries) is stored in <code>block_mesh.json</code>.</li> <li><code>load_from_json()</code> reads the JSON and converts it into an internal Python structure for <code>blockMesh</code>.</li> <li><code>write()</code> generates the OpenFOAM <code>blockMeshDict</code> file.</li> <li><code>run()</code> executes <code>blockMesh</code> to create the mesh.</li> </ul> <p>This approach allows dynamic modification of meshes without manually editing OpenFOAM dictionaries.</p>"},{"location":"example/simplecar/detailled_example/#5-function-objects","title":"5. Function Objects","text":""},{"location":"example/simplecar/detailled_example/#51-field-average","title":"5.1 Field Average","text":"<pre><code>name_field, field_average_dict = utilities.Functions.field_average(\"fieldAverage\")\nutilities.Functions.write_function_field_average(name_field, field_average_dict, base_path=current_path, folder='system')\n</code></pre> <ul> <li>Creates a fieldAverage function object in <code>system/controlDict</code>.</li> <li><code>field_average_dict</code> contains configuration: which field to average and over which patches.</li> <li><code>write_function_field_average()</code> writes it to OpenFOAM format.</li> </ul>"},{"location":"example/simplecar/detailled_example/#52-reference-pressure","title":"5.2 Reference Pressure","text":"<pre><code>name_field_ref, reference_dict = utilities.Functions.reference_pressure(\"referencePressure\")\nutilities.Functions.write_function_reference_pressure(name_field_ref, reference_dict, base_path=current_path, folder='system')\n</code></pre> <ul> <li>Sets a reference pressure to avoid singularities in incompressible solvers.</li> <li>Automatically writes the function object in <code>controlDict</code>.</li> </ul>"},{"location":"example/simplecar/detailled_example/#53-run-time-control","title":"5.3 Run-Time Control","text":"<pre><code>conditions1 = {\n    \"condition1\": {\n        \"type\": \"average\",\n        \"functionObject\": \"forceCoeffs1\",\n        \"fields\": \"(Cd)\",\n        \"tolerance\": \"1e-3\",\n        \"window\": \"20\",\n        \"windowType\": \"exact\"\n    }\n}\nname_field_rt1, rt1_dict = utilities.Functions.run_time_control(\"runTimeControl\", conditions=conditions1)\nutilities.Functions.write_function_run_time_control(\n    name_field=name_field_rt1,\n    name_condition=\"runTimeControl1\",\n    function_dict=rt1_dict,\n    base_path=current_path,\n    folder='system'\n)\nsolver.system.write_functions_file(includes=[\"fieldAverage\", \"runTimeControl\"])\n</code></pre> <ul> <li>Allows stopping criteria based on conditions like maximum duration or convergence of averages.</li> <li><code>run_time_control</code> returns a dictionary describing the control logic.</li> <li><code>write_function_run_time_control()</code> saves it to <code>system/controlDict</code>.</li> <li><code>write_functions_file()</code> updates the functions list.</li> </ul>"},{"location":"example/simplecar/detailled_example/#6-patches-toposetdict","title":"6. Patches &amp; topoSetDict","text":""},{"location":"example/simplecar/detailled_example/#61-createpatchdict","title":"6.1 createPatchDict","text":"<pre><code>patch_names = [\"airIntake\"]\npatches_dict = utilities.dictonnary.dict_tools.create_patches_dict(patch_names)\ncreate_patch_dict_file = utilities.dictonnary.OpenFOAMDictAddFile(object_name='createPatchDict', **patches_dict)\ncreate_patch_dict_file.write(\"createPatchDict\", current_path)\n</code></pre> <ul> <li><code>create_patches_dict()</code> defines new patches dynamically.</li> <li><code>OpenFOAMDictAddFile</code> writes the OpenFOAM dictionary to disk.</li> </ul>"},{"location":"example/simplecar/detailled_example/#62-toposetdict","title":"6.2 topoSetDict","text":"<pre><code>actions = [\n    utilities.dictonnary.dict_tools.create_action(...),\n    ...\n]\nactions_dict = utilities.dictonnary.dict_tools.create_actions_dict(actions)\ncreate_topo_set_dict_file = utilities.dictonnary.OpenFOAMDictAddFile(object_name='topoSetDict', **actions_dict)\ncreate_topo_set_dict_file.write(\"topoSetDict\", current_path)\nsolver.system.run_topoSet()\nsolver.system.run_createPatch()\n</code></pre> <ul> <li><code>topoSetDict</code> is used to define cell/face/zone sets programmatically.</li> <li><code>create_action()</code> defines operations like creating a <code>cellSet</code> or <code>faceSet</code>.</li> <li><code>run_topoSet()</code> executes the <code>topoSet</code> utility.</li> <li><code>run_createPatch()</code> creates the defined patches in OpenFOAM.</li> </ul>"},{"location":"example/simplecar/detailled_example/#7-boundary-conditions","title":"7. Boundary Conditions","text":"<pre><code>solver.boundary.initialize_boundary()\nsolver.boundary.apply_condition_with_wildcard(pattern=\"inlet\", condition_type=\"velocityInlet\", velocity=(Quantity(10, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\nsolver.boundary.apply_condition_with_wildcard(pattern=\"airIntake\", condition_type=\"velocityInlet\", velocity=(Quantity(1.2, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\nsolver.boundary.apply_condition_with_wildcard(pattern=\"outlet\", condition_type=\"pressureOutlet\")\nsolver.boundary.apply_condition_with_wildcard(pattern=\"walls\", condition_type=\"wall\")\nsolver.boundary.write_boundary_conditions()\n</code></pre> <ul> <li><code>initialize_boundary()</code> prepares the 0 folder structure.</li> <li><code>apply_condition_with_wildcard()</code> applies conditions to all patches matching a pattern.</li> <li><code>write_boundary_conditions()</code> writes all OpenFOAM boundary files.</li> </ul>"},{"location":"example/simplecar/detailled_example/#8-run-simulation","title":"8. Run Simulation","text":"<pre><code>solver.run_simulation()\n</code></pre> <ul> <li>Executes the OpenFOAM solver (<code>simpleFoam</code>) with all configured settings.</li> </ul>"},{"location":"example/simplecar/detailled_example/#9-post-processing","title":"9. Post-Processing","text":"<pre><code>residuals_post = utilities.ResidualsPost(current_path / \"log.incompressibleFluid\")\nresiduals_post.process(export_csv=True, export_json=True, export_png=True, export_html=True)\n</code></pre> <ul> <li>Extracts residuals from the log file.</li> <li>Exports results in multiple formats: CSV, JSON, PNG, and HTML.</li> </ul>"},{"location":"example/simplecar/detailled_example/#summary","title":"\u2705 Summary","text":"<p>This example demonstrates:</p> <ol> <li>Dynamic mesh generation from JSON.</li> <li>Automatic function objects for averages, references, and run-time control.</li> <li>Patch and cell/face set management via <code>createPatchDict</code> and <code>topoSetDict</code>.</li> <li>Flexible boundary condition setup using wildcards.</li> <li>Seamless simulation and post-processing using Python wrappers.</li> </ol>"},{"location":"fr/","title":"Accueil","text":"<p>Bienvenue sur la documentation FoamPilot.</p> <ul> <li>\u00c0 propos</li> <li>Installation OpenFOAM</li> <li>Pr\u00e9sentation de FOAMPilot</li> <li>Guide th\u00e9orique sur les m\u00e9thodes</li> <li>Guide utilisateur</li> <li>Partie d\u00e9vellopeur</li> <li> </li> </ul>"},{"location":"fr/#examples","title":"Examples","text":""},{"location":"fr/fluids_theory/","title":"\ud83d\udcda Documentation Th\u00e9orique pour la M\u00e9canique des Fluides","text":"<p>Ce document fournit un aper\u00e7u th\u00e9orique des principes de m\u00e9canique des fluides mis en \u0153uvre dans la classe Python <code>FluidMechanics</code>. Il vise \u00e0 servir de guide complet pour les utilisateurs et les d\u00e9veloppeurs cherchant \u00e0 comprendre la physique et les mod\u00e8les math\u00e9matiques sous-jacents utilis\u00e9s dans la biblioth\u00e8que pour les applications de Dynamique des Fluides Computationnelle (CFD).</p>"},{"location":"fr/fluids_theory/#1-introduction-a-la-mecanique-des-fluides-pour-la-cfd","title":"1. Introduction \u00e0 la M\u00e9canique des Fluides pour la CFD","text":"<p>La m\u00e9canique des fluides est la branche de la physique qui s'int\u00e9resse \u00e0 la m\u00e9canique des fluides (liquides, gaz et plasmas) et aux forces qui s'exercent sur eux. Elle a un large \u00e9ventail d'applications, notamment l'a\u00e9ronautique, le g\u00e9nie civil, la m\u00e9t\u00e9orologie et le g\u00e9nie biom\u00e9dical. Dans le contexte de la Dynamique des Fluides Computationnelle (CFD), les principes de la m\u00e9canique des fluides sont discr\u00e9tis\u00e9s et r\u00e9solus num\u00e9riquement pour simuler les ph\u00e9nom\u00e8nes d'\u00e9coulement de fluide. La classe <code>FluidMechanics</code> encapsule plusieurs concepts fondamentaux et corr\u00e9lations empiriques cruciaux pour la mise en place et l'analyse des simulations CFD, particuli\u00e8rement concernant la g\u00e9n\u00e9ration de maillage et les conditions aux limites.</p> <p>Les simulations CFD reposent fortement sur la compr\u00e9hension du comportement des fluides \u00e0 diverses \u00e9chelles et conditions. Cela inclut la caract\u00e9risation du r\u00e9gime d'\u00e9coulement, la pr\u00e9diction des pertes d'\u00e9nergie et l'analyse des m\u00e9canismes de transfert de chaleur. La classe <code>FluidMechanics</code> fournit des outils pour quantifier ces aspects, ce qui facilite la pr\u00e9paration des entr\u00e9es de simulation et l'interpr\u00e9tation des r\u00e9sultats pour les ing\u00e9nieurs et les chercheurs. La s\u00e9lection appropri\u00e9e des propri\u00e9t\u00e9s du fluide, des param\u00e8tres d'\u00e9coulement et des nombres sans dimension est primordiale pour des calculs CFD pr\u00e9cis et stables.</p>"},{"location":"fr/fluids_theory/#2-nombres-sans-dimension-en-mecanique-des-fluides","title":"2. Nombres Sans Dimension en M\u00e9canique des Fluides","text":"<p>Les nombres sans dimension sont cruciaux en m\u00e9canique des fluides car ils permettent la mise \u00e0 l'\u00e9chelle des ph\u00e9nom\u00e8nes physiques et donnent un aper\u00e7u de l'importance relative des diff\u00e9rentes forces agissant sur un fluide. Ils sont particuli\u00e8rement utiles en CFD pour comparer diff\u00e9rents sc\u00e9narios d'\u00e9coulement et valider les r\u00e9sultats de simulation par rapport \u00e0 des donn\u00e9es exp\u00e9rimentales ou des solutions analytiques. La classe <code>FluidMechanics</code> calcule plusieurs nombres sans dimension cl\u00e9s, chacun fournissant des informations uniques sur l'\u00e9coulement.</p>"},{"location":"fr/fluids_theory/#21-nombre-de-reynolds-re","title":"2.1. Nombre de Reynolds (Re)","text":"<p>Le nombre de Reynolds est l'une des grandeurs sans dimension les plus importantes en dynamique des fluides, utilis\u00e9e pour pr\u00e9dire les motifs d'\u00e9coulement dans diff\u00e9rentes situations d'\u00e9coulement de fluide. Il est d\u00e9fini comme le rapport des forces d'inertie aux forces visqueuses et est donn\u00e9 par la formule :</p> \\[Re = \\frac{\\rho v L}{\\mu}\\] <p>O\u00f9 : * \\(\\rho\\) est la masse volumique du fluide (kg/m\u00b3) * \\(v\\) est la vitesse d'\u00e9coulement caract\u00e9ristique (m/s) * \\(L\\) est la dimension lin\u00e9aire caract\u00e9ristique (m) * \\(\\mu\\) est la viscosit\u00e9 dynamique du fluide (Pa\u00b7s)</p> <p>Pour les \u00e9coulements internes, comme l'\u00e9coulement dans un tuyau, la dimension lin\u00e9aire caract\u00e9ristique est typiquement le diam\u00e8tre du tuyau. Pour les \u00e9coulements externes, il peut s'agir de la longueur d'une plaque ou du diam\u00e8tre d'un cylindre. Le nombre de Reynolds aide \u00e0 d\u00e9terminer si l'\u00e9coulement est laminaire, transitoire ou turbulent. G\u00e9n\u00e9ralement, pour l'\u00e9coulement dans un tuyau, \\(Re &lt; 2300\\) indique un \u00e9coulement laminaire, \\(2300 \\le Re \\le 4000\\) indique un \u00e9coulement transitoire, et \\(Re &gt; 4000\\) indique un \u00e9coulement turbulent [1].</p>"},{"location":"fr/fluids_theory/#22-nombre-de-prandtl-pr","title":"2.2. Nombre de Prandtl (Pr)","text":"<p>Le nombre de Prandtl est un nombre sans dimension qui approxime le rapport de la diffusivit\u00e9 de quantit\u00e9 de mouvement (viscosit\u00e9 cin\u00e9matique) \u00e0 la diffusivit\u00e9 thermique. Il est utilis\u00e9 pour caract\u00e9riser l'\u00e9paisseur relative des couches limites hydrodynamiques et thermiques. Il est d\u00e9fini comme :</p> \\[Pr = \\frac{\\mu c_p}{k}\\] <p>O\u00f9 : * \\(\\mu\\) est la viscosit\u00e9 dynamique (Pa\u00b7s) * \\(c_p\\) est la capacit\u00e9 thermique massique \u00e0 pression constante (J/(kg\u00b7K)) * \\(k\\) est la conductivit\u00e9 thermique (W/(m\u00b7K))</p> <p>Pour les gaz, Pr est g\u00e9n\u00e9ralement d'environ 0,7-1,0, ce qui indique que la quantit\u00e9 de mouvement et la chaleur diffusent \u00e0 des vitesses similaires. Pour les liquides, Pr peut varier consid\u00e9rablement. Par exemple, l'eau \u00e0 temp\u00e9rature ambiante a un Pr d'environ 7, ce qui signifie que la quantit\u00e9 de mouvement diffuse beaucoup plus rapidement que la chaleur [2].</p>"},{"location":"fr/fluids_theory/#23-nombre-de-nusselt-nu","title":"2.3. Nombre de Nusselt (Nu)","text":"<p>Le nombre de Nusselt est le rapport entre le transfert de chaleur par convection et par conduction \u00e0 travers une limite. C'est un coefficient de transfert de chaleur sans dimension qui quantifie l'am\u00e9lioration du transfert de chaleur d'une surface due \u00e0 la convection par rapport \u00e0 la conduction \u00e0 travers la couche de fluide. Il est d\u00e9fini comme :</p> \\[Nu = \\frac{h L}{k}\\] <p>O\u00f9 : * \\(h\\) est le coefficient de transfert de chaleur par convection (W/(m\u00b2\u00b7K)) * \\(L\\) est la longueur caract\u00e9ristique (m) * \\(k\\) est la conductivit\u00e9 thermique du fluide (W/(m\u00b7K))</p> <p>Un nombre de Nusselt plus \u00e9lev\u00e9 indique un transfert de chaleur par convection plus efficace. Pour la conduction pure, \\(Nu = 1\\). Des corr\u00e9lations empiriques sont souvent utilis\u00e9es pour d\u00e9terminer le nombre de Nusselt pour diverses g\u00e9om\u00e9tries et conditions d'\u00e9coulement [3].</p>"},{"location":"fr/fluids_theory/#24-nombre-de-grashof-gr","title":"2.4. Nombre de Grashof (Gr)","text":"<p>Le nombre de Grashof est un nombre sans dimension en dynamique des fluides et en transfert de chaleur qui approxime le rapport de la force de flottabilit\u00e9 \u00e0 la force visqueuse agissant sur un fluide. Il est principalement utilis\u00e9 dans les probl\u00e8mes de convection naturelle, o\u00f9 le mouvement du fluide est entra\u00een\u00e9 par des diff\u00e9rences de densit\u00e9 dues \u00e0 des variations de temp\u00e9rature. Il est d\u00e9fini comme :</p> \\[Gr = \\frac{g \\beta \\Delta T L^3}{\\nu^2}\\] <p>O\u00f9 : * \\(g\\) est l'acc\u00e9l\u00e9ration due \u00e0 la gravit\u00e9 (m/s\u00b2) * \\(\\beta\\) est le coefficient de dilatation thermique (1/K) * \\(\\Delta T\\) est la diff\u00e9rence de temp\u00e9rature (K) * \\(L\\) est la longueur caract\u00e9ristique (m) * \\(\\nu\\) est la viscosit\u00e9 cin\u00e9matique (m\u00b2/s)</p> <p>Le nombre de Grashof joue un r\u00f4le similaire dans la convection naturelle \u00e0 celui du nombre de Reynolds dans la convection forc\u00e9e, indiquant la transition d'un \u00e9coulement laminaire \u00e0 turbulent dans les \u00e9coulements entra\u00een\u00e9s par la flottabilit\u00e9 [4].</p>"},{"location":"fr/fluids_theory/#25-nombre-de-rayleigh-ra","title":"2.5. Nombre de Rayleigh (Ra)","text":"<p>Le nombre de Rayleigh est un nombre sans dimension associ\u00e9 \u00e0 l'\u00e9coulement entra\u00een\u00e9 par la flottabilit\u00e9 (convection naturelle). Lorsque le nombre de Rayleigh est inf\u00e9rieur \u00e0 une valeur critique pour un fluide, le transfert de chaleur se fait principalement par conduction ; lorsqu'il d\u00e9passe la valeur critique, le transfert de chaleur se fait principalement par convection. Il est d\u00e9fini comme le produit du nombre de Grashof et du nombre de Prandtl :</p> \\[Ra = Gr \\cdot Pr = \\frac{g \\beta \\Delta T L^3}{\\nu \\alpha}\\] <p>O\u00f9 : * \\(\\alpha\\) est la diffusivit\u00e9 thermique (m\u00b2/s)</p> <p>Le nombre de Rayleigh critique varie en fonction de la g\u00e9om\u00e9trie et des conditions aux limites. Par exemple, pour une couche de fluide horizontale chauff\u00e9e par le bas, la convection commence g\u00e9n\u00e9ralement lorsque \\(Ra &gt; 1708\\) [5].</p>"},{"location":"fr/fluids_theory/#26-nombre-de-peclet-pe","title":"2.6. Nombre de Peclet (Pe)","text":"<p>Le nombre de Peclet est un nombre sans dimension pertinent dans l'\u00e9tude des ph\u00e9nom\u00e8nes de transport dans les \u00e9coulements de fluide. Il est d\u00e9fini comme le rapport du taux d'advection d'une quantit\u00e9 physique par l'\u00e9coulement au taux de diffusion de la m\u00eame quantit\u00e9 entra\u00een\u00e9e par un gradient appropri\u00e9. Il est donn\u00e9 par :</p> \\[Pe = Re \\cdot Pr\\] <p>O\u00f9 : * \\(Re\\) est le nombre de Reynolds * \\(Pr\\) est le nombre de Prandtl</p> <p>Alternativement, il peut \u00eatre exprim\u00e9 comme :</p> \\[Pe = \\frac{v L}{\\alpha}\\] <p>O\u00f9 : * \\(v\\) est la vitesse d'\u00e9coulement (m/s) * \\(L\\) est la longueur caract\u00e9ristique (m) * \\(\\alpha\\) est la diffusivit\u00e9 thermique (m\u00b2/s)</p> <p>Un grand nombre de Peclet indique que l'advection domine la diffusion, tandis qu'un petit nombre de Peclet sugg\u00e8re que la diffusion est plus significative. Ce nombre est particuli\u00e8rement important dans les probl\u00e8mes de transfert de chaleur et de masse [6].</p>"},{"location":"fr/fluids_theory/#3-calculs-de-couche-limite","title":"3. Calculs de Couche Limite","text":"<p>Les couches limites sont de minces couches de fluide adjacentes aux surfaces solides o\u00f9 les effets visqueux sont significatifs. Comprendre et mod\u00e9liser avec pr\u00e9cision les couches limites est essentiel en CFD, en particulier pour pr\u00e9dire la tra\u00een\u00e9e, la portance et le transfert de chaleur. La classe <code>FluidMechanics</code> fournit des outils pour estimer les caract\u00e9ristiques de la couche limite, qui sont essentielles pour une g\u00e9n\u00e9ration de maillage appropri\u00e9e dans les simulations CFD.</p>"},{"location":"fr/fluids_theory/#31-valeur-y","title":"3.1. Valeur y+","text":"<p>La valeur y+ (prononc\u00e9e \"y-plus\") est une distance sans dimension par rapport \u00e0 la paroi, normalis\u00e9e par l'\u00e9chelle de longueur visqueuse. C'est un param\u00e8tre crucial dans la mod\u00e9lisation de la turbulence, particuli\u00e8rement pour les \u00e9coulements limit\u00e9s par une paroi. Elle est d\u00e9finie comme :</p> \\[y^+ = \\frac{u_\\tau y}{\\nu}\\] <p>O\u00f9 : * \\(u_\\tau\\) est la vitesse de frottement (m/s), d\u00e9finie comme \\(\\sqrt{\\tau_w / \\rho}\\) * \\(y\\) est la distance physique par rapport \u00e0 la paroi (m) * \\(\\nu\\) est la viscosit\u00e9 cin\u00e9matique (m\u00b2/s) * \\(\\tau_w\\) est la contrainte de cisaillement pari\u00e9tale (Pa) * \\(\\rho\\) est la masse volumique du fluide (kg/m\u00b3)</p> <p>Pour de nombreux mod\u00e8les de turbulence, le centre de la premi\u00e8re cellule \u00e0 partir de la paroi doit \u00eatre plac\u00e9 dans une plage de y+ sp\u00e9cifique [7].</p>"},{"location":"fr/fluids_theory/#32-epaisseur-de-la-couche-limite-turbulente","title":"3.2. \u00c9paisseur de la Couche Limite Turbulente","text":"<p>L'\u00e9paisseur de la couche limite (\\(\\delta\\)) est typiquement d\u00e9finie comme la distance par rapport \u00e0 la paroi o\u00f9 la vitesse du fluide atteint 99 % de la vitesse du courant libre. Pour les couches limites turbulentes sur une plaque plate, une corr\u00e9lation courante est :</p> \\[\\delta \\approx 0.37 L Re_L^{-1/5}\\] <p>O\u00f9 : * \\(L\\) est la longueur caract\u00e9ristique (m) * \\(Re_L\\) est le nombre de Reynolds bas\u00e9 sur la longueur caract\u00e9ristique</p> <p>Cette corr\u00e9lation est une approximation [8].</p>"},{"location":"fr/fluids_theory/#33-nombre-de-cellules-de-couche-limite-pour-le-dimensionnement-du-maillage","title":"3.3. Nombre de Cellules de Couche Limite pour le Dimensionnement du Maillage","text":"<p>En CFD, la r\u00e9solution pr\u00e9cise de la couche limite n\u00e9cessite un nombre suffisant de mailles. La classe <code>FluidMechanics</code> estime le nombre de couches n\u00e9cessaires pour atteindre une taille de cellule cible au bord de la couche limite, \u00e9tant donn\u00e9 un rapport d'expansion (g\u00e9n\u00e9ralement entre 1,1 et 1,3) [9].</p>"},{"location":"fr/fluids_theory/#4-calculs-de-perte-de-pression","title":"4. Calculs de Perte de Pression","text":"<p>La perte de pression dans les syst\u00e8mes d'\u00e9coulement de fluide est un param\u00e8tre essentiel dans la conception technique.</p>"},{"location":"fr/fluids_theory/#41-equation-de-darcy-weisbach","title":"4.1. \u00c9quation de Darcy-Weisbach","text":"<p>Elle relie la perte de pression (\\(\\Delta P\\)) due au frottement le long d'une longueur donn\u00e9e de tuyau \u00e0 la vitesse moyenne du fluide.</p> \\[\\Delta P = f \\frac{L}{D} \\frac{\\rho v^2}{2}\\] <p>O\u00f9 : * \\(f\\) est le facteur de frottement de Darcy (sans dimension) * \\(L\\) est la longueur du tuyau (m) * \\(D\\) est le diam\u00e8tre int\u00e9rieur du tuyau (m) * \\(\\rho\\) est la masse volumique du fluide (kg/m\u00b3) * \\(v\\) est la vitesse d'\u00e9coulement moyenne (m/s)</p>"},{"location":"fr/fluids_theory/#42-facteur-de-frottement-f","title":"4.2. Facteur de Frottement (\\(f\\))","text":"<p>Le facteur de frottement d\u00e9pend du r\u00e9gime d'\u00e9coulement et de la rugosit\u00e9 du tuyau.</p> <ul> <li> <p>Pour l'\u00e9coulement laminaire (\\(Re &lt; 2300\\)) :     \\(\\(f = \\frac{64}{Re}\\)\\)</p> </li> <li> <p>Pour l'\u00e9coulement turbulent (\\(Re \\ge 2300\\)) :     La classe utilise une approximation explicite bas\u00e9e sur l'\u00e9quation de Colebrook-White, comme l'\u00e9quation de Swamee-Jain, valable pour \\(Re &gt; 4000\\) :</p> <p>\\(\\(f = \\frac{0.25}{\\left[\\log_{10}\\left(\\frac{\\epsilon}{3.7D} + \\frac{5.74}{Re^{0.9}}\\right)\\right]^2}\\)\\) O\u00f9 \\(\\epsilon\\) est la rugosit\u00e9 absolue [10].</p> </li> </ul>"},{"location":"fr/fluids_theory/#5-calculs-de-transfert-de-chaleur","title":"5. Calculs de Transfert de Chaleur","text":"<p>Le transfert de chaleur est un aspect fondamental des applications d'\u00e9coulement de fluide.</p>"},{"location":"fr/fluids_theory/#51-coefficient-de-transfert-de-chaleur-par-convection","title":"5.1. Coefficient de Transfert de Chaleur par Convection","text":"<p>Le taux de transfert de chaleur par convection (\\(Q\\)) est donn\u00e9 par la Loi de Refroidissement de Newton :</p> \\[Q = h A \\Delta T\\] <p>O\u00f9 \\(h\\) est le coefficient de transfert de chaleur par convection, souvent d\u00e9termin\u00e9 par des corr\u00e9lations impliquant les nombres de Nusselt, de Reynolds et de Prandtl.</p>"},{"location":"fr/fluids_theory/#511-plaque-plate-ecoulement-externe","title":"5.1.1. Plaque Plate (\u00c9coulement Externe)","text":"<ul> <li> <p>\u00c9coulement Laminaire (\\(Re_L &lt; 5 \\times 10^5\\)) :     \\(\\(Nu_L = 0.664 Re_L^{0.5} Pr^{1/3}\\)\\)</p> </li> <li> <p>\u00c9coulement Turbulent (\\(Re_L \\ge 5 \\times 10^5\\)) :     \\(\\(Nu_L = 0.0296 Re_L^{0.8} Pr^{1/3}\\)\\)</p> </li> </ul> <p>Le coefficient \\(h\\) est ensuite calcul\u00e9 par \\(h = Nu_L \\frac{k}{L}\\) [11].</p>"},{"location":"fr/fluids_theory/#512-cylindre-ecoulement-externe","title":"5.1.2. Cylindre (\u00c9coulement Externe)","text":"<p>L'\u00e9quation de Churchill-Bernstein donne le nombre de Nusselt moyen pour l'\u00e9coulement normal \u00e0 un cylindre circulaire (\\(Re_D Pr &gt; 0.2\\)) :</p> \\[Nu_D = 0.3 + \\frac{0.62 Re_D^{0.5} Pr^{1/3}}{\\left[1 + (0.4/Pr)^{2/3}\\right]^{0.25}} \\left[1 + \\left(\\frac{Re_D}{282000}\\right)^{0.5}\\right]^{0.5}\\] <p>Le coefficient \\(h\\) est calcul\u00e9 par \\(h = Nu_D \\frac{k}{D}\\) [12].</p>"},{"location":"fr/fluids_theory/#52-coefficient-de-dilatation-thermique-beta","title":"5.2. Coefficient de Dilatation Thermique (\\(\\beta\\))","text":"<p>Quantifie le changement de masse volumique d'un fluide avec la temp\u00e9rature. Pour les gaz parfaits : \\(\\beta = 1/T\\) [13].</p>"},{"location":"fr/fluids_theory/#6-proprietes-des-fluides-et-regimes-decoulement","title":"6. Propri\u00e9t\u00e9s des Fluides et R\u00e9gimes d'\u00c9coulement","text":""},{"location":"fr/fluids_theory/#61-proprietes-fondamentales-des-fluides","title":"6.1. Propri\u00e9t\u00e9s Fondamentales des Fluides","text":"<p>La classe utilise la librairie <code>pyfluids</code> pour r\u00e9cup\u00e9rer des propri\u00e9t\u00e9s (masse volumique \\(\\rho\\), viscosit\u00e9 dynamique \\(\\mu\\), conductivit\u00e9 thermique \\(k\\), chaleur sp\u00e9cifique \\(c_p\\), volume sp\u00e9cifique \\(v\\)) \u00e0 une temp\u00e9rature et pression donn\u00e9es [14].</p>"},{"location":"fr/fluids_theory/#62-determination-du-regime-decoulement","title":"6.2. D\u00e9termination du R\u00e9gime d'\u00c9coulement","text":"<p>La classification (laminaire, transitoire, ou turbulent) est bas\u00e9e sur le nombre de Reynolds, essentielle pour choisir les mod\u00e8les CFD appropri\u00e9s [15].</p>"},{"location":"fr/fluids_theory/#63-vitesse-critique-v_c","title":"6.3. Vitesse Critique (\\(v_c\\))","text":"<p>Vitesse de transition, calcul\u00e9e pour un nombre de Reynolds critique (\\(Re_{crit} \\approx 2300\\)) :</p> <p>\\(\\(v_c = \\frac{Re_{crit} \\mu}{\\rho D}\\)\\) [16].</p>"},{"location":"fr/fluids_theory/#7-validation-des-entrees-et-gestion-des-erreurs","title":"7. Validation des Entr\u00e9es et Gestion des Erreurs","text":"<p>La classe utilise des m\u00e9thodes de validation pour garantir la fiabilit\u00e9 et la coh\u00e9rence physique des entr\u00e9es :</p>"},{"location":"fr/fluids_theory/#71-validation-de-quantite-positive","title":"7.1. Validation de Quantit\u00e9 Positive","text":"<p>V\u00e9rifie que des param\u00e8tres tels que la pression, la vitesse et la longueur sont \\(&gt; 0\\).</p>"},{"location":"fr/fluids_theory/#72-validation-de-quantite-non-nulle","title":"7.2. Validation de Quantit\u00e9 Non Nulle","text":"<p>V\u00e9rifie que les propri\u00e9t\u00e9s des fluides utilis\u00e9es en d\u00e9nominateur (comme la viscosit\u00e9) sont \\(\\ne 0\\) pour \u00e9viter la division par z\u00e9ro.</p>"},{"location":"fr/fluids_theory/#73-validation-de-plage-de-temperature","title":"7.3. Validation de Plage de Temp\u00e9rature","text":"<p>Assure que la temp\u00e9rature d'entr\u00e9e est positive et exprim\u00e9e sur une \u00e9chelle absolue (e.g., Kelvin), car \\(T &gt; 0\\) [17].</p>"},{"location":"fr/fluids_theory/#8-references","title":"8. R\u00e9f\u00e9rences","text":"<p>[1] White, F. M. (2006). Fluid Mechanics (6th ed.). McGraw-Hill.</p> <p>[2] Incropera, F. P., DeWitt, D. P., Bergman, T. L., &amp; Lavine, A. S. (2007). Fundamentals of Heat and Mass Transfer (6th ed.). John Wiley &amp; Sons.</p> <p>[3] Cengel, Y. A., &amp; Ghajar, A. J. (2015). Heat and Mass Transfer: Fundamentals and Applications (5th ed.). McGraw-Hill Education.</p> <p>[4] Bejan, A. (2013). Convection Heat Transfer (4th ed.). John Wiley &amp; Sons.</p> <p>[5] Tritton, D. J. (1988). Physical Fluid Dynamics (2nd ed.). Oxford University Press.</p> <p>[6] Bird, R. B., Stewart, W. E., &amp; Lightfoot, E. N. (2007). Transport Phenomena (2nd ed.). John Wiley &amp; Sons.</p> <p>[7] Versteeg, H. K., &amp; Malalasekera, W. (2007). An Introduction to Computational Fluid Dynamics: The Finite Volume Method (2nd ed.). Pearson Education.</p> <p>[8] Schlichting, H., &amp; Gersten, K. (2017). Boundary-Layer Theory (9th ed.). Springer.</p> <p>[9] Blazek, J. (2015). Computational Fluid Dynamics: Principles and Applications (3rd ed.). Elsevier.</p> <p>[10] Munson, B. R., Young, D. F., &amp; Okiishi, T. H. (2009). Fundamentals of Fluid Mechanics (6th ed.). John Wiley &amp; Sons.</p> <p>[11] Kays, W. M., Crawford, M. E., &amp; Weigand, B. (2005). Convective Heat and Mass Transfer (4th ed.). McGraw-Hill.</p> <p>[12] Churchill, S. W., &amp; Bernstein, M. (1977). A Correlation for Forced Convection from Gases and Liquids to a Circular Cylinder in Crossflow. Journal of Heat Transfer, 99(2), 300-306.</p> <p>[13] Moran, M. J., Shapiro, H. N., Boettner, D. D., &amp; Bailey, M. B. (2014). Fundamentals of Engineering Thermodynamics (8th ed.). John Wiley &amp; Sons.</p> <p>[14] Lemmon, E. W., Bell, I. H., &amp; Huber, M. L. (2010). NIST Standard Reference Database 23: Reference Fluid Thermodynamic and Transport Properties\u2014REFPROP, Version 9.0 (Software). National Institute of Standards</p> <p>[15] Fox, R. W., Pritchard, P. J., &amp; McDonald, A. T. (2016). Introduction to Fluid Mechanics (9th ed.). John Wiley &amp; Sons.</p> <p>[16] Streeter, V. L., Wylie, E. B., &amp; Bedford, K. W. (1998). Fluid Mechanics (9th ed.). McGraw-Hill</p>"},{"location":"fr/install_openfoam/","title":"OpenFOAM sur Windows \u2013 Guide d'installation WSL","text":"<p>Le sous-syst\u00e8me Windows pour Linux (WSL) vous permet d\u2019ex\u00e9cuter des applications Linux directement sur Windows 10 et 11.</p>"},{"location":"fr/install_openfoam/#liens-de-telechargement","title":"Liens de t\u00e9l\u00e9chargement","text":"<ul> <li>Site Web officiel d'OpenFOAM</li> <li>OpenFOAM v13</li> <li>OpenFOAM-dev</li> <li>Ex\u00e9cuter OpenFOAM sous Windows</li> <li>Ex\u00e9cuter OpenFOAM sur macOS</li> <li>Compiler \u00e0 partir de la source</li> <li>D\u00e9p\u00f4t de paquets</li> <li>Historique des versions</li> </ul>"},{"location":"fr/install_openfoam/#installation-de-wsl","title":"Installation de WSL","text":""},{"location":"fr/install_openfoam/#1-ouvrez-linvite-de-commande-windows-en-tant-quadministrateur","title":"1. Ouvrez l'invite de commande Windows en tant qu'administrateur","text":"<ul> <li>Cliquez sur le menu D\u00e9marrer, tapez \u00ab cmd \u00bb.</li> <li>Faites un clic droit sur \u00ab Invite de commandes \u00bb et s\u00e9lectionnez \u00ab Ex\u00e9cuter en tant qu'administrateur \u00bb.</li> <li>Confirmez toutes les invites d\u2019autorisation.</li> </ul>"},{"location":"fr/install_openfoam/#2-verifiez-si-wsl-est-installe","title":"2. V\u00e9rifiez si WSL est install\u00e9","text":"<p>Ex\u00e9cutez la commande : <pre><code>wsl -l -v\n</code></pre> - Si aucune distribution n\u2019est install\u00e9e, passez \u00e0 l\u2019\u00e9tape suivante. - Sinon, v\u00e9rifiez qu'Ubuntu est r\u00e9pertori\u00e9 avec la version 2.</p>"},{"location":"fr/install_openfoam/#3-installer-wsl-avec-ubuntu-2204","title":"3. Installer WSL avec Ubuntu 22.04","text":"<p>Courir: <pre><code>wsl --install -d Ubuntu-22.04\n</code></pre> - Suivez les instructions pour d\u00e9finir le nom d'utilisateur et le mot de passe.</p>"},{"location":"fr/install_openfoam/#4-demarrez-wsl","title":"4. D\u00e9marrez WSL","text":"<ul> <li>Ouvrez le menu D\u00e9marrer, recherchez \u00ab Ubuntu \u00bb et lancez-le.</li> <li>Ou tapez \u00ab wsl \u00bb dans l'invite de commande.</li> </ul>"},{"location":"fr/install_openfoam/#installation-dopenfoam-et-paraview","title":"Installation d'OpenFOAM et ParaView","text":"<p>OpenFOAM et ParaView s'installent facilement gr\u00e2ce au gestionnaire de paquets \u00ab apt \u00bb. Vous devrez saisir votre mot de passe de superutilisateur pour ex\u00e9cuter les commandes suivantes avec \u00ab sudo \u00bb :</p>"},{"location":"fr/install_openfoam/#1-ajoutez-le-referentiel-openfoam-et-la-cle-publique","title":"1. Ajoutez le r\u00e9f\u00e9rentiel OpenFOAM et la cl\u00e9 publique","text":"<p>Ex\u00e9cutez ces commandes dans le terminal : <pre><code>sudo sh -c \"wget \u200b\u200b-O - https://dl.openfoam.org/gpg.key &gt; /etc/apt/trusted.gpg.d/openfoam.asc\"\nsudo add-apt-repository http://dl.openfoam.org/ubuntu\n</code></pre> Remarque : utilisez \u00ab https:// \u00bb pour la cl\u00e9 publique. L'URL du r\u00e9f\u00e9rentiel utilise \u00ab http:// \u00bb car \u00ab https:// \u00bb n'est peut-\u00eatre pas pris en charge, mais la s\u00e9curit\u00e9 est assur\u00e9e par la cl\u00e9.</p>"},{"location":"fr/install_openfoam/#2-mettez-a-jour-votre-liste-de-colis","title":"2. Mettez \u00e0 jour votre liste de colis","text":"<pre><code>mise \u00e0 jour sudo apt\n</code></pre>"},{"location":"fr/install_openfoam/#3-installez-openfoam-13","title":"3. Installez OpenFOAM 13","text":"<p><pre><code>sudo apt -y install openfoam13\n</code></pre> OpenFOAM 13 et ParaView seront install\u00e9s dans le r\u00e9pertoire <code>/opt</code>.</p>"},{"location":"fr/install_openfoam/#configuration-utilisateur","title":"Configuration utilisateur","text":"<p>Pour utiliser OpenFOAM, suivez ces \u00e9tapes :</p> <ol> <li> <p>Ouvrez votre fichier <code>.bashrc</code> dans votre r\u00e9pertoire personnel avec un \u00e9diteur, par exemple :    <pre><code>gedit ~/.bashrc\n</code></pre></p> </li> <li> <p>Ajoutez cette ligne \u00e0 la fin du fichier, puis enregistrez et fermez :    <pre><code>. /opt/openfoam13/etc/bashrc\n</code></pre></p> </li> <li> <p>Ouvrez une nouvelle fen\u00eatre de terminal et testez l'installation en ex\u00e9cutant :    <pre><code>foamRun -aide\n</code></pre></p> </li> <li> <p>Vous devriez voir le message d'aide. L'installation et la configuration sont maintenant termin\u00e9es.</p> </li> </ol>"},{"location":"fr/install_openfoam/#remarques","title":"Remarques","text":"<ul> <li>Si vous avez d\u00e9j\u00e0 une ligne similaire dans <code>.bashrc</code> (d'une ancienne version d'OpenFOAM), commentez-la en ajoutant un <code>#</code> au d\u00e9but de la ligne ou supprimez-la.</li> <li>Pour appliquer les modifications imm\u00e9diatement dans la m\u00eame fen\u00eatre de terminal apr\u00e8s avoir modifi\u00e9 <code>.bashrc</code>, ex\u00e9cutez :   <pre><code>. $HOME/.bashrc\n</code></pre></li> </ul>"},{"location":"fr/install_openfoam/#dependances-graphiques-et-latex","title":"D\u00e9pendances graphiques et LaTeX","text":""},{"location":"fr/install_openfoam/#installer-les-bibliotheques-pour-gmsh-et-opengl","title":"Installer les biblioth\u00e8ques pour Gmsh et OpenGL","text":"<pre><code>sudo apt install libglu1-mesa libgl1-mesa-glx libxrender1 libxext6\n````\n\n### Installer TexLive pour LaTeX\n\n#### 1. Installation de base\n\n```bash\nsudo apt-get install texlive-latex-base\n</code></pre>"},{"location":"fr/install_openfoam/#2-polices-recommandees-et-supplementaires","title":"2. Polices recommand\u00e9es et suppl\u00e9mentaires","text":"<p>Pour \u00e9viter les erreurs lors de l'utilisation de <code>pdflatex</code> avec des fichiers contenant plusieurs polices :</p> <pre><code>sudo apt-get install texlive-fonts-recommended\nsudo apt-get install texlive-fonts-extra\n</code></pre>"},{"location":"fr/install_openfoam/#3-paquets-latex-supplementaires","title":"3. Paquets LaTeX suppl\u00e9mentaires","text":"<pre><code>sudo apt-get install texlive-latex-extra\n</code></pre>"},{"location":"fr/presentation/","title":"Vue d'Ensemble Conceptuelle et Th\u00e9orique du Module foampilot","text":"<p>Le module <code>foampilot</code> est con\u00e7u comme une surcouche Python orient\u00e9e objet pour la plateforme de simulation de m\u00e9canique des fluides num\u00e9rique (CFD) OpenFOAM. Son objectif principal est d'abstraire la complexit\u00e9 de la configuration des cas OpenFOAM, qui repose traditionnellement sur des fichiers de dictionnaire textuels, en offrant une interface de programmation (API) Python intuitive et robuste.</p> <p>L'architecture de <code>foampilot</code> refl\u00e8te fid\u00e8lement la structure d'un cas OpenFOAM, chaque sous-module g\u00e9rant un aspect fondamental de la simulation.</p>"},{"location":"fr/presentation/#1-foampilotsolver-le-cur-de-la-physique-et-de-la-numerique","title":"1. foampilot.solver : Le C\u0153ur de la Physique et de la Num\u00e9rique","text":"<p>Le sous-module <code>solver</code> est le centre de contr\u00f4le de la simulation. Il ne se contente pas d'ex\u00e9cuter un solveur OpenFOAM ; il g\u00e8re la s\u00e9lection dynamique du solveur en fonction des propri\u00e9t\u00e9s physiques et num\u00e9riques d\u00e9finies par l'utilisateur.</p> Concept OpenFOAM R\u00f4le dans foampilot Description Th\u00e9orique Solveur (e.g., <code>simpleFoam</code>, <code>pimpleFoam</code>) Classe <code>Solver</code> La classe <code>Solver</code> agit comme un gestionnaire de solveur intelligent. En modifiant des propri\u00e9t\u00e9s bool\u00e9ennes (ex: <code>compressible</code>, <code>transient</code>, <code>is_vof</code>), elle s\u00e9lectionne automatiquement le solveur OpenFOAM appropri\u00e9 qui correspond aux \u00e9quations physiques \u00e0 r\u00e9soudre (Navier-Stokes pour fluide incompressible, \u00e9quations d'\u00e9tat pour compressible, etc.). Configuration Physique Propri\u00e9t\u00e9s du <code>Solver</code> Permet de d\u00e9finir la nature du probl\u00e8me (stationnaire vs. transitoire, mono-phase vs. multi-phase VOF, avec ou sans gravit\u00e9/\u00e9nergie). Cette abstraction garantit que l'utilisateur n'a pas \u00e0 se soucier du nom exact du solveur OpenFOAM, mais uniquement de la physique du probl\u00e8me."},{"location":"fr/presentation/#2-foampilotconstant-la-definition-du-milieu-physique","title":"2. foampilot.constant : La D\u00e9finition du Milieu Physique","text":"<p>Le sous-module <code>constant</code> est d\u00e9di\u00e9 \u00e0 la gestion du r\u00e9pertoire <code>constant</code> d'OpenFOAM, qui contient les propri\u00e9t\u00e9s du milieu et du maillage.</p> Concept OpenFOAM R\u00f4le dans foampilot Description Th\u00e9orique Propri\u00e9t\u00e9s du Fluide Classes <code>transportProperties</code>, <code>physicalProperties</code> Ces classes permettent de d\u00e9finir les propri\u00e9t\u00e9s essentielles du fluide (viscosit\u00e9 cin\u00e9matique \\(\\nu\\), densit\u00e9 \\(\\rho\\), chaleur sp\u00e9cifique \\(C_p\\), etc.). Elles sont cruciales pour la fermeture des \u00e9quations de Navier-Stokes et la mod\u00e9lisation des transferts. Mod\u00e8le de Turbulence Classe <code>turbulenceProperties</code> G\u00e8re la s\u00e9lection et la configuration des mod\u00e8les de turbulence (ex: \\(k-\\epsilon\\), \\(k-\\omega\\) SST). Th\u00e9oriquement, ces mod\u00e8les ajoutent des \u00e9quations de transport pour mod\u00e9liser les effets de la turbulence sur l'\u00e9coulement, en fermant le syst\u00e8me d'\u00e9quations RANS (Reynolds-Averaged Navier-Stokes). Gravit\u00e9 Classe <code>gravityFile</code> Permet d'activer et de d\u00e9finir le vecteur de gravit\u00e9 \\(\\mathbf{g}\\), essentiel pour les simulations de flottabilit\u00e9 (Boussinesq) ou les \u00e9coulements \u00e0 surface libre."},{"location":"fr/presentation/#3-foampilotsystem-le-controle-numerique-et-temporel","title":"3. foampilot.system : Le Contr\u00f4le Num\u00e9rique et Temporel","text":"<p>Le sous-module <code>system</code> g\u00e8re le r\u00e9pertoire <code>system</code> d'OpenFOAM, qui dicte la mani\u00e8re dont les \u00e9quations sont discr\u00e9tis\u00e9es et r\u00e9solues.</p> Concept OpenFOAM R\u00f4le dans foampilot Description Th\u00e9orique Contr\u00f4le de la Simulation Classe <code>controlDictFile</code> D\u00e9finit les param\u00e8tres temporels (pas de temps \\(\\Delta t\\), temps de d\u00e9but/fin), les fr\u00e9quences d'\u00e9criture des r\u00e9sultats, et les fonctions d'ex\u00e9cution (ex: <code>runTimeControl</code> pour l'arr\u00eat automatique). Sch\u00e9mas Num\u00e9riques Classe <code>fvSchemesFile</code> G\u00e8re la discr\u00e9tisation des termes de l'\u00e9quation (d\u00e9riv\u00e9es temporelles, termes de convection, termes de diffusion). Le choix des sch\u00e9mas (ex: Euler pour le temps, <code>upwind</code> ou <code>Gauss linear</code> pour la convection) impacte directement la stabilit\u00e9 et la pr\u00e9cision de la solution num\u00e9rique. Solveurs Alg\u00e9briques Classe <code>fvSolutionFile</code> Configure les solveurs matriciels utilis\u00e9s pour r\u00e9soudre les syst\u00e8mes d'\u00e9quations lin\u00e9aires r\u00e9sultant de la discr\u00e9tisation (ex: <code>PCG</code> pour la pression, <code>BiCGStab</code> pour la vitesse). Il d\u00e9finit \u00e9galement les crit\u00e8res de convergence (tol\u00e9rance) et les strat\u00e9gies de sous-relaxation."},{"location":"fr/presentation/#4-foampilotmesh-le-maillage","title":"4. foampilot.mesh : Le maillage","text":"<p>Le sous-module <code>mesh</code> est responsable de la cr\u00e9ation du maillage, la discr\u00e9tisation spatiale du domaine de calcul.</p> Concept OpenFOAM R\u00f4le dans foampilot Description Th\u00e9orique Maillage Structur\u00e9 Classe <code>BlockMeshFile</code> Abstraction de l'utilitaire <code>blockMesh</code> d'OpenFOAM. Il permet de d\u00e9finir la g\u00e9om\u00e9trie du domaine par blocs hexa\u00e9driques, une m\u00e9thode efficace pour les g\u00e9om\u00e9tries simples ou param\u00e9trables. Maillage Non-Structur\u00e9 Classes <code>gmsh_mesher</code>, <code>snappymesh</code> Ces classes g\u00e8rent l'int\u00e9gration avec des outils de maillage plus avanc\u00e9s (<code>Gmsh</code>, <code>snappyHexMesh</code>) pour les g\u00e9om\u00e9tries complexes import\u00e9es (ex: fichiers STL). Elles pr\u00e9parent les fichiers de configuration n\u00e9cessaires \u00e0 ces utilitaires."},{"location":"fr/presentation/#5-foampilotboundaries-les-conditions-aux-limites-physiques","title":"5. foampilot.boundaries : Les Conditions aux Limites Physiques","text":"<p>Le sous-module <code>boundaries</code> est essentiel pour d\u00e9finir l'interaction du fluide avec son environnement.</p> Concept OpenFOAM R\u00f4le dans foampilot Description Th\u00e9orique Conditions aux Limites Classe <code>Boundary</code> G\u00e8re la d\u00e9finition des conditions aux limites pour chaque champ physique (\\(\\mathbf{U}\\), \\(p\\), \\(k\\), \\(\\epsilon\\), etc.) sur les patchs du maillage. Th\u00e9oriquement, ces conditions sont n\u00e9cessaires pour fournir les informations manquantes aux fronti\u00e8res du domaine, permettant la r\u00e9solution unique des \u00e9quations aux d\u00e9riv\u00e9es partielles. Types de Conditions M\u00e9thodes de <code>Boundary</code> Offre des m\u00e9thodes sp\u00e9cifiques pour les conditions physiques courantes : <code>set_velocity_inlet</code> (Dirichlet pour la vitesse), <code>set_pressure_outlet</code> (Neumann pour la pression), <code>set_wall</code> (non-glissement ou glissement), etc. Fonctions de Paroi Int\u00e9gration automatique La classe <code>Boundary</code> int\u00e8gre la logique pour appliquer les fonctions de paroi (Wall Functions) appropri\u00e9es pour les mod\u00e8les de turbulence, permettant de mod\u00e9liser la couche limite sans n\u00e9cessiter un maillage extr\u00eamement fin pr\u00e8s des parois."},{"location":"fr/presentation/#6-foampilotpostprocess-et-foampilotreport-lanalyse-des-resultats","title":"6. foampilot.postprocess et foampilot.report : L'Analyse des R\u00e9sultats","text":"<p>Ces sous-modules g\u00e8rent la phase finale de la simulation : l'extraction, l'analyse et la pr\u00e9sentation des donn\u00e9es.</p> Sous-module R\u00f4le Conceptuel Description Th\u00e9orique <code>postprocess</code> Visualisation et Analyse Utilise des biblioth\u00e8ques comme PyVista pour charger les r\u00e9sultats OpenFOAM (fichiers VTK) et effectuer des op\u00e9rations de post-traitement courantes (tranches, contours, vecteurs, lignes de courant). Il permet de visualiser les champs physiques et d'extraire des quantit\u00e9s d\u00e9riv\u00e9es (ex: crit\u00e8re Q, vorticit\u00e9). <code>report</code> G\u00e9n\u00e9ration de Rapports Automatise la cr\u00e9ation de rapports de simulation structur\u00e9s (ex: PDF). Il agr\u00e8ge les donn\u00e9es cl\u00e9s (param\u00e8tres d'entr\u00e9e, r\u00e9sidus de convergence, images de post-traitement) pour garantir la tra\u00e7abilit\u00e9 et la reproductibilit\u00e9 des r\u00e9sultats."},{"location":"fr/presentation/#7-foampilotutilities-et-foampilotcommons-les-outils-transversaux","title":"7. foampilot.utilities et foampilot.commons : Les Outils Transversaux","text":"<p>Ces modules fournissent des fonctionnalit\u00e9s de support essentielles \u00e0 l'ensemble du framework.</p> Sous-module R\u00f4le Conceptuel Description Th\u00e9orique <code>utilities.manageunits</code> Gestion des Unit\u00e9s Utilise la classe <code>Quantity</code> pour garantir la coh\u00e9rence dimensionnelle des entr\u00e9es. C'est une pratique essentielle en physique et en ing\u00e9nierie pour \u00e9viter les erreurs de conversion et rendre le code ind\u00e9pendant du syst\u00e8me d'unit\u00e9s utilis\u00e9 (SI, imp\u00e9rial, etc.). <code>utilities.dictonnary</code> Manipulation des Dictionnaires OpenFOAM Fournit des outils pour cr\u00e9er et manipuler des structures de donn\u00e9es complexes qui correspondent aux fichiers de dictionnaire OpenFOAM (ex: <code>topoSetDict</code>, <code>createPatchDict</code>). <code>commons</code> Utilitaires G\u00e9n\u00e9riques Contient des fonctions pour la s\u00e9rialisation des classes, la lecture des fichiers de maillage (<code>polyMesh/boundary</code>), et d'autres op\u00e9rations de bas niveau n\u00e9cessaires \u00e0 l'interfa\u00e7age avec le format de fichier OpenFOAM. <p>Ce document fournit une vue d'ensemble de la mani\u00e8re dont <code>foampilot</code> structure et g\u00e8re les concepts fondamentaux de la simulation OpenFOAM, en les traduisant en une architecture Python modulaire et intuitive.</p>"},{"location":"fr/user_documentation/","title":"Documentation Utilisateur pour <code>foampilot</code>","text":"<p>Auteur : Manus AI Date : 4 D\u00e9cembre 2025</p>"},{"location":"fr/user_documentation/#1-reflexion-de-fonctionnement-globale-de-foampilot","title":"1. R\u00e9flexion de Fonctionnement Globale de <code>foampilot</code>","text":"<p>Le module <code>foampilot</code> est con\u00e7u comme une surcouche Python pour OpenFOAM, visant \u00e0 simplifier et automatiser le processus de simulation num\u00e9rique en m\u00e9canique des fluides (CFD). Il abstrait la complexit\u00e9 de la structure des fichiers et des commandes OpenFOAM, permettant \u00e0 l'utilisateur de d\u00e9finir, ex\u00e9cuter et post-traiter une simulation enti\u00e8rement en Python.</p> <p>La philosophie de <code>foampilot</code> repose sur les principes suivants :</p> <ol> <li>D\u00e9finition du Cas en Python : Au lieu de modifier manuellement des fichiers de configuration (dictionnaires) dans la structure de r\u00e9pertoires OpenFOAM, l'utilisateur interagit avec des objets Python (<code>Solver</code>, <code>Meshing</code>, <code>Boundary</code>, <code>Constant</code>, <code>System</code>).</li> <li>G\u00e9n\u00e9ration Automatique des Fichiers : Les objets Python sont responsables de la g\u00e9n\u00e9ration automatique des fichiers de configuration OpenFOAM (<code>controlDict</code>, <code>fvSchemes</code>, <code>transportProperties</code>, etc.) dans le r\u00e9pertoire du cas.</li> <li>Int\u00e9gration de l'\u00c9cosyst\u00e8me Python : Le module s'int\u00e8gre avec des biblioth\u00e8ques Python puissantes pour des t\u00e2ches sp\u00e9cifiques :<ul> <li><code>classy_blocks</code> pour la g\u00e9n\u00e9ration de maillage structur\u00e9 (<code>blockMesh</code>).</li> <li><code>pyfluid</code> (implicite dans l'exemple) pour la gestion des propri\u00e9t\u00e9s des fluides et des constantes physiques.</li> <li><code>pyvista</code> pour le post-traitement et la visualisation avanc\u00e9e.</li> <li><code>latex_pdf</code> pour la g\u00e9n\u00e9ration de rapports structur\u00e9s.</li> </ul> </li> </ol> <p>En r\u00e9sum\u00e9, <code>foampilot</code> permet de passer d'un flux de travail manuel et fragment\u00e9 (\u00e9dition de fichiers, ex\u00e9cution de commandes shell) \u00e0 un flux de travail script\u00e9 et reproductible (un seul script Python).</p>"},{"location":"fr/user_documentation/#2-choix-de-la-geometrie-et-du-maillage","title":"2. Choix de la G\u00e9om\u00e9trie et du Maillage","text":"<p>Le choix de la m\u00e9thode de maillage est crucial en CFD et d\u00e9pend de la complexit\u00e9 de la g\u00e9om\u00e9trie. <code>foampilot</code> int\u00e8gre des outils pour g\u00e9rer les trois sc\u00e9narios principaux :</p> M\u00e9thode de Maillage G\u00e9om\u00e9trie Cible Outil <code>foampilot</code> / Librairie Description et Avantages <code>blockMesh</code> G\u00e9om\u00e9tries simples, extrud\u00e9es, ou compos\u00e9es de blocs hexa\u00e9driques. <code>Meshing(..., mesher=\"blockMesh\")</code> (via <code>classy_blocks</code>) Id\u00e9al pour les g\u00e9om\u00e9tries simples (canaux, cylindres, etc.) ou les domaines de calcul r\u00e9guliers. Offre un contr\u00f4le total sur la qualit\u00e9 du maillage et la distribution des cellules. L'exemple <code>run_exemple2.py</code> utilise cette m\u00e9thode pour cr\u00e9er une g\u00e9om\u00e9trie complexe par composition de blocs (<code>Cylinder</code>, <code>ExtrudedRing</code>, <code>Elbow</code>). <code>gmsh</code> G\u00e9om\u00e9tries complexes import\u00e9es au format STEP ou IGES. <code>Meshing(..., mesher=\"gmsh\")</code> Permet de mailler des g\u00e9om\u00e9tries CAO complexes avec des maillages non structur\u00e9s (t\u00e9tra\u00e8dres, prismes). N\u00e9cessite l'importation d'un fichier g\u00e9om\u00e9trique (ex: <code>.step</code>). <code>snappyHexMesh</code> G\u00e9om\u00e9tries complexes import\u00e9es au format STL (surface triangul\u00e9e). <code>Meshing(..., mesher=\"snappy\")</code> Le maillage de r\u00e9f\u00e9rence pour les g\u00e9om\u00e9tries tr\u00e8s complexes (v\u00e9hicules, b\u00e2timents). Il cr\u00e9e un maillage hexa\u00e9drique conforme \u00e0 la surface STL, avec raffinement automatique des couches limites."},{"location":"fr/user_documentation/#21-maillage-structure-avec-blockmesh-via-classy_blocks","title":"2.1. Maillage Structur\u00e9 avec <code>blockMesh</code> (via <code>classy_blocks</code>)","text":"<p>Pour les g\u00e9om\u00e9tries qui peuvent \u00eatre d\u00e9compos\u00e9es en blocs hexa\u00e9driques (y compris les extrusions), <code>foampilot</code> utilise la librairie <code>classy_blocks</code>.</p> <p>Principe : 1.  D\u00e9finir des formes g\u00e9om\u00e9triques de base (<code>cb.Cylinder</code>, <code>cb.ExtrudedRing</code>, <code>cb.Elbow</code>). 2.  Utiliser les m\u00e9thodes de cha\u00eenage (<code>.chain()</code>, <code>.expand()</code>, <code>.fill()</code>) pour construire la g\u00e9om\u00e9trie complexe. 3.  D\u00e9finir le maillage sur chaque forme avec les m\u00e9thodes <code>.chop_axial()</code>, <code>.chop_radial()</code>, <code>.chop_tangential()</code>. 4.  Assigner les patchs (surfaces) avec <code>.set_start_patch()</code>, <code>.set_end_patch()</code>. 5.  Assembler le tout dans un objet <code>cb.Mesh()</code> et \u00e9crire le <code>blockMeshDict</code> :     ```python     # Exemple d'utilisation     mesh = cb.Mesh()     # ... ajouter les formes ...     mesh.set_default_patch(\"walls\", \"wall\")     mesh.write(current_path / \"system\" / \"blockMeshDict\", current_path /\"debug.vtk\")     ```</p>"},{"location":"fr/user_documentation/#22-maillage-non-structure-avec-gmsh-pour-step","title":"2.2. Maillage Non Structur\u00e9 avec <code>gmsh</code> (pour STEP)","text":"<p>Pour les g\u00e9om\u00e9tries CAO au format STEP, l'approche est la suivante :</p> <ol> <li>Assurez-vous que le fichier STEP est disponible (ex: <code>geometry.step</code>).</li> <li>Initialisez l'objet <code>Meshing</code> en sp\u00e9cifiant <code>mesher=\"gmsh\"</code>.</li> <li> <p>Ex\u00e9cutez le maillage en passant le chemin du fichier STEP :</p> <p>```python mesh_obj = Meshing(current_path, mesher=\"gmsh\")</p> </li> </ol>"},{"location":"fr/user_documentation/#le-chemin-dacces-au-fichier-step-est-passe-a-la-methode-run","title":"Le chemin d'acc\u00e8s au fichier STEP est pass\u00e9 \u00e0 la m\u00e9thode run","text":"<p>mesh_obj.mesher.run(current_path / \"geometry.step\") ```</p>"},{"location":"fr/user_documentation/#23-maillage-de-surface-avec-snappyhexmesh-pour-stl","title":"2.3. Maillage de Surface avec <code>snappyHexMesh</code> (pour STL)","text":"<p>Pour les g\u00e9om\u00e9tries complexes au format STL, vous devez d'abord cr\u00e9er un maillage de base (<code>blockMesh</code>) qui englobe la g\u00e9om\u00e9trie STL, puis utiliser <code>snappyHexMesh</code> pour d\u00e9couper et affiner :</p> <ol> <li>Cr\u00e9ez un <code>blockMeshDict</code> simple (via <code>classy_blocks</code> ou manuellement) pour d\u00e9finir le domaine de calcul englobant.</li> <li>Assurez-vous que le fichier STL est dans le r\u00e9pertoire <code>constant/triSurface</code>.</li> <li>Initialisez l'objet <code>Meshing</code> en sp\u00e9cifiant <code>mesher=\"snappyHexMesh\"</code>.</li> <li> <p>Ex\u00e9cutez le maillage. <code>foampilot</code> g\u00e8re la configuration et l'ex\u00e9cution des \u00e9tapes de <code>snappyHexMesh</code> :</p> <p>```python mesh_obj = Meshing(current_path, mesher=\"snappyHexMesh\")</p> </li> </ol>"},{"location":"fr/user_documentation/#snappyhexmesh-na-pas-besoin-dun-chemin-de-fichier-en-argument-il-utilise-les-fichiers-de-configuration","title":"snappyHexMesh n'a pas besoin d'un chemin de fichier en argument, il utilise les fichiers de configuration","text":"<p>mesh_obj.mesher.run() ```</p> <p>Note : La configuration d\u00e9taill\u00e9e de <code>snappyHexMeshDict</code> (niveaux de raffinement, couches limites) doit \u00eatre g\u00e9r\u00e9e par l'utilisateur, soit en modifiant le dictionnaire g\u00e9n\u00e9r\u00e9 par d\u00e9faut, soit en utilisant des fonctions avanc\u00e9es de <code>foampilot</code> si elles sont disponibles.</p>"},{"location":"fr/user_documentation/#3-choix-du-solveur-et-prise-en-compte-des-physiques","title":"3. Choix du Solveur et Prise en Compte des Physiques","text":"<p>Le choix du solveur est la mani\u00e8re dont <code>foampilot</code> prend en compte les physiques de la simulation. Le module utilise la classe <code>Solver</code> pour configurer le cas, et le solveur OpenFOAM appropri\u00e9 est s\u00e9lectionn\u00e9 et ex\u00e9cut\u00e9 en arri\u00e8re-plan.</p>"},{"location":"fr/user_documentation/#31-selection-du-solveur","title":"3.1. S\u00e9lection du Solveur","text":"<p>La s\u00e9lection du solveur se fait implicitement en configurant les propri\u00e9t\u00e9s de l'objet <code>Solver</code>.</p> <p>```python from foampilot.solver import Solver</p>"},{"location":"fr/user_documentation/#initialisation-du-solveur-pour-le-repertoire-de-cas","title":"Initialisation du solveur pour le r\u00e9pertoire de cas","text":"<p>solver = Solver(current_path)</p>"},{"location":"fr/user_documentation/#configuration-des-physiques","title":"Configuration des physiques","text":"<p>solver.compressible = False  # Simulation incompressible solver.with_gravity = False   # Sans gravit\u00e9</p>"},{"location":"fr/user_documentation/#dautres-proprietes-comme-turbulence-multiphase-etc","title":"... d'autres propri\u00e9t\u00e9s comme turbulence, multiphase, etc.","text":"<p>```</p> <p>En fonction de ces propri\u00e9t\u00e9s, <code>foampilot</code> configure le <code>controlDict</code> et les autres dictionnaires pour utiliser le solveur OpenFOAM le plus pertinent (par exemple, <code>simpleFoam</code> ou <code>pimpleFoam</code> pour l'incompressible, <code>rhoSimpleFoam</code> pour le compressible).</p> Physique Propri\u00e9t\u00e9 <code>Solver</code> Solveur OpenFOAM Typique Incompressible <code>solver.compressible = False</code> <code>incompressibleFluid</code> (Solveur interne <code>foampilot</code>) Compressible <code>solver.compressible = True</code> <code>compressibleFluid</code> (Solveur interne <code>foampilot</code>) Transitoire <code>solver.transient = True</code> (G\u00e8re les param\u00e8tres transitoires) Turbulence <code>solver.turbulence_model = \"kEpsilon\"</code> (Configure les mod\u00e8les de turbulence) Multiphase (VOF) <code>solver.is_vof = True</code> <code>incompressibleVoF</code> ou <code>compressibleVoF</code> (Solveurs internes <code>foampilot</code>) Solide (D\u00e9placement) <code>solver.is_solid = True</code> <code>solidDisplacement</code> (Solveur interne <code>foampilot</code>) \u00c9nergie (Thermique) <code>solver.energy_activated = True</code> (Active les champs thermiques)"},{"location":"fr/user_documentation/#32-mise-en-place-des-conditions-limites","title":"3.2. Mise en Place des Conditions Limites","text":"<p>La gestion des conditions limites (CL) est centralis\u00e9e dans l'objet <code>solver.boundary</code>. L'approche est de d\u00e9finir les conditions sur les patchs cr\u00e9\u00e9s lors de l'\u00e9tape de maillage.</p> <p>\u00c9tapes : 1.  Initialisation : <code>solver.boundary.initialize_boundary()</code> cr\u00e9e les fichiers de conditions limites initiaux (dans le r\u00e9pertoire <code>0</code>). 2.  Application : La m\u00e9thode <code>apply_condition_with_wildcard</code> permet d'appliquer une condition \u00e0 un ou plusieurs patchs dont le nom correspond \u00e0 un motif (wildcard).</p> <p>```python</p>"},{"location":"fr/user_documentation/#initialisation-des-conditions-limites","title":"Initialisation des conditions limites","text":"<p>solver.boundary.initialize_boundary()</p>"},{"location":"fr/user_documentation/#condition-dentree-patch-inlet","title":"Condition d'entr\u00e9e (patch 'inlet')","text":"<p>solver.boundary.apply_condition_with_wildcard(     pattern=\"inlet\",     condition_type=\"velocityInlet\",     velocity=(Quantity(10, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")),     turbulence_intensity=0.05 )</p>"},{"location":"fr/user_documentation/#condition-de-sortie-patch-outlet","title":"Condition de sortie (patch 'outlet')","text":"<p>solver.boundary.apply_condition_with_wildcard(     pattern=\"outlet\",     condition_type=\"pressureOutlet\" )</p>"},{"location":"fr/user_documentation/#condition-de-paroi-patch-walls","title":"Condition de paroi (patch 'walls')","text":"<p>solver.boundary.apply_condition_with_wildcard(     pattern=\"walls\",     condition_type=\"wall\" )</p>"},{"location":"fr/user_documentation/#ecriture-des-fichiers-de-conditions-limites","title":"\u00c9criture des fichiers de conditions limites","text":"<p>solver.boundary.write_boundary_conditions() ```</p> <p>Conditions Limites Disponibles (Exemples Typiques) :</p> <code>condition_type</code> Description Champs Typiques <code>fixedValue</code> Valeur fixe impos\u00e9e (ex: temp\u00e9rature, concentration). <code>T</code>, <code>C</code> <code>zeroGradient</code> Gradient normal nul (condition de Neumann). <code>p</code>, <code>T</code>, <code>U</code> (sortie) <code>velocityInlet</code> Vitesse d'entr\u00e9e avec profil (souvent uniforme) et param\u00e8tres de turbulence. <code>U</code>, <code>k</code>, <code>epsilon</code> <code>pressureOutlet</code> Pression de sortie fixe ou \u00e0 gradient nul. <code>p</code> <code>wall</code> Paroi solide (vitesse nulle, flux de chaleur nul par d\u00e9faut). <code>U</code>, <code>T</code> <code>symmetryPlane</code> Plan de sym\u00e9trie. <code>U</code>, <code>p</code>, <code>T</code>"},{"location":"fr/user_documentation/#33-modification-dun-dictionnaire-ou-ajout-dun-patch","title":"3.3. Modification d'un Dictionnaire ou Ajout d'un Patch","text":"<p><code>foampilot</code> expose les dictionnaires OpenFOAM comme des objets Python, ce qui permet une modification directe et intuitive.</p>"},{"location":"fr/user_documentation/#modification-dun-dictionnaire-existant","title":"Modification d'un Dictionnaire Existant","text":"<p>Pour modifier ou ajouter une entr\u00e9e dans un dictionnaire, il suffit d'acc\u00e9der \u00e0 l'attribut correspondant :</p> <p>```python</p>"},{"location":"fr/user_documentation/#modification-de-la-viscosite-cinematique-dans-transportproperties","title":"Modification de la viscosit\u00e9 cin\u00e9matique dans transportProperties","text":"<p>from foampilot.utilities.manageunits import Quantity kinematic_viscosity = Quantity(1e-6, \"m2/s\") solver.constant.transportProperties.nu = kinematic_viscosity</p>"},{"location":"fr/user_documentation/#modification-dune-propriete-dans-controldict","title":"Modification d'une propri\u00e9t\u00e9 dans controlDict","text":"<p>solver.system.controlDict.writeInterval = 100 # \u00c9crit les r\u00e9sultats toutes les 100 it\u00e9rations solver.system.controlDict.endTime = 1000 # D\u00e9finit le temps de fin de simulation ```</p> <p>Fichiers du R\u00e9pertoire <code>system</code> G\u00e9r\u00e9s par <code>foampilot</code> :</p> <p>L'objet <code>solver.system</code> expose plusieurs attributs pour g\u00e9rer les fichiers de ce r\u00e9pertoire :</p> Attribut Fichier OpenFOAM Correspondant Description <code>solver.system.controlDict</code> <code>controlDict</code> Contr\u00f4le de la simulation (temps de d\u00e9but/fin, intervalle d'\u00e9criture, solveur). <code>solver.system.fvSchemes</code> <code>fvSchemes</code> Sch\u00e9mas de discr\u00e9tisation des termes de l'\u00e9quation (diff\u00e9renciation, interpolation). <code>solver.system.fvSolution</code> <code>fvSolution</code> Param\u00e8tres des solveurs lin\u00e9aires (tol\u00e9rance, pr\u00e9conditionneur) et des boucles PISO/SIMPLE. <code>solver.system.decomposeParDict</code> <code>decomposeParDict</code> Configuration de la d\u00e9composition du domaine pour le calcul parall\u00e8le. <code>solver.system.add_dict_file(...)</code> Fichier personnalis\u00e9 Permet d'ajouter n'importe quel dictionnaire OpenFOAM suppl\u00e9mentaire. <p>Utilitaires Int\u00e9gr\u00e9s :</p> <p><code>foampilot</code> permet \u00e9galement d'ex\u00e9cuter des utilitaires OpenFOAM directement via l'objet <code>solver.system</code> :</p> M\u00e9thode Utilitaire OpenFOAM Description <code>solver.system.run_topoSet()</code> <code>topoSet</code> Cr\u00e9e des ensembles de cellules et de faces pour le post-traitement ou le raffinement. <code>solver.system.run_createPatch()</code> <code>createPatch</code> Modifie ou cr\u00e9e des patchs de conditions limites apr\u00e8s le maillage. <code>solver.system.write_functions_file()</code> <code>functions</code> Cr\u00e9e le fichier <code>system/functions</code> pour le post-traitement en cours de simulation (ex: <code>fieldAverage</code>). <p>Apr\u00e8s la modification, il est imp\u00e9ratif d'appeler la m\u00e9thode <code>write()</code> sur l'objet parent pour g\u00e9n\u00e9rer le fichier OpenFOAM mis \u00e0 jour :</p> <p>```python</p>"},{"location":"fr/user_documentation/#genere-le-fichier-constanttransportproperties","title":"G\u00e9n\u00e8re le fichier constant/transportProperties","text":"<p>solver.constant.write() </p>"},{"location":"fr/user_documentation/#genere-le-fichier-systemcontroldict","title":"G\u00e9n\u00e8re le fichier system/controlDict","text":"<p>solver.system.write()  ```</p>"},{"location":"fr/user_documentation/#ajout-dun-patch","title":"Ajout d'un Patch","text":"<p>L'ajout d'un patch se fait principalement lors de la phase de maillage (voir Section 2).</p> <ul> <li>Avec <code>blockMesh</code> (<code>classy_blocks</code>) : Le patch est d\u00e9fini sur une face g\u00e9om\u00e9trique :     ```python     shapes[-1].set_end_patch(\"monNouveauPatch\")     ```</li> <li>Avec <code>gmsh</code> ou <code>snappyHexMesh</code> : Le patch est d\u00e9fini dans les fichiers de configuration du maillage.</li> </ul> <p>Une fois le maillage g\u00e9n\u00e9r\u00e9, le nouveau patch est automatiquement reconnu par OpenFOAM. Il suffit ensuite d'appliquer une condition limite \u00e0 ce patch via <code>solver.boundary.apply_condition_with_wildcard(pattern=\"monNouveauPatch\", ...)</code> comme d\u00e9crit ci-dessus. ```</p>"},{"location":"fr/user_documentation/#4-mise-en-place-de-system-et-constant-avec-pyfluid","title":"4. Mise en Place de <code>system</code> et <code>constant</code> avec <code>pyfluid</code>","text":"<p>Le module <code>pyfluid</code> (ou la classe <code>FluidMechanics</code> de <code>foampilot.utilities.fluids_theory</code>) est essentiel pour d\u00e9finir les propri\u00e9t\u00e9s physiques du fluide et les constantes du cas OpenFOAM.</p>"},{"location":"fr/user_documentation/#41-definition-des-constantes-physiques-avec-fluidmechanics","title":"4.1. D\u00e9finition des Constantes Physiques avec <code>FluidMechanics</code>","text":"<p>La classe <code>FluidMechanics</code> permet de calculer les propri\u00e9t\u00e9s d'un fluide (comme la viscosit\u00e9 cin\u00e9matique \\(\\nu\\)) en fonction de la temp\u00e9rature et de la pression, en utilisant des donn\u00e9es physiques int\u00e9gr\u00e9es.</p> <p>```python from foampilot.utilities.fluids_theory import FluidMechanics from foampilot.utilities.manageunits import Quantity</p>"},{"location":"fr/user_documentation/#1-creer-une-instance-de-fluidmechanics-pour-leau-a-20c-29315-k","title":"1. Cr\u00e9er une instance de FluidMechanics pour l'eau \u00e0 20\u00b0C (293.15 K)","text":"<p>fluid_mech = FluidMechanics(     FluidMechanics.get_available_fluids()['Water'],     temperature=Quantity(293.15, \"K\"),     pressure=Quantity(101325, \"Pa\") )</p>"},{"location":"fr/user_documentation/#2-recuperer-les-proprietes","title":"2. R\u00e9cup\u00e9rer les propri\u00e9t\u00e9s","text":"<p>properties = fluid_mech.get_fluid_properties() kinematic_viscosity = properties['kinematic_viscosity']</p>"},{"location":"fr/user_documentation/#3-injecter-la-propriete-dans-le-dictionnaire-constanttransportproperties","title":"3. Injecter la propri\u00e9t\u00e9 dans le dictionnaire constant/transportProperties","text":"<p>solver.constant.transportProperties.nu = kinematic_viscosity</p>"},{"location":"fr/user_documentation/#4-ecrire-les-repertoires-system-et-constant","title":"4. \u00c9crire les r\u00e9pertoires system et constant","text":"<p>solver.system.write() solver.constant.write() ```</p> <p>Cette approche garantit que les constantes physiques sont d\u00e9finies de mani\u00e8re coh\u00e9rente et bas\u00e9e sur des donn\u00e9es physiques fiables, et qu'elles sont correctement format\u00e9es pour le fichier <code>constant/transportProperties</code>.</p> <p>Fichiers du R\u00e9pertoire <code>constant</code> G\u00e9r\u00e9s par <code>foampilot</code> :</p> <p>L'objet <code>solver.constant</code> expose plusieurs attributs pour g\u00e9rer les fichiers de ce r\u00e9pertoire :</p> Attribut Fichier OpenFOAM Correspondant Description <code>solver.constant.transportProperties</code> <code>transportProperties</code> Propri\u00e9t\u00e9s de transport (viscosit\u00e9, diffusivit\u00e9) pour les fluides incompressibles. <code>solver.constant.physicalProperties</code> <code>physicalProperties</code> Propri\u00e9t\u00e9s physiques (densit\u00e9, chaleur sp\u00e9cifique) pour les fluides compressibles. <code>solver.constant.turbulenceProperties</code> <code>turbulenceProperties</code> Configuration du mod\u00e8le de turbulence. <code>solver.constant.gravity</code> <code>g</code> Vecteur de gravit\u00e9. Activ\u00e9 via <code>solver.with_gravity = True</code>. <code>solver.constant.pRef</code> <code>pRef</code> Point de r\u00e9f\u00e9rence pour la pression (pour les cas compressibles). <code>solver.constant.radiation</code> <code>radiationProperties</code> Propri\u00e9t\u00e9s de rayonnement. Activ\u00e9 via <code>solver.constant.enable_radiation()</code>. <code>solver.constant.fvmodels</code> <code>fvModels</code> Mod\u00e8les de volume fini (utilis\u00e9 pour le rayonnement). <p>Note sur la Gravit\u00e9 : L'activation de la gravit\u00e9 (<code>solver.with_gravity = True</code>) entra\u00eene la cr\u00e9ation du fichier <code>constant/g</code> et, si n\u00e9cessaire, le remplacement du champ de pression <code>p</code> par <code>p_rgh</code> dans les fichiers de conditions initiales, conform\u00e9ment aux pratiques OpenFOAM pour les cas avec gravit\u00e9.</p>"},{"location":"fr/user_documentation/#5-lancement-du-solveur","title":"5. Lancement du Solveur","text":"<p>Le lancement de la simulation est g\u00e9r\u00e9 par la m\u00e9thode <code>run_simulation()</code> de l'objet <code>Solver</code>.</p>"},{"location":"fr/user_documentation/#51-lancement-sequentiel","title":"5.1. Lancement S\u00e9quentiel","text":"<p>Le lancement par d\u00e9faut est s\u00e9quentiel :</p> <p>```python</p>"},{"location":"fr/user_documentation/#execute-le-solveur-configure-par-exemple-simplefoam","title":"Ex\u00e9cute le solveur configur\u00e9 (par exemple, simpleFoam)","text":"<p>solver.run_simulation() ```</p>"},{"location":"fr/user_documentation/#52-lancement-en-parallele","title":"5.2. Lancement en Parall\u00e8le","text":"<p>Pour les maillages volumineux, le calcul parall\u00e8le est indispensable. <code>foampilot</code> int\u00e8gre la gestion du parall\u00e9lisme, qui n\u00e9cessite g\u00e9n\u00e9ralement deux \u00e9tapes : la d\u00e9composition du domaine et l'ex\u00e9cution parall\u00e8le.</p> <p>```python</p>"},{"location":"fr/user_documentation/#1-decomposition-du-domaine-utilise-lutilitaire-openfoam-decomposepar","title":"1. D\u00e9composition du domaine (utilise l'utilitaire OpenFOAM decomposePar)","text":""},{"location":"fr/user_documentation/#le-nombre-de-curs-cores-est-specifie-ici","title":"Le nombre de c\u0153urs (cores) est sp\u00e9cifi\u00e9 ici","text":"<p>solver.decompose_domain(cores=4) </p>"},{"location":"fr/user_documentation/#2-execution-du-solveur-en-parallele-utilise-mpirun","title":"2. Ex\u00e9cution du solveur en parall\u00e8le (utilise mpirun)","text":"<p>solver.run_simulation(parallel=True)</p>"},{"location":"fr/user_documentation/#3-reconstruction-du-domaine-apres-la-simulation-utilise-reconstructpar","title":"3. Reconstruction du domaine apr\u00e8s la simulation (utilise reconstructPar)","text":"<p>solver.reconstruct_domain() ```</p> <p>Note : La m\u00e9thode <code>decompose_domain</code> configure le dictionnaire <code>system/decomposeParDict</code> et ex\u00e9cute l'utilitaire. L'utilisateur peut modifier le <code>decomposeParDict</code> via <code>solver.system.decomposeParDict</code> avant l'ex\u00e9cution pour ajuster la m\u00e9thode de d\u00e9composition (par exemple, <code>scotch</code>, <code>simple</code>, <code>hierarchical</code>).</p>"},{"location":"fr/user_documentation/#6-post-traitement-avec-pyvista","title":"6. Post-Traitement avec <code>pyvista</code>","text":"<p>Le post-traitement est g\u00e9r\u00e9 par la classe <code>postprocess.FoamPostProcessing</code>, qui utilise la librairie <code>pyvista</code> pour la visualisation 3D et l'analyse des donn\u00e9es.</p>"},{"location":"fr/user_documentation/#61-flux-de-travail-de-post-traitement","title":"6.1. Flux de Travail de Post-Traitement","text":"<ol> <li>Conversion des R\u00e9sultats : Les r\u00e9sultats OpenFOAM sont d'abord convertis au format VTK (lisible par <code>pyvista</code>) via l'utilitaire <code>foamToVTK</code>.</li> <li>Chargement des Donn\u00e9es : Les donn\u00e9es sont charg\u00e9es dans des objets <code>pyvista</code> (<code>PolyData</code> ou <code>UnstructuredGrid</code>).</li> <li>Analyse et Visualisation : Utilisation des fonctions de <code>foampilot</code> ou directement de <code>pyvista</code> pour l'analyse.</li> </ol> <p>```python from foampilot import postprocess import pyvista as pv</p>"},{"location":"fr/user_documentation/#1-initialisation-et-conversion","title":"1. Initialisation et conversion","text":"<p>foam_post = postprocess.FoamPostProcessing(case_path=current_path) foam_post.foamToVTK()</p>"},{"location":"fr/user_documentation/#2-chargement-du-dernier-pas-de-temps","title":"2. Chargement du dernier pas de temps","text":"<p>time_steps = foam_post.get_all_time_steps() if time_steps:     latest_time_step = time_steps[-1]     structure = foam_post.load_time_step(latest_time_step)     cell_mesh = structure[\"cell\"] # Le maillage des cellules</p>"},{"location":"fr/user_documentation/#3-visualisation-exemple-de-trace-de-contour-de-pression","title":"3. Visualisation (Exemple de trac\u00e9 de contour de pression)","text":"<p>pl_contour = pv.Plotter(off_screen=True) pl_contour.add_mesh(cell_mesh, scalars='p', show_scalar_bar=True) foam_post.export_plot(pl_contour, current_path / \"contour_plot.png\") ```</p>"},{"location":"fr/user_documentation/#62-detail-des-possibilites-de-post-traitement","title":"6.2. D\u00e9tail des Possibilit\u00e9s de Post-Traitement","text":"<p><code>foampilot</code> et <code>pyvista</code> offrent une gamme \u00e9tendue de possibilit\u00e9s :</p> Fonctionnalit\u00e9 Description M\u00e9thode <code>foampilot</code> / <code>pyvista</code> Visualisation de Tranches Afficher les champs de donn\u00e9es (U, p, T) sur un plan de coupe. <code>foam_post.plot_slice(...)</code> Trac\u00e9 de Contours Visualiser les lignes ou surfaces d'isovaleur d'un champ (ex: pression). <code>pl.add_mesh(..., scalars='p')</code> Visualisation de Vecteurs Afficher le champ de vitesse (U) sous forme de fl\u00e8ches (glyphs). <code>cell_mesh.glyph(orient='U', ...)</code> Analyse de Tourbillons Calculer le crit\u00e8re Q ou la vorticit\u00e9 pour identifier les structures tourbillonnaires. <code>foam_post.calculate_q_criterion(...)</code>, <code>foam_post.calculate_vorticity(...)</code> Statistiques de Maillage Obtenir des m\u00e9triques de qualit\u00e9 du maillage (non-orthogonalit\u00e9, aspect ratio). <code>foam_post.get_mesh_statistics(...)</code> Statistiques de Champ Calculer les valeurs min/max/moyenne/\u00e9cart-type d'un champ sur une r\u00e9gion. <code>foam_post.get_region_statistics(...)</code> Export de Donn\u00e9es Exporter les donn\u00e9es de champ (U, p) vers des formats externes (CSV, JSON). <code>foam_post.export_region_data_to_csv(...)</code> Animation Cr\u00e9er des animations \u00e0 partir des diff\u00e9rents pas de temps. Fonctions <code>pyvista</code> pour l'enregistrement vid\u00e9o. ```"},{"location":"fr/user_documentation/#7-rapport-en-latex-avec-latex_pdf","title":"7. Rapport en LaTeX avec <code>latex_pdf</code>","text":"<p>L'une des fonctionnalit\u00e9s les plus puissantes de <code>foampilot</code> est sa capacit\u00e9 \u00e0 g\u00e9n\u00e9rer automatiquement un rapport de simulation structur\u00e9 au format PDF, en utilisant le module <code>latex_pdf</code>.</p>"},{"location":"fr/user_documentation/#71-fonctionnement-du-module-latex_pdf","title":"7.1. Fonctionnement du Module <code>latex_pdf</code>","text":"<p>Le module <code>latex_pdf</code> est une surcouche qui permet de construire un document LaTeX en Python, sans avoir \u00e0 \u00e9crire directement le code LaTeX. Il est particuli\u00e8rement adapt\u00e9 pour int\u00e9grer des r\u00e9sultats de simulation (statistiques, figures, tableaux).</p> <p>\u00c9tapes : 1.  Collecte des Donn\u00e9es : Les donn\u00e9es de post-traitement (statistiques, chemins des images g\u00e9n\u00e9r\u00e9es par <code>pyvista</code>) sont collect\u00e9es et sauvegard\u00e9es (souvent au format JSON ou CSV). 2.  Initialisation du Document : Cr\u00e9ation de l'objet <code>LatexDocument</code>. 3.  Ajout de Contenu : Utilisation des m\u00e9thodes de l'objet pour ajouter des sections, des tableaux, des figures, etc. 4.  G\u00e9n\u00e9ration du PDF : Compilation du document LaTeX en PDF.</p>"},{"location":"fr/user_documentation/#72-detail-des-possibilites-de-latex_pdf","title":"7.2. D\u00e9tail des Possibilit\u00e9s de <code>latex_pdf</code>","text":"<p>Le module offre des m\u00e9thodes pour structurer le rapport et int\u00e9grer les r\u00e9sultats :</p> M\u00e9thode Description Utilisation Typique <code>LatexDocument(...)</code> Initialise le document avec titre, auteur et nom de fichier. D\u00e9but du script de rapport. <code>add_title()</code> Ajoute la page de titre. Apr\u00e8s l'initialisation. <code>add_toc()</code> Ajoute la table des mati\u00e8res. Apr\u00e8s la page de titre. <code>add_abstract(...)</code> Ajoute un r\u00e9sum\u00e9 du rapport. Introduction du rapport. <code>add_section(...)</code> Ajoute une nouvelle section ou sous-section. Structuration du rapport. <code>add_table(...)</code> Int\u00e8gre un tableau de donn\u00e9es (ex: statistiques de maillage). Pr\u00e9sentation des donn\u00e9es num\u00e9riques. <code>add_figure(...)</code> Int\u00e8gre une image (ex: visualisation <code>pyvista</code>). Pr\u00e9sentation des r\u00e9sultats visuels. <code>add_appendix(...)</code> Ajoute une annexe. Pour les donn\u00e9es brutes ou les fichiers export\u00e9s. <code>generate_document(...)</code> Compile le document LaTeX en PDF. Fin du script de rapport."},{"location":"fr/user_documentation/#73-exemple-dintegration-de-resultats","title":"7.3. Exemple d'Int\u00e9gration de R\u00e9sultats","text":"<p>L'exemple <code>run_exemple2.py</code> montre comment les statistiques et les figures sont int\u00e9gr\u00e9es :</p> <p>```python</p>"},{"location":"fr/user_documentation/#chargement-des-statistiques-json","title":"Chargement des statistiques JSON","text":"<p>stats_file = current_path / \"all_stats.json\" with open(stats_file, \"r\") as f:     stats = json.load(f)</p> <p>doc = latex_pdf.LatexDocument(     title=\"Simulation Report: Muffler Flow Case\",     author=\"Automated Report\",     filename=\"simulation_report\",     output_dir=current_path )</p>"},{"location":"fr/user_documentation/#ajout-des-sections","title":"... ajout des sections ...","text":""},{"location":"fr/user_documentation/#ajout-dun-tableau-de-statistiques","title":"Ajout d'un tableau de statistiques","text":"<p>mesh_stats = stats.get(\"mesh_stats\", {}) mesh_table_data = [[k, v] for k, v in mesh_stats.items()] doc.add_table(     mesh_table_data,     headers=[\"Statistic\", \"Value\"],     caption=\"Mesh Quality Statistics\" )</p>"},{"location":"fr/user_documentation/#ajout-des-figures-generees-par-pyvista","title":"Ajout des figures g\u00e9n\u00e9r\u00e9es par pyvista","text":"<p>for img_name in [\"slice_plot.png\", \"contour_plot.png\", \"vector_plot.png\", \"mesh_style_plot.png\"]:     img_path = current_path / img_name     if img_path.exists():         doc.add_figure(str(img_path), caption=img_name.replace(\"_\", \" \").title(), width=\"0.7\\textwidth\")</p>"},{"location":"fr/user_documentation/#generation-finale","title":"G\u00e9n\u00e9ration finale","text":"<p>doc.generate_document(output_format=\"pdf\") ```</p> <p>Cette capacit\u00e9 permet de garantir une tra\u00e7abilit\u00e9 et une reproductibilit\u00e9 compl\u00e8tes des r\u00e9sultats de simulation, en g\u00e9n\u00e9rant un livrable professionnel directement \u00e0 partir du script de simulation. ```</p>"},{"location":"fr/dev/dev_intro_documentation/","title":"Documentation de Prise en Main pour D\u00e9veloppeurs : Module <code>foampilot</code>","text":""},{"location":"fr/dev/dev_intro_documentation/#1-introduction","title":"1. Introduction","text":"<p>Le module <code>foampilot</code> est con\u00e7u pour simplifier et automatiser la cr\u00e9ation, la configuration, l'ex\u00e9cution et le post-traitement des cas de simulation bas\u00e9s sur OpenFOAM. Il offre une interface orient\u00e9e objet en Python pour g\u00e9rer les fichiers de configuration complexes d'OpenFOAM, permettant aux d\u00e9veloppeurs de se concentrer sur la physique et la g\u00e9om\u00e9trie du probl\u00e8me plut\u00f4t que sur la syntaxe des dictionnaires.</p> <p>Cette documentation a pour but de fournir une vue d'ensemble d\u00e9taill\u00e9e de la structure du code pour faciliter la compr\u00e9hension et la contribution au projet.</p>"},{"location":"fr/dev/dev_intro_documentation/#2-concepts-cles-et-architecture","title":"2. Concepts Cl\u00e9s et Architecture","text":"<p>L'architecture de <code>foampilot</code> est \u00e9troitement calqu\u00e9e sur la structure d'un cas OpenFOAM standard, qui est divis\u00e9 en trois r\u00e9pertoires principaux : <code>constant</code>, <code>system</code>, et le r\u00e9pertoire du temps initial (<code>0</code>).</p>"},{"location":"fr/dev/dev_intro_documentation/#la-classe-centrale-solver","title":"La Classe Centrale : <code>Solver</code>","text":"<p>La classe <code>Solver</code> (<code>foampilot.solver.Solver</code>) est l'orchestrateur central du module. Elle encapsule l'ensemble du cas de simulation et fournit des points d'acc\u00e8s aux configurations des r\u00e9pertoires <code>constant</code> et <code>system</code>, ainsi qu'\u00e0 la gestion des conditions aux limites.</p> <p>Lors de l'initialisation, une instance de <code>Solver</code> cr\u00e9e automatiquement les objets n\u00e9cessaires pour g\u00e9rer les fichiers de configuration :</p> <ul> <li><code>solver.constant</code> : Une instance de <code>ConstantDirectory</code> pour g\u00e9rer les fichiers du r\u00e9pertoire <code>constant</code>.</li> <li><code>solver.system</code> : Une instance de <code>SystemDirectory</code> pour g\u00e9rer les fichiers du r\u00e9pertoire <code>system</code>.</li> <li><code>solver.boundary</code> : Une instance de <code>Boundary</code> pour g\u00e9rer les conditions aux limites.</li> </ul>"},{"location":"fr/dev/dev_intro_documentation/#3-structure-detaillee-du-code","title":"3. Structure D\u00e9taill\u00e9e du Code","text":"<p>Le c\u0153ur de la logique de <code>foampilot</code> se trouve dans le r\u00e9pertoire <code>foampilot/foampilot/src/foampilot</code>. Ce r\u00e9pertoire est organis\u00e9 en sous-modules logiques, chacun responsable d'un aspect sp\u00e9cifique de la gestion des cas OpenFOAM.</p> R\u00e9pertoire Source Description Classes Cl\u00e9s (Exemples) <code>base</code> Classes de base et utilitaires pour la manipulation des fichiers OpenFOAM. <code>Meshing</code>, <code>OpenFOAMFile</code> <code>solver</code> Contient la classe principale <code>Solver</code> et la logique d'ex\u00e9cution de la simulation. <code>Solver</code>, <code>BaseSolver</code> <code>constant</code> Gestion des fichiers de configuration dans le r\u00e9pertoire <code>constant</code>. <code>ConstantDirectory</code>, <code>transportPropertiesFile</code>, <code>turbulencePropertiesFile</code> <code>system</code> Gestion des fichiers de configuration dans le r\u00e9pertoire <code>system</code>. <code>SystemDirectory</code>, <code>controlDictFile</code>, <code>fvSchemesFile</code>, <code>fvSolutionFile</code> <code>boundaries</code> D\u00e9finition et application des conditions aux limites. <code>Boundary</code>, <code>boundaries_conditions_config</code> <code>mesh</code> Outils de maillage, y compris l'int\u00e9gration avec <code>classy_blocks</code> et <code>snappyHexMesh</code>. <code>BlockMeshFile</code>, <code>Meshing</code>, <code>gmsh_mesher</code> <code>utilities</code> Fonctions et classes utilitaires non sp\u00e9cifiques \u00e0 OpenFOAM (unit\u00e9s, propri\u00e9t\u00e9s des fluides, etc.). <code>Quantity</code>, <code>FluidMechanics</code>, <code>manageunits</code> <code>postprocess</code> Classes pour l'analyse des r\u00e9sultats, la visualisation (via <code>pyvista</code>) et l'extraction de donn\u00e9es. <code>FoamPostProcessing</code>, <code>ResidualsPost</code>"},{"location":"fr/dev/dev_intro_documentation/#4-mecanismes-internes-pour-les-developpeurs","title":"4. M\u00e9canismes Internes pour les D\u00e9veloppeurs","text":"<p>Pour une contribution efficace, il est crucial de comprendre comment <code>foampilot</code> traduit les objets Python en fichiers OpenFOAM et g\u00e8re la complexit\u00e9 des configurations.</p>"},{"location":"fr/dev/dev_intro_documentation/#41-le-mecanisme-decriture-des-fichiers-openfoamfile","title":"4.1. Le M\u00e9canisme d'\u00c9criture des Fichiers (<code>OpenFOAMFile</code>)","text":"<p>Le c\u0153ur de la s\u00e9rialisation des donn\u00e9es r\u00e9side dans la classe de base <code>OpenFOAMFile</code> (<code>foampilot/foampilot/src/foampilot/base/openFOAMFile.py</code>).</p> <ul> <li>H\u00e9ritage et Attributs : Chaque fichier de configuration OpenFOAM (comme <code>transportPropertiesFile</code> ou <code>controlDictFile</code>) h\u00e9rite de <code>OpenFOAMFile</code>. Les param\u00e8tres de configuration sont stock\u00e9s dans l'attribut <code>self.attributes</code> de l'instance.</li> <li>Acc\u00e8s Dynamique : La surcharge des m\u00e9thodes magiques <code>__getattr__</code> et <code>__setattr__</code> permet d'acc\u00e9der et de modifier les param\u00e8tres directement comme des attributs de l'objet (ex: <code>solver.constant.transportProperties.nu = ...</code>), m\u00eame si ces param\u00e8tres sont stock\u00e9s dans le dictionnaire <code>self.attributes</code>.</li> <li>S\u00e9rialisation (<code>write_file</code>) : La m\u00e9thode <code>write_file</code> parcourt r\u00e9cursivement le dictionnaire <code>self.attributes</code> et utilise la m\u00e9thode interne <code>_format_value</code> pour convertir les types de donn\u00e9es Python (bool\u00e9ens, nombres, tuples, et surtout <code>Quantity</code>) en la syntaxe sp\u00e9cifique d'OpenFOAM (ex: <code>true</code>/<code>false</code>, listes entre parenth\u00e8ses).</li> </ul>"},{"location":"fr/dev/dev_intro_documentation/#42-gestion-des-unites-et-des-dimensions-quantity","title":"4.2. Gestion des Unit\u00e9s et des Dimensions (<code>Quantity</code>)","text":"<p>La classe <code>Quantity</code> (<code>foampilot/foampilot/src/foampilot/utilities/manageunits.py</code>) est un wrapper autour de la librairie <code>pint</code> et est essentielle pour assurer la coh\u00e9rence physique.</p> <ul> <li>R\u00f4le : Elle stocke une valeur num\u00e9rique avec son unit\u00e9 physique (ex: <code>Quantity(10, \"m/s\")</code>).</li> <li>Conversion Automatique : Lors de l'\u00e9criture dans un fichier OpenFOAM, la m\u00e9thode <code>_format_value</code> de <code>OpenFOAMFile</code> v\u00e9rifie si la valeur est une instance de <code>Quantity</code>. Si c'est le cas, elle utilise la m\u00e9thode <code>get_in(target_unit)</code> pour convertir la valeur dans l'unit\u00e9 attendue par OpenFOAM (d\u00e9finie dans <code>OpenFOAMFile.DEFAULT_UNITS</code>), garantissant que toutes les valeurs \u00e9crites sont dans le syst\u00e8me d'unit\u00e9s de base d'OpenFOAM.</li> <li>Dimensions OpenFOAM : La m\u00e9thode <code>to_openfoam_dimensions()</code> utilise les capacit\u00e9s de <code>pint</code> pour d\u00e9river le vecteur de dimensions OpenFOAM (M, L, T, \u0398, N, J, A) \u00e0 partir de l'unit\u00e9, ce qui est crucial pour la g\u00e9n\u00e9ration des en-t\u00eates de fichiers de champs (ex: <code>U</code>, <code>p</code>).</li> </ul>"},{"location":"fr/dev/dev_intro_documentation/#43-orchestration-du-solveur-et-des-champs-solver-et-casefieldsmanager","title":"4.3. Orchestration du Solveur et des Champs (<code>Solver</code> et <code>CaseFieldsManager</code>)","text":"<p>La classe <code>Solver</code> d\u00e9l\u00e8gue la gestion des champs \u00e0 la classe <code>CaseFieldsManager</code> (<code>foampilot/foampilot/src/foampilot/base/cases_variables.py</code>).</p> <ul> <li>S\u00e9lection du Solveur : La classe <code>Solver</code> (<code>foampilot/foampilot/src/foampilot/solver/solver.py</code>) utilise des propri\u00e9t\u00e9s bool\u00e9ennes (ex: <code>self.compressible</code>, <code>self.with_gravity</code>, <code>self.is_vof</code>) pour d\u00e9terminer le type de simulation. La m\u00e9thode interne <code>_update_solver()</code> s\u00e9lectionne le solveur OpenFOAM appropri\u00e9 (ex: <code>incompressibleFluid</code>, <code>compressibleVoF</code>) et met \u00e0 jour l'instance de <code>BaseSolver</code>.</li> <li>Gestion des Champs : <code>CaseFieldsManager</code> utilise ces m\u00eames propri\u00e9t\u00e9s pour g\u00e9n\u00e9rer dynamiquement la liste des champs physiques n\u00e9cessaires (ex: <code>U</code>, <code>p</code>, <code>k</code>, <code>epsilon</code>, <code>T</code>).<ul> <li>Si <code>self.with_gravity</code> est vrai, le champ de pression devient <code>p_rgh</code>.</li> <li>Si un mod\u00e8le de turbulence est d\u00e9fini, les champs associ\u00e9s (<code>k</code>, <code>epsilon</code>, <code>omega</code>, <code>nut</code>) sont ajout\u00e9s.</li> <li>Cette liste de champs est ensuite utilis\u00e9e par la classe <code>Boundary</code> pour initialiser les conditions aux limites pour tous les champs requis.</li> </ul> </li> </ul>"},{"location":"fr/dev/dev_intro_documentation/#44-gestion-avancee-des-conditions-aux-limites-boundary","title":"4.4. Gestion Avanc\u00e9e des Conditions aux Limites (<code>Boundary</code>)","text":"<p>La classe <code>Boundary</code> (<code>foampilot/foampilot/src/foampilot/boundaries/boundaries_dict.py</code>) est responsable de la traduction des conditions physiques en configurations OpenFOAM.</p> <ul> <li>Configuration Centralis\u00e9e : Elle utilise un dictionnaire de configuration (<code>BOUNDARY_CONDITIONS_CONFIG</code>) qui mappe les types de conditions physiques (ex: <code>\"velocityInlet\"</code>) aux configurations OpenFOAM requises pour chaque champ (U, p, k, etc.), en fonction du mod\u00e8le de turbulence s\u00e9lectionn\u00e9.</li> <li>Application par Wildcard : La m\u00e9thode <code>apply_condition_with_wildcard(pattern, condition_type, **kwargs)</code> permet d'appliquer une condition \u00e0 tous les patchs dont le nom correspond \u00e0 une expression r\u00e9guli\u00e8re (<code>pattern</code>).</li> <li>R\u00e9solution des Conditions : Pour chaque champ, la m\u00e9thode <code>_resolve_field_config</code> d\u00e9termine la configuration OpenFOAM finale. Par exemple, pour une condition de paroi (<code>wall</code>), elle choisit entre <code>noSlip</code> ou <code>slip</code> en fonction des arguments fournis, et applique les fonctions de paroi (<code>wallFunction</code>) appropri\u00e9es pour les champs de turbulence (k, epsilon, etc.) en utilisant le dictionnaire <code>WALL_FUNCTIONS</code>.</li> <li>G\u00e9n\u00e9ration des Fichiers : La m\u00e9thode <code>write_boundary_conditions()</code> it\u00e8re sur tous les champs g\u00e9r\u00e9s par <code>CaseFieldsManager</code> et utilise <code>OpenFOAMFile.write_boundary_file</code> pour g\u00e9n\u00e9rer les fichiers de conditions aux limites dans le r\u00e9pertoire <code>0/</code>.</li> </ul>"},{"location":"fr/dev/dev_intro_documentation/#5-flux-de-travail-du-developpeur-base-sur-run_exemple2py","title":"5. Flux de Travail du D\u00e9veloppeur (Bas\u00e9 sur <code>run_exemple2.py</code>)","text":"<p>L'exemple d'utilisation illustre le flux de travail typique pour un d\u00e9veloppeur utilisant <code>foampilot</code> :</p> \u00c9tape Description Classes et M\u00e9thodes Cl\u00e9s 1. Initialisation D\u00e9finir le r\u00e9pertoire de travail et initialiser le solveur. <code>Solver(path)</code>, <code>FluidMechanics</code> 2. Configuration Physique D\u00e9terminer les propri\u00e9t\u00e9s du fluide et les appliquer aux fichiers de configuration. <code>FluidMechanics.get_fluid_properties()</code>, <code>solver.constant.transportProperties.nu = ...</code> 3. Maillage D\u00e9finir la g\u00e9om\u00e9trie et le maillage (souvent via l'int\u00e9gration <code>classy_blocks</code>) et g\u00e9n\u00e9rer le <code>blockMeshDict</code>. <code>classy_blocks.Cylinder</code>, <code>cb.Mesh()</code>, <code>Meshing(path, mesher=\"blockMesh\")</code> 4. Conditions aux Limites Initialiser et appliquer les conditions aux limites aux patchs d\u00e9finis par le maillage. <code>solver.boundary.initialize_boundary()</code>, <code>solver.boundary.apply_condition_with_wildcard()</code> 5. \u00c9criture des Fichiers G\u00e9n\u00e9rer tous les fichiers de configuration OpenFOAM sur le disque. <code>solver.system.write()</code>, <code>solver.constant.write()</code>, <code>solver.boundary.write_boundary_conditions()</code> 6. Ex\u00e9cution Lancer la simulation OpenFOAM. <code>solver.run_simulation()</code> 7. Post-traitement Analyser les r\u00e9sultats, g\u00e9n\u00e9rer des visualisations et des rapports. <code>FoamPostProcessing</code>, <code>ResidualsPost</code>, <code>latex_pdf.LatexDocument</code> <p>Ce flux de travail met en \u00e9vidence la mani\u00e8re dont les diff\u00e9rents modules de <code>foampilot</code> s'articulent pour fournir une abstraction compl\u00e8te du processus de simulation OpenFOAM. Pour contribuer, un d\u00e9veloppeur doit comprendre comment les classes de chaque module interagissent avec l'objet central <code>Solver</code> et comment elles traduisent les commandes Python en syntaxe de dictionnaire OpenFOAM.</p>"},{"location":"fr/dev/manage_quantity/","title":"Classe <code>Quantity</code> : Explication d\u00e9taill\u00e9e des m\u00e9thodes","text":"<p>Ce document d\u00e9taille chaque m\u00e9thode de la classe <code>Quantity</code>, con\u00e7ue pour g\u00e9rer les grandeurs physiques avec unit\u00e9s.</p>"},{"location":"fr/dev/manage_quantity/#introduction","title":"Introduction","text":"<p>La classe <code>Quantity</code> est une enveloppe autour de la biblioth\u00e8que Pint, permettant de manipuler des valeurs associ\u00e9es \u00e0 des unit\u00e9s physiques. Elle facilite la conversion, l'affichage, la s\u00e9rialisation, et les op\u00e9rations arithm\u00e9tiques.</p>"},{"location":"fr/dev/manage_quantity/#constructeur","title":"Constructeur","text":""},{"location":"fr/dev/manage_quantity/#description","title":"Description","text":"<p>Le constructeur initialise une nouvelle instance de <code>Quantity</code> avec une valeur num\u00e9rique et une unit\u00e9.</p> <ul> <li>Param\u00e8tres :</li> <li><code>value</code> : Valeur num\u00e9rique de la quantit\u00e9.</li> <li><code>unit</code> : Cha\u00eene de caract\u00e8res repr\u00e9sentant l'unit\u00e9 (ex: \"m/s\", \"Pa\", \"kg\").</li> </ul>"},{"location":"fr/dev/manage_quantity/#methodes-principales","title":"M\u00e9thodes principales","text":""},{"location":"fr/dev/manage_quantity/#set_quantity","title":"<code>set_quantity</code>","text":""},{"location":"fr/dev/manage_quantity/#description_1","title":"Description","text":"<p>Met \u00e0 jour la valeur et l'unit\u00e9 de la quantit\u00e9.</p> <ul> <li>Param\u00e8tres :</li> <li><code>value</code> : Nouvelle valeur num\u00e9rique.</li> <li><code>unit</code> : Nouvelle unit\u00e9.</li> </ul>"},{"location":"fr/dev/manage_quantity/#get_in","title":"<code>get_in</code>","text":""},{"location":"fr/dev/manage_quantity/#description_2","title":"Description","text":"<p>Convertit la quantit\u00e9 dans une unit\u00e9 cible et retourne sa valeur num\u00e9rique.</p> <ul> <li>Param\u00e8tres :</li> <li><code>target_unit</code> : Unit\u00e9 cible pour la conversion.</li> <li>Retourne : Valeur num\u00e9rique dans l'unit\u00e9 cible.</li> <li>Exceptions : L\u00e8ve une erreur si la conversion est impossible.</li> </ul>"},{"location":"fr/dev/manage_quantity/#to","title":"<code>to</code>","text":""},{"location":"fr/dev/manage_quantity/#description_3","title":"Description","text":"<p>Convertit la quantit\u00e9 dans une unit\u00e9 cible et retourne un nouvel objet <code>Quantity</code>.</p> <ul> <li>Param\u00e8tres :</li> <li><code>target_unit</code> : Unit\u00e9 cible pour la conversion.</li> <li>Retourne : Un nouvel objet <code>Quantity</code> avec la valeur convertie.</li> <li>Exceptions : L\u00e8ve une erreur si la conversion est impossible.</li> </ul>"},{"location":"fr/dev/manage_quantity/#serialisation","title":"S\u00e9rialisation","text":""},{"location":"fr/dev/manage_quantity/#as_dict","title":"<code>as_dict</code>","text":""},{"location":"fr/dev/manage_quantity/#description_4","title":"Description","text":"<p>Retourne une repr\u00e9sentation dictionnaire de la quantit\u00e9.</p> <ul> <li>Retourne : Un dictionnaire avec les cl\u00e9s <code>value</code> et <code>unit</code>.</li> <li>Exemple de sortie : <code>{\"value\": 10.0, \"unit\": \"meter / second\"}</code></li> </ul>"},{"location":"fr/dev/manage_quantity/#from_dict","title":"<code>from_dict</code>","text":""},{"location":"fr/dev/manage_quantity/#description_5","title":"Description","text":"<p>Cr\u00e9e un objet <code>Quantity</code> \u00e0 partir d'un dictionnaire.</p> <ul> <li>Param\u00e8tres :</li> <li><code>data</code> : Dictionnaire contenant les cl\u00e9s <code>value</code> et <code>unit</code>.</li> <li>Retourne : Un nouvel objet <code>Quantity</code>.</li> </ul>"},{"location":"fr/dev/manage_quantity/#from_pint","title":"<code>from_pint</code>","text":""},{"location":"fr/dev/manage_quantity/#description_6","title":"Description","text":"<p>Cr\u00e9e un objet <code>Quantity</code> \u00e0 partir d'une quantit\u00e9 Pint.</p> <ul> <li>Param\u00e8tres :</li> <li><code>pint_quantity</code> : Objet Pint Quantity.</li> <li>Retourne : Un nouvel objet <code>Quantity</code>.</li> </ul>"},{"location":"fr/dev/manage_quantity/#representation","title":"Repr\u00e9sentation","text":""},{"location":"fr/dev/manage_quantity/#__repr__-et-__str__","title":"<code>__repr__</code> et <code>__str__</code>","text":""},{"location":"fr/dev/manage_quantity/#description_7","title":"Description","text":"<ul> <li><code>__repr__</code> : Retourne une repr\u00e9sentation formelle de l'objet, utile pour le d\u00e9bogage.</li> <li><code>__str__</code> : Retourne une repr\u00e9sentation lisible de l'objet.</li> </ul>"},{"location":"fr/dev/manage_quantity/#operations-arithmetiques","title":"Op\u00e9rations arithm\u00e9tiques","text":""},{"location":"fr/dev/manage_quantity/#description_8","title":"Description","text":"<p>La classe supporte les op\u00e9rations <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> avec d'autres objets <code>Quantity</code> ou des scalaires.</p> <ul> <li>Addition (<code>__add__</code>) : Additionne deux quantit\u00e9s ou une quantit\u00e9 et un scalaire.</li> <li>Soustraction (<code>__sub__</code>) : Soustrait deux quantit\u00e9s ou une quantit\u00e9 et un scalaire.</li> <li>Multiplication (<code>__mul__</code>) : Multiplie deux quantit\u00e9s ou une quantit\u00e9 et un scalaire.</li> <li> <p>Division (<code>__truediv__</code>) : Divise deux quantit\u00e9s ou une quantit\u00e9 et un scalaire.</p> </li> <li> <p>Retourne : Un nouvel objet <code>Quantity</code> repr\u00e9sentant le r\u00e9sultat de l'op\u00e9ration.</p> </li> </ul>"},{"location":"fr/dev/manage_quantity/#exemple-dutilisation","title":"Exemple d'utilisation","text":"<ol> <li>Cr\u00e9ation d'objets :</li> <li><code>speed = Quantity(10, \"m/s\")</code></li> <li> <p><code>pressure = Quantity(101325, \"Pa\")</code></p> </li> <li> <p>Conversion :</p> </li> <li><code>speed.get_in(\"km/h\")</code></li> <li> <p><code>pressure.get_in(\"atm\")</code></p> </li> <li> <p>Arithm\u00e9tique :</p> </li> <li><code>d1 + d2</code></li> <li> <p><code>force / area</code></p> </li> <li> <p>S\u00e9rialisation :</p> </li> <li><code>data = {\"speed\": speed.as_dict(), \"pressure\": pressure.as_dict()}</code></li> <li> <p><code>json_str = json.dumps(data, indent=2)</code></p> </li> <li> <p>D\u00e9s\u00e9rialisation :</p> </li> <li><code>speed_loaded = Quantity.from_dict(loaded_data[\"speed\"])</code></li> </ol>"},{"location":"fr/dev/manage_quantity/#conclusion","title":"Conclusion","text":"<p>La classe <code>Quantity</code> simplifie la gestion des grandeurs physiques avec unit\u00e9s en Python, en s'appuyant sur Pint pour les conversions et en ajoutant des fonctionnalit\u00e9s de s\u00e9rialisation et d'op\u00e9rations arithm\u00e9tiques.</p>"},{"location":"fr/example/presentation_example/","title":"Exemples FOAMPilot","text":"<p>FOAMPilot est une biblioth\u00e8que Python con\u00e7ue pour faciliter la cr\u00e9ation, la configuration et l'ex\u00e9cution de simulations OpenFOAM. Elle propose une approche modulable et intuitive pour g\u00e9rer les cas CFD, la g\u00e9n\u00e9ration de maillages, les conditions aux limites, les fonctions objets, ainsi que le post-traitement des r\u00e9sultats.</p> <p>Cette section pr\u00e9sente diff\u00e9rents exemples illustrant les avantages et la flexibilit\u00e9 de FOAMPilot pour automatiser les workflows CFD et faciliter l'apprentissage d'OpenFOAM avec Python.</p>"},{"location":"fr/example/presentation_example/#objectifs-des-exemples","title":"Objectifs des exemples","text":"<p>Les exemples permettent de :</p> <ul> <li>Montrer comment initialiser un cas OpenFOAM depuis Python.</li> <li>D\u00e9montrer la g\u00e9n\u00e9ration et la modification de maillages \u00e0 partir de fichiers JSON.</li> <li>Illustrer la d\u00e9finition des propri\u00e9t\u00e9s des fluides et des conditions aux limites.</li> <li>Mettre en place des <code>functionObjects</code> pour le suivi des grandeurs physiques (forces, pressions, moyennes de champ\u2026).</li> <li>Cr\u00e9er et g\u00e9rer des dictionnaires sp\u00e9cifiques OpenFOAM (<code>topoSetDict</code>, <code>createPatchDict</code>, etc.).</li> <li>Ex\u00e9cuter la simulation et automatiser le post-traitement.</li> <li>Fournir des exemples reproductibles pour l'apprentissage et le prototypage.</li> </ul>"},{"location":"fr/example/presentation_example/#liste-des-exemples","title":"Liste des exemples","text":"<p>Cette partie sera compl\u00e9t\u00e9e au fur et \u00e0 mesure de la conception des tests.  </p> <ul> <li>Muffler : Exemple d\u00e9taill\u00e9 d'un silencieux de moteur, montrant la g\u00e9n\u00e9ration de maillage complexe, les conditions aux limites, et l'analyse des r\u00e9sultats acoustiques et fluidiques.  </li> <li>SimpleCar : Exemple bas\u00e9 sur le tutoriel officiel OpenFOAM SimpleCar, illustrant la simulation d'un \u00e9coulement autour d'une voiture simple avec g\u00e9n\u00e9ration de maillage via JSON, application des conditions aux limites et suivi des forces a\u00e9rodynamiques.</li> </ul>"},{"location":"fr/example/presentation_example/#notes","title":"Notes","text":"<p>Chaque exemple est fourni avec un script Python autonome qui :</p> <ol> <li>D\u00e9finit le chemin du cas (<code>current_path</code>).</li> <li>Initialise les propri\u00e9t\u00e9s du fluide (densit\u00e9, viscosit\u00e9, pression, temp\u00e9rature\u2026).</li> <li>Initialise le solver FOAMPilot et les dossiers syst\u00e8me/constant.</li> <li>G\u00e9n\u00e8re le maillage \u00e0 partir d'un fichier JSON.</li> <li>Ajoute les <code>functionObjects</code> n\u00e9cessaires (moyenne de champ, pression de r\u00e9f\u00e9rence, contr\u00f4le de temps, etc.).</li> <li>Manipule les dictionnaires OpenFOAM pour la cr\u00e9ation de patchs et la d\u00e9finition des zones.</li> <li>Applique les conditions aux limites avec l'API moderne.</li> <li>Ex\u00e9cute la simulation.</li> <li>Post-traite automatiquement les r\u00e9sultats et g\u00e9n\u00e8re des exports CSV, JSON, PNG et HTML.</li> </ol> <p>Ces exemples sont con\u00e7us pour \u00eatre modulables et facilement adaptables \u00e0 diff\u00e9rents cas d'\u00e9tude CFD.</p>"},{"location":"fr/example/muffler/detailled_example_muffler/","title":"Exemple CFD Silencieux \u2013 FoamPilot","text":""},{"location":"fr/example/muffler/detailled_example_muffler/#vue-densemble","title":"Vue d'ensemble","text":"<p>Cet exemple d\u00e9montre un workflow CFD complet utilisant FoamPilot et OpenFOAM pour simuler un \u00e9coulement incompressible dans une g\u00e9om\u00e9trie de silencieux. Il sert de r\u00e9f\u00e9rence pour illustrer la philosophie de FoamPilot :</p> <ul> <li>Mod\u00e9lisation physique explicite (fluides, unit\u00e9s)</li> <li>G\u00e9om\u00e9trie param\u00e9trique et maillage structur\u00e9</li> <li>Gestion robuste des conditions aux limites</li> <li>Ex\u00e9cution automatis\u00e9e des simulations</li> <li>Post-traitement et visualisation avanc\u00e9s</li> <li>G\u00e9n\u00e9ration automatique de rapports PDF</li> </ul> <p>\ud83d\udcc1 Emplacement : <code>examples/muffler</code></p>"},{"location":"fr/example/muffler/detailled_example_muffler/#1-prerequis","title":"1. Pr\u00e9requis","text":"<p>Avant d'ex\u00e9cuter cet exemple, assurez-vous que :</p> <ul> <li>OpenFOAM est correctement install\u00e9 et accessible</li> <li>FoamPilot est install\u00e9</li> <li>Les d\u00e9pendances Python suivantes sont disponibles :</li> <li><code>classy_blocks</code></li> <li><code>pyvista</code></li> <li><code>numpy</code></li> <li><code>pandas</code></li> </ul>"},{"location":"fr/example/muffler/detailled_example_muffler/#2-initialisation-du-cas","title":"2. Initialisation du cas","text":"<p>D\u00e9finition du r\u00e9pertoire de travail et initialisation du solveur FoamPilot.</p> <pre><code>from foampilot.solver import Solver\nfrom pathlib import Path\n\ncurrent_path = Path.cwd() / \"cas_test\"\nsolver = Solver(current_path)\n\nsolver.compressible = False\nsolver.with_gravity = False\n</code></pre> <p>Le <code>Solver</code> est l'objet central qui orchestre :</p> <ul> <li>Les dictionnaires OpenFOAM</li> <li>Les conditions aux limites</li> <li>L'ex\u00e9cution de la simulation</li> </ul>"},{"location":"fr/example/muffler/detailled_example_muffler/#3-proprietes-du-fluide","title":"3. Propri\u00e9t\u00e9s du fluide","text":"<p>FoamPilot utilise l'API <code>FluidMechanics</code> pour d\u00e9finir explicitement les fluides.</p> <pre><code>from foampilot import FluidMechanics, Quantity\n\nfluides_disponibles = FluidMechanics.get_available_fluids()\n\nfluide = FluidMechanics(\n    fluides_disponibles[\"Water\"],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\n\nproprietes = fluide.get_fluid_properties()\nnu = proprietes[\"kinematic_viscosity\"]\n</code></pre> <p>La viscosit\u00e9 cin\u00e9matique est ensuite inject\u00e9e dans la configuration OpenFOAM :</p> <pre><code>solver.constant.transportProperties.nu = nu\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#4-ecriture-des-fichiers-de-configuration-openfoam","title":"4. \u00c9criture des fichiers de configuration OpenFOAM","text":"<pre><code>solver.system.write()\nsolver.constant.write()\nsolver.system.fvSchemes.to_dict()\n</code></pre> <p>FoamPilot g\u00e9n\u00e8re automatiquement :</p> <ul> <li><code>controlDict</code></li> <li><code>fvSchemes</code></li> <li><code>fvSolution</code></li> <li><code>transportProperties</code></li> </ul>"},{"location":"fr/example/muffler/detailled_example_muffler/#5-definition-de-la-geometrie-classyblocks","title":"5. D\u00e9finition de la g\u00e9om\u00e9trie (ClassyBlocks)","text":""},{"location":"fr/example/muffler/detailled_example_muffler/#51-parametres-geometriques","title":"5.1 Param\u00e8tres g\u00e9om\u00e9triques","text":"<pre><code>pipe_radius = 0.05\nmuffler_radius = 0.08\nref_length = 0.1\ncell_size = 0.015\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#52-construction-de-la-geometrie","title":"5.2 Construction de la g\u00e9om\u00e9trie","text":"<p>La g\u00e9om\u00e9trie est construite comme une s\u00e9quence de formes param\u00e9triques :</p> <ol> <li>Tuyau d'entr\u00e9e (cylindre)</li> <li>Anneau d'expansion (corps du silencieux)</li> <li>Section remplie</li> <li>Coude de sortie \u00e0 90\u00b0</li> </ol> <p>Exemple pour le cylindre d'entr\u00e9e :</p> <pre><code>import classy_blocks as cb\n\nshapes = []\n\nshapes.append(cb.Cylinder(\n    [0, 0, 0],\n    [3 * ref_length, 0, 0],\n    [0, pipe_radius, 0]\n))\n\nshapes[-1].chop_axial(start_size=cell_size)\nshapes[-1].chop_radial(start_size=cell_size)\nshapes[-1].chop_tangential(start_size=cell_size)\nshapes[-1].set_start_patch(\"inlet\")\n</code></pre> <p>Les patches sont d\u00e9finis au niveau de la g\u00e9om\u00e9trie, garantissant la coh\u00e9rence entre le maillage et les conditions aux limites.</p>"},{"location":"fr/example/muffler/detailled_example_muffler/#6-generation-du-maillage","title":"6. G\u00e9n\u00e9ration du maillage","text":"<pre><code>mesh = cb.Mesh()\nfor shape in shapes:\n    mesh.add(shape)\n\nmesh.set_default_patch(\"walls\", \"wall\")\nmesh.write(\n    current_path / \"system\" / \"blockMeshDict\",\n    current_path / \"debug.vtk\"\n)\n</code></pre> <p>Ex\u00e9cution du maillage avec OpenFOAM :</p> <pre><code>from foampilot import Meshing\n\nmeshing = Meshing(current_path, mesher=\"blockMesh\")\nmeshing.mesher.run()\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#7-conditions-aux-limites","title":"7. Conditions aux limites","text":"<p>FoamPilot fournit une API g\u00e9n\u00e9rique utilisant des motifs (wildcards) :</p> <pre><code>solver.boundary.initialize_boundary()\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#71-entree-de-vitesse","title":"7.1 Entr\u00e9e de vitesse","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"inlet\",\n    condition_type=\"velocityInlet\",\n    velocity=(\n        Quantity(10, \"m/s\"),\n        Quantity(0, \"m/s\"),\n        Quantity(0, \"m/s\")\n    ),\n    turbulence_intensity=0.05\n)\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#72-sortie-de-pression","title":"7.2 Sortie de pression","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"outlet\",\n    condition_type=\"pressureOutlet\"\n)\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#73-parois","title":"7.3 Parois","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"walls\",\n    condition_type=\"wall\"\n)\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#74-ecriture-des-fichiers-de-conditions","title":"7.4 \u00c9criture des fichiers de conditions","text":"<pre><code>solver.boundary.write_boundary_conditions()\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#8-execution-de-la-simulation","title":"8. Ex\u00e9cution de la simulation","text":"<pre><code>solver.run_simulation()\n</code></pre> <p>FoamPilot g\u00e8re automatiquement le solveur, l'ex\u00e9cution et le logging.</p>"},{"location":"fr/example/muffler/detailled_example_muffler/#9-post-traitement-des-residus","title":"9. Post-traitement des r\u00e9sidus","text":"<pre><code>from foampilot.utilities import ResidualsPost\n\nresiduals = ResidualsPost(current_path / \"log.incompressibleFluid\")\nresiduals.process(\n    export_csv=True,\n    export_json=True,\n    export_png=True,\n    export_html=True\n)\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#10-visualisation-et-analyse-des-resultats","title":"10. Visualisation et analyse des r\u00e9sultats","text":""},{"location":"fr/example/muffler/detailled_example_muffler/#chargement-des-resultats","title":"Chargement des r\u00e9sultats","text":"<pre><code>from foampilot import postprocess\n\nfoam_post = postprocess.FoamPostProcessing(case_path=current_path)\nfoam_post.foamToVTK()\ntime_steps = foam_post.get_all_time_steps()\nlatest_time_step = time_steps[-1]\nstructure = foam_post.load_time_step(latest_time_step)\ncell_mesh = structure[\"cell\"]\nboundaries = structure[\"boundaries\"]\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#visualisation","title":"Visualisation","text":"<ul> <li>Tranches (slice)</li> <li>Contours de pression</li> <li>Vecteurs de vitesse</li> <li>Maillage filaire</li> </ul>"},{"location":"fr/example/muffler/detailled_example_muffler/#analyses","title":"Analyses","text":"<ul> <li>Crit\u00e8re Q</li> <li>Vorticit\u00e9</li> <li>Statistiques du maillage et des champs</li> <li>Export CSV / JSON</li> <li>Animation</li> </ul> <pre><code>foam_post.calculate_q_criterion(mesh=cell_mesh, velocity_field=\"U\")\nfoam_post.calculate_vorticity(mesh=cell_mesh, velocity_field=\"U\")\nfoam_post.create_animation(\n    scalars=\"U\",\n    filename=current_path / \"animation.gif\",\n    fps=5\n)\n</code></pre>"},{"location":"fr/example/muffler/detailled_example_muffler/#11-generation-automatique-du-rapport-pdf","title":"11. G\u00e9n\u00e9ration automatique du rapport PDF","text":"<pre><code>from foampilot import latex_pdf\n\ndoc = latex_pdf.LatexDocument(\n    title=\"Rapport Simulation : Silencieux\",\n    author=\"Rapport Automatique\",\n    output_dir=current_path\n)\n\ndoc.add_title()\ndoc.add_toc()\ndoc.add_abstract(\n    \"Ce rapport r\u00e9sume la simulation CFD incompressible d'un silencieux.\"\n)\n\ndoc.generate_document(output_format=\"pdf\")\n</code></pre> <p>Le rapport inclut :</p> <ul> <li>Propri\u00e9t\u00e9s du fluide</li> <li>Statistiques du maillage</li> <li>Statistiques des champs</li> <li>Figures et visualisations</li> <li>Annexes de donn\u00e9es</li> </ul>"},{"location":"fr/example/muffler/detailled_example_muffler/#12-resume","title":"12. R\u00e9sum\u00e9","text":"<p>Cet exemple illustre une cha\u00eene compl\u00e8te de simulation CFD :</p> <ul> <li>G\u00e9om\u00e9trie param\u00e9trique et maillage structur\u00e9 avec <code>classy_blocks</code></li> <li>Simulation CFD avec OpenFOAM via <code>foampilot</code></li> <li>Post-traitement et visualisation avanc\u00e9s avec <code>pyvista</code></li> <li>Reporting PDF automatis\u00e9</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/","title":"Explication de l'exemple OpenFOAM Python","text":"<p>Ce document explique en d\u00e9tail un script Python qui configure, ex\u00e9cute et post-traite un cas CFD incompressible en utilisant le framework FoamPilot. L'exemple est bas\u00e9 sur le tutoriel OpenFOAM suivant :</p> <p>Tutoriel SimpleCar (OpenFOAM)</p>"},{"location":"fr/example/simplecar/detailled_example/#1-definition-du-chemin-du-cas","title":"1. D\u00e9finition du chemin du cas","text":"<p>Le r\u00e9pertoire du cas est d\u00e9fini \u00e0 l'aide de <code>Path</code> :</p> <pre><code>current_path = Path.cwd() / \"cases\"\n</code></pre> <p>Cela garantit que tous les fichiers et dossiers g\u00e9n\u00e9r\u00e9s sont organis\u00e9s dans <code>cases</code> dans le r\u00e9pertoire courant.</p>"},{"location":"fr/example/simplecar/detailled_example/#2-proprietes-du-fluide","title":"2. Propri\u00e9t\u00e9s du fluide","text":"<p>Nous d\u00e9finissons les propri\u00e9t\u00e9s du fluide avec l'API <code>FluidMechanics</code> :</p> <pre><code>available_fluids = FluidMechanics.get_available_fluids()\nfluid = FluidMechanics(\n    available_fluids[\"Air\"],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\nnu = fluid.get_fluid_properties()[\"kinematic_viscosity\"]\n</code></pre> <ul> <li><code>get_available_fluids()</code> fournit la liste des fluides pr\u00e9d\u00e9finis.  </li> <li><code>FluidMechanics</code> permet de d\u00e9finir la temp\u00e9rature et la pression.  </li> <li>La viscosit\u00e9 cin\u00e9matique (<code>nu</code>) est extraite pour la configuration du solveur.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#3-initialisation-du-solveur","title":"3. Initialisation du solveur","text":"<pre><code>solver = Solver(current_path)\nsolver.compressible = False\nsolver.with_gravity = False\nsolver.constant.transportProperties.nu = nu\nsolver.system.write()\nsolver.constant.write()\n</code></pre> <ul> <li>Le solveur est configur\u00e9 en mode incompressible.  </li> <li>La gravit\u00e9 est d\u00e9sactiv\u00e9e.  </li> <li>La viscosit\u00e9 est d\u00e9finie dans <code>transportProperties</code>.  </li> <li>Les dossiers <code>system</code> et <code>constant</code> sont cr\u00e9\u00e9s et \u00e9crits.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#4-generation-du-maillage-blockmesh-json","title":"4. G\u00e9n\u00e9ration du maillage (blockMesh JSON)","text":"<pre><code>data_path = Path.cwd() / \"block_mesh.json\"\nmesh = Meshing(current_path, mesher=\"blockMesh\")\nmesh.mesher.load_from_json(data_path)\nmesh.mesher.write(file_path=current_path / \"system\" / \"blockMeshDict\")\nmesh.mesher.run()\n</code></pre> <ul> <li>L'objet <code>Meshing</code> g\u00e8re la g\u00e9n\u00e9ration du maillage.  </li> <li><code>load_from_json()</code> charge la configuration du maillage (blocs, sommets, ar\u00eates) \u00e0 partir d\u2019un fichier JSON.  </li> <li><code>write()</code> cr\u00e9e le fichier <code>blockMeshDict</code>.  </li> <li><code>run()</code> ex\u00e9cute <code>blockMesh</code> pour g\u00e9n\u00e9rer le maillage.  </li> </ul> <p>Cette approche permet de versionner et reproduire le maillage sans modification manuelle des dictionnaires OpenFOAM.</p>"},{"location":"fr/example/simplecar/detailled_example/#fieldaverage","title":"FieldAverage","text":"<pre><code>name_field, field_average_dict = utilities.Functions.field_average(\"fieldAverage\")\nutilities.Functions.write_function_field_average(name_field, field_average_dict, base_path=current_path, folder='system')\n</code></pre> <ul> <li>Calcule la moyenne d\u2019un champ (par ex. vitesse) sur un patch d\u00e9fini.  </li> <li>Ajoute la fonction \u00e0 <code>system/controlDict</code>.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#reference-pressure","title":"Reference Pressure","text":"<pre><code>name_field_ref, reference_dict = utilities.Functions.reference_pressure(\"referencePressure\")\nutilities.Functions.write_function_reference_pressure(name_field_ref, reference_dict, base_path=current_path, folder='system')\n</code></pre> <ul> <li>D\u00e9finit une pression de r\u00e9f\u00e9rence pour les simulations incompressibles.  </li> <li>Assure que la pression est unique.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#runtimecontrol","title":"RunTimeControl","text":"<pre><code>conditions1 = {...}  # crit\u00e8res d'arr\u00eat\nname_field_rt1, rt1_dict = utilities.Functions.run_time_control(\"runTimeControl\", conditions=conditions1)\nutilities.Functions.write_function_run_time_control(name_field=name_field_rt1, name_condition=\"runTimeControl1\", function_dict=rt1_dict, base_path=current_path, folder='system')\n</code></pre> <ul> <li>Surveille la convergence ou d'autres crit\u00e8res.  </li> <li>Interrompt la simulation lorsque les conditions sont atteintes.</li> </ul> <p>Toutes les fonctions sont finalement \u00e9crites dans <code>system/functions</code>.</p>"},{"location":"fr/example/simplecar/detailled_example/#6-manipulation-des-dictionnaires-patches-toposet","title":"6. Manipulation des dictionnaires : Patches &amp; topoSet","text":""},{"location":"fr/example/simplecar/detailled_example/#createpatchdict","title":"createPatchDict","text":"<pre><code>patch_names = [\"airIntake\"]\npatches_dict = utilities.dictonnary.dict_tools.create_patches_dict(patch_names)\ncreate_patch_dict_file = utilities.dictonnary.OpenFOAMDictAddFile(object_name='createPatchDict', **patches_dict)\ncreate_patch_dict_file.write(\"createPatchDict\", current_path)\n</code></pre> <ul> <li>D\u00e9finit de nouveaux patches \u00e0 partir de la g\u00e9om\u00e9trie existante.  </li> <li>\u00c9crit dans <code>createPatchDict</code> pour ex\u00e9cution ult\u00e9rieure.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#toposetdict","title":"topoSetDict","text":"<pre><code>actions = [\n    utilities.dictonnary.dict_tools.create_action(...),\n    ...\n]\nactions_dict = utilities.dictonnary.dict_tools.create_actions_dict(actions)\ncreate_topo_set_dict_file = utilities.dictonnary.OpenFOAMDictAddFile(object_name='topoSetDict', **actions_dict)\ncreate_topo_set_dict_file.write(\"topoSetDict\", current_path)\nsolver.system.run_topoSet()\nsolver.system.run_createPatch()\n</code></pre> <ul> <li>Cr\u00e9e des <code>cellSets</code>, <code>faceSets</code> ou <code>cellZoneSets</code>.  </li> <li><code>topoSet</code> permet de s\u00e9lectionner des parties du maillage selon des bo\u00eetes ou des patches.  </li> <li><code>createPatch</code> ajoute des faces aux patches.  </li> <li>Automatisation de la pr\u00e9paration du maillage pour des zones sp\u00e9cialis\u00e9es (ex. zones poreuses).</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#7-conditions-aux-limites","title":"7. Conditions aux limites","text":"<pre><code>solver.boundary.initialize_boundary()\n\nsolver.boundary.apply_condition_with_wildcard(pattern=\"inlet\", condition_type=\"velocityInlet\", velocity=(Quantity(10, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\n\nsolver.boundary.apply_condition_with_wildcard(pattern=\"outlet\", condition_type=\"pressureOutlet\")\n\nsolver.boundary.apply_condition_with_wildcard(pattern=\"airIntake\", condition_type=\"velocityInlet\", velocity=(Quantity(1.2, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\n\nsolver.boundary.apply_condition_with_wildcard(pattern=\"walls\", condition_type=\"wall\")\n\nsolver.boundary.write_boundary_conditions()\n</code></pre> <ul> <li>Les jokers permettent d\u2019appliquer une condition \u00e0 plusieurs patches.  </li> <li>G\u00e8re les entr\u00e9es de vitesse, sorties de pression et parois.  </li> <li>L\u2019\u00e9criture g\u00e9n\u00e8re les fichiers <code>0/</code> n\u00e9cessaires \u00e0 OpenFOAM.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#8-execution-de-la-simulation","title":"8. Ex\u00e9cution de la simulation","text":"<pre><code>solver.run_simulation()\n</code></pre> <ul> <li>Ex\u00e9cute le solveur (ex. <code>simpleFoam</code>) avec tous les r\u00e9glages et le maillage appliqu\u00e9.</li> </ul>"},{"location":"fr/example/simplecar/detailled_example/#9-post-traitement","title":"9. Post-traitement","text":"<pre><code>residuals_post = utilities.ResidualsPost(current_path / \"log.incompressibleFluid\")\nresiduals_post.process(export_csv=True, export_json=True, export_png=True, export_html=True)\n</code></pre> <ul> <li>Traite les r\u00e9sidus pour l\u2019analyse de convergence.  </li> <li>Exporte les donn\u00e9es au format CSV, JSON, PNG et HTML pour reporting.</li> </ul> <p>Fin de l\u2019exemple</p>"},{"location":"zh/","title":"\u4e3b\u9875","text":"<p>\u6b22\u8fce\u6765\u5230 FoamPilot \u6587\u6863\u3002</p> <ul> <li>\u5173\u4e8e</li> <li>\u5b89\u88c5 OpenFOAM</li> <li>FOAMPilot \u4ecb\u7ecd</li> <li>\u6d41\u4f53\u529b\u5b66\u7406\u8bba\u6307\u5357</li> <li>\u7528\u6237\u6307\u5357</li> <li>\u5f00\u53d1\u8005\u90e8\u5206</li> <li>\u793a\u4f8b</li> </ul>"},{"location":"zh/fluids_theory/","title":"\ud83d\udcda \u6d41\u4f53\u529b\u5b66\u7406\u8bba\u6587\u6863","text":"<p>\u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u5bf9 Python \u7c7b <code>FluidMechanics</code> \u4e2d\u5b9e\u73b0\u7684\u6d41\u4f53\u529b\u5b66\u539f\u7406\u7684\u7406\u8bba\u6982\u8ff0\u3002\u5b83\u65e8\u5728\u4f5c\u4e3a\u7528\u6237\u548c\u5f00\u53d1\u4eba\u5458\u7684\u7efc\u5408\u6307\u5357\uff0c\u5e2e\u52a9\u4ed6\u4eec\u7406\u89e3\u8ba1\u7b97\u6d41\u4f53\u52a8\u529b\u5b66 (CFD) \u5e94\u7528\u5e93\u4e2d\u6240\u4f7f\u7528\u7684\u57fa\u7840\u7269\u7406\u548c\u6570\u5b66\u6a21\u578b\u3002</p>"},{"location":"zh/fluids_theory/#1-cfd","title":"1. CFD \u6d41\u4f53\u529b\u5b66\u5bfc\u8bba","text":"<p>\u6d41\u4f53\u529b\u5b66\u662f\u7269\u7406\u5b66\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u7814\u7a76\u6d41\u4f53\uff08\u6db2\u4f53\u3001\u6c14\u4f53\u548c\u7b49\u79bb\u5b50\u4f53\uff09\u7684\u529b\u5b66\u53ca\u5176\u53d7\u529b\u3002\u5b83\u5728\u822a\u7a7a\u3001\u571f\u6728\u5de5\u7a0b\u3001\u6c14\u8c61\u5b66\u548c\u751f\u7269\u533b\u5b66\u5de5\u7a0b\u7b49\u9886\u57df\u6709\u7740\u5e7f\u6cdb\u7684\u5e94\u7528\u3002\u5728\u8ba1\u7b97\u6d41\u4f53\u52a8\u529b\u5b66 (CFD) \u7684\u80cc\u666f\u4e0b\uff0c\u6d41\u4f53\u529b\u5b66\u539f\u7406\u88ab\u79bb\u6563\u5316\u5e76\u901a\u8fc7\u6570\u503c\u6c42\u89e3\u6765\u6a21\u62df\u6d41\u4f53\u6d41\u52a8\u73b0\u8c61\u3002<code>FluidMechanics</code> \u7c7b\u5c01\u88c5\u4e86\u8bbe\u7f6e\u548c\u5206\u6790 CFD \u6a21\u62df\u81f3\u5173\u91cd\u8981\u7684\u51e0\u4e2a\u57fa\u672c\u6982\u5ff5\u548c\u7ecf\u9a8c\u5173\u8054\u5f0f\uff0c\u7279\u522b\u662f\u5173\u4e8e\u7f51\u683c\u751f\u6210\u548c\u8fb9\u754c\u6761\u4ef6\u3002</p> <p>CFD \u6a21\u62df\u4e25\u91cd\u4f9d\u8d56\u4e8e\u7406\u89e3\u6d41\u4f53\u5728\u5404\u79cd\u5c3a\u5ea6\u548c\u6761\u4ef6\u4e0b\u7684\u884c\u4e3a\u3002\u8fd9\u5305\u62ec\u8868\u5f81\u6d41\u52a8\u72b6\u6001\u3001\u9884\u6d4b\u80fd\u91cf\u635f\u5931\u548c\u5206\u6790\u4f20\u70ed\u673a\u5236\u3002<code>FluidMechanics</code> \u7c7b\u63d0\u4f9b\u4e86\u91cf\u5316\u8fd9\u4e9b\u65b9\u9762\u7684\u5de5\u5177\uff0c\u4f7f\u5de5\u7a0b\u5e08\u548c\u7814\u7a76\u4eba\u5458\u66f4\u5bb9\u6613\u51c6\u5907\u6a21\u62df\u8f93\u5165\u5e76\u89e3\u91ca\u5176\u7ed3\u679c\u3002\u6d41\u4f53\u5c5e\u6027\u3001\u6d41\u52a8\u53c2\u6570\u548c\u65e0\u91cf\u7eb2\u6570\u7684\u6b63\u786e\u9009\u62e9\u5bf9\u4e8e\u51c6\u786e\u548c\u7a33\u5b9a\u7684 CFD \u8ba1\u7b97\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"zh/fluids_theory/#2","title":"2. \u6d41\u4f53\u529b\u5b66\u4e2d\u7684\u65e0\u91cf\u7eb2\u6570","text":"<p>\u65e0\u91cf\u7eb2\u6570\u5728\u6d41\u4f53\u529b\u5b66\u4e2d\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u4eec\u5141\u8bb8\u5bf9\u7269\u7406\u73b0\u8c61\u8fdb\u884c\u7f29\u653e\uff0c\u5e76\u63d0\u4f9b\u5bf9\u4f5c\u7528\u4e8e\u6d41\u4f53\u4e0a\u7684\u4e0d\u540c\u529b\u7684\u76f8\u5bf9\u91cd\u8981\u6027\u7684\u6d1e\u5bdf\u3002\u5b83\u4eec\u5728 CFD \u4e2d\u7279\u522b\u6709\u7528\uff0c\u7528\u4e8e\u6bd4\u8f83\u4e0d\u540c\u7684\u6d41\u52a8\u573a\u666f\u4ee5\u53ca\u9a8c\u8bc1\u6a21\u62df\u7ed3\u679c\u4e0e\u5b9e\u9a8c\u6570\u636e\u6216\u89e3\u6790\u89e3\u3002<code>FluidMechanics</code> \u7c7b\u8ba1\u7b97\u4e86\u51e0\u4e2a\u5173\u952e\u7684\u65e0\u91cf\u7eb2\u6570\uff0c\u6bcf\u4e2a\u6570\u90fd\u63d0\u4f9b\u4e86\u5173\u4e8e\u6d41\u52a8\u72b6\u6001\u7684\u72ec\u7279\u4fe1\u606f\u3002</p>"},{"location":"zh/fluids_theory/#21-re","title":"2.1. \u96f7\u8bfa\u6570 (Re)","text":"<p>\u96f7\u8bfa\u6570\u662f\u6d41\u4f53\u52a8\u529b\u5b66\u4e2d\u6700\u91cd\u8981\u3001\u6700\u5e38\u7528\u7684\u65e0\u91cf\u7eb2\u91cf\u4e4b\u4e00\uff0c\u7528\u4e8e\u9884\u6d4b\u4e0d\u540c\u6d41\u4f53\u6d41\u52a8\u60c5\u51b5\u4e0b\u7684\u6d41\u52a8\u6a21\u5f0f\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\u60ef\u6027\u529b\u4e0e\u7c98\u6027\u529b\u4e4b\u6bd4\uff0c\u5176\u516c\u5f0f\u4e3a\uff1a</p> \\[Re = \\frac{\\rho v L}{\\mu}\\] <p>\u5176\u4e2d\uff1a * \\(\\rho\\) \u662f\u6d41\u4f53\u5bc6\u5ea6 (kg/m\u00b3) * \\(v\\) \u662f\u7279\u5f81\u6d41\u901f (m/s) * \\(L\\) \u662f\u7279\u5f81\u7ebf\u6027\u5c3a\u5bf8 (m) * \\(\\mu\\) \u662f\u6d41\u4f53\u7684\u52a8\u529b\u7c98\u5ea6 (Pa\u00b7s)</p> <p>\u5bf9\u4e8e\u5185\u90e8\u6d41\u52a8\uff08\u5982\u7ba1\u9053\u6d41\u52a8\uff09\uff0c\u7279\u5f81\u7ebf\u6027\u5c3a\u5bf8\u901a\u5e38\u662f\u7ba1\u9053\u76f4\u5f84\u3002\u5bf9\u4e8e\u5916\u90e8\u6d41\u52a8\uff0c\u5b83\u53ef\u4ee5\u662f\u5e73\u677f\u7684\u957f\u5ea6\u6216\u5706\u67f1\u4f53\u7684\u76f4\u5f84\u3002\u96f7\u8bfa\u6570\u6709\u52a9\u4e8e\u786e\u5b9a\u6d41\u52a8\u662f\u5c42\u6d41\u3001\u8fc7\u6e21\u6d41\u8fd8\u662f\u6e4d\u6d41\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u7ba1\u9053\u6d41\u52a8\uff0c\\(Re &lt; 2300\\) \u8868\u793a\u5c42\u6d41\uff0c\\(2300 \\le Re \\le 4000\\) \u8868\u793a\u8fc7\u6e21\u6d41\uff0c\u800c \\(Re &gt; 4000\\) \u8868\u793a\u6e4d\u6d41 [1]\u3002</p>"},{"location":"zh/fluids_theory/#22-pr","title":"2.2. \u666e\u6717\u7279\u6570 (Pr)","text":"<p>\u666e\u6717\u7279\u6570\u662f\u4e00\u4e2a\u65e0\u91cf\u7eb2\u6570\uff0c\u8fd1\u4f3c\u4e8e\u52a8\u91cf\u6269\u6563\u7387\uff08\u8fd0\u52a8\u7c98\u5ea6\uff09\u4e0e\u70ed\u6269\u6563\u7387\u4e4b\u6bd4\u3002\u5b83\u7528\u4e8e\u8868\u5f81\u6c34\u52a8\u529b\u548c\u70ed\u8fb9\u754c\u5c42\u7684\u76f8\u5bf9\u539a\u5ea6\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\uff1a</p> \\[Pr = \\frac{\\mu c_p}{k}\\] <p>\u5176\u4e2d\uff1a * \\(\\mu\\) \u662f\u52a8\u529b\u7c98\u5ea6 (Pa\u00b7s) * \\(c_p\\) \u662f\u5b9a\u538b\u6bd4\u70ed\u5bb9 (J/(kg\u00b7K)) * \\(k\\) \u662f\u70ed\u5bfc\u7387 (W/(m\u00b7K))</p> <p>\u5bf9\u4e8e\u6c14\u4f53\uff0cPr \u901a\u5e38\u5728 0.7-1.0 \u5de6\u53f3\uff0c\u8868\u660e\u52a8\u91cf\u548c\u70ed\u91cf\u4ee5\u76f8\u4f3c\u7684\u901f\u7387\u6269\u6563\u3002\u5bf9\u4e8e\u6db2\u4f53\uff0cPr \u53ef\u80fd\u6709\u663e\u8457\u5dee\u5f02\u3002\u4f8b\u5982\uff0c\u5ba4\u6e29\u4e0b\u7684\u6c34 Pr \u7ea6\u4e3a 7\uff0c\u610f\u5473\u7740\u52a8\u91cf\u6bd4\u70ed\u91cf\u6269\u6563\u5feb\u5f97\u591a [2]\u3002</p>"},{"location":"zh/fluids_theory/#23-nu","title":"2.3. \u52aa\u585e\u5c14\u6570 (Nu)","text":"<p>\u52aa\u585e\u5c14\u6570\u662f\u5bf9\u6d41\u4f20\u70ed\u4e0e\u8de8\u8d8a\u8fb9\u754c\u7684\u4f20\u5bfc\u4f20\u70ed\u4e4b\u6bd4\u3002\u5b83\u662f\u4e00\u4e2a\u65e0\u91cf\u7eb2\u7684\u4f20\u70ed\u7cfb\u6570\uff0c\u91cf\u5316\u4e86\u76f8\u5bf9\u4e8e\u6d41\u4f53\u5c42\u5185\u4f20\u5bfc\u800c\u8a00\uff0c\u7531\u4e8e\u5bf9\u6d41\u800c\u589e\u5f3a\u7684\u8868\u9762\u4f20\u70ed\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\uff1a</p> \\[Nu = \\frac{h L}{k}\\] <p>\u5176\u4e2d\uff1a * \\(h\\) \u662f\u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570 (W/(m\u00b2\u00b7K)) * \\(L\\) \u662f\u7279\u5f81\u957f\u5ea6 (m) * \\(k\\) \u662f\u6d41\u4f53\u7684\u70ed\u5bfc\u7387 (W/(m\u00b7K))</p> <p>\u66f4\u9ad8\u7684\u52aa\u585e\u5c14\u6570\u8868\u793a\u66f4\u6709\u6548\u7684\u5bf9\u6d41\u4f20\u70ed\u3002\u5bf9\u4e8e\u7eaf\u4f20\u5bfc\uff0c\\(Nu = 1\\)\u3002\u7ecf\u9a8c\u5173\u8054\u5f0f\u5e38\u7528\u4e8e\u786e\u5b9a\u5404\u79cd\u51e0\u4f55\u5f62\u72b6\u548c\u6d41\u52a8\u6761\u4ef6\u4e0b\u7684\u52aa\u585e\u5c14\u6570 [3]\u3002</p>"},{"location":"zh/fluids_theory/#24-gr","title":"2.4. \u683c\u62c9\u6653\u592b\u6570 (Gr)","text":"<p>\u683c\u62c9\u6653\u592b\u6570\u662f\u6d41\u4f53\u52a8\u529b\u5b66\u548c\u4f20\u70ed\u4e2d\u7684\u4e00\u4e2a\u65e0\u91cf\u7eb2\u6570\uff0c\u8fd1\u4f3c\u4e8e\u4f5c\u7528\u4e8e\u6d41\u4f53\u4e0a\u7684\u6d6e\u529b\u4e0e\u7c98\u6027\u529b\u4e4b\u6bd4\u3002\u5b83\u4e3b\u8981\u7528\u4e8e\u81ea\u7136\u5bf9\u6d41\u95ee\u9898\uff0c\u5176\u4e2d\u6d41\u4f53\u8fd0\u52a8\u7531\u6e29\u5ea6\u53d8\u5316\u5f15\u8d77\u7684\u5bc6\u5ea6\u5dee\u5f02\u9a71\u52a8\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\uff1a</p> \\[Gr = \\frac{g \\beta \\Delta T L^3}{\\nu^2}\\] <p>\u5176\u4e2d\uff1a * \\(g\\) \u662f\u91cd\u529b\u52a0\u901f\u5ea6 (m/s\u00b2) * \\(\\beta\\) \u662f\u70ed\u81a8\u80c0\u7cfb\u6570 (1/K) * \\(\\Delta T\\) \u662f\u6e29\u5dee (K) * \\(L\\) \u662f\u7279\u5f81\u957f\u5ea6 (m) * \\(\\nu\\) \u662f\u8fd0\u52a8\u7c98\u5ea6 (m\u00b2/s)</p> <p>\u683c\u62c9\u6653\u592b\u6570\u5728\u81ea\u7136\u5bf9\u6d41\u4e2d\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8e\u96f7\u8bfa\u6570\u5728\u5f3a\u5236\u5bf9\u6d41\u4e2d\u7684\u4f5c\u7528\uff0c\u5b83\u6307\u793a\u4e86\u6d6e\u529b\u9a71\u52a8\u6d41\u4e2d\u4ece\u5c42\u6d41\u5230\u6e4d\u6d41\u7684\u8f6c\u53d8 [4]\u3002</p>"},{"location":"zh/fluids_theory/#25-ra","title":"2.5. \u745e\u5229\u6570 (Ra)","text":"<p>\u745e\u5229\u6570\u662f\u4e0e\u6d6e\u529b\u9a71\u52a8\u6d41\uff08\u81ea\u7136\u5bf9\u6d41\uff09\u76f8\u5173\u7684\u65e0\u91cf\u7eb2\u6570\u3002\u5f53\u745e\u5229\u6570\u4f4e\u4e8e\u6d41\u4f53\u7684\u4e34\u754c\u503c\u65f6\uff0c\u4f20\u70ed\u4e3b\u8981\u901a\u8fc7\u4f20\u5bfc\u8fdb\u884c\uff1b\u5f53\u5b83\u8d85\u8fc7\u4e34\u754c\u503c\u65f6\uff0c\u4f20\u70ed\u4e3b\u8981\u901a\u8fc7\u5bf9\u6d41\u8fdb\u884c\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\u683c\u62c9\u6653\u592b\u6570\u548c\u666e\u6717\u7279\u6570\u7684\u4e58\u79ef\uff1a</p> \\[Ra = Gr \\cdot Pr = \\frac{g \\beta \\Delta T L^3}{\\nu \\alpha}\\] <p>\u5176\u4e2d\uff1a * \\(\\alpha\\) \u662f\u70ed\u6269\u6563\u7387 (m\u00b2/s)</p> <p>\u4e34\u754c\u745e\u5229\u6570\u56e0\u51e0\u4f55\u5f62\u72b6\u548c\u8fb9\u754c\u6761\u4ef6\u800c\u5f02\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4ece\u4e0b\u65b9\u52a0\u70ed\u7684\u6c34\u5e73\u6d41\u4f53\u5c42\uff0c\u5f53 \\(Ra &gt; 1708\\) \u65f6\uff0c\u5bf9\u6d41\u901a\u5e38\u5f00\u59cb [5]\u3002</p>"},{"location":"zh/fluids_theory/#26-pe","title":"2.6. \u4f69\u514b\u83b1\u6570 (Pe)","text":"<p>\u4f69\u514b\u83b1\u6570\u662f\u4e0e\u6d41\u4f53\u6d41\u52a8\u4e2d\u8f93\u8fd0\u73b0\u8c61\u7814\u7a76\u76f8\u5173\u7684\u65e0\u91cf\u7eb2\u6570\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\u7269\u7406\u91cf\u968f\u6d41\u52a8\u5e73\u6d41\uff08\u5bf9\u6d41\uff09\u7684\u901f\u7387\u4e0e\u7531\u9002\u5f53\u68af\u5ea6\u9a71\u52a8\u7684\u540c\u4e00\u7269\u7406\u91cf\u6269\u6563\u901f\u7387\u4e4b\u6bd4\u3002\u5b83\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a</p> \\[Pe = Re \\cdot Pr\\] <p>\u5176\u4e2d\uff1a * \\(Re\\) \u662f\u96f7\u8bfa\u6570 * \\(Pr\\) \u662f\u666e\u6717\u7279\u6570</p> <p>\u6216\u8005\uff0c\u5b83\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[Pe = \\frac{v L}{\\alpha}\\] <p>\u5176\u4e2d\uff1a * \\(v\\) \u662f\u6d41\u901f (m/s) * \\(L\\) \u662f\u7279\u5f81\u957f\u5ea6 (m) * \\(\\alpha\\) \u662f\u70ed\u6269\u6563\u7387 (m\u00b2/s)</p> <p>\u5927\u7684\u4f69\u514b\u83b1\u6570\u8868\u793a\u5e73\u6d41\u5360\u4e3b\u5bfc\u5730\u4f4d\uff0c\u800c\u5c0f\u7684\u4f69\u514b\u83b1\u6570\u5219\u8868\u660e\u6269\u6563\u66f4\u91cd\u8981\u3002\u8be5\u6570\u5728\u4f20\u70ed\u548c\u4f20\u8d28\u95ee\u9898\u4e2d\u5c24\u4e3a\u91cd\u8981 [6]\u3002</p>"},{"location":"zh/fluids_theory/#3","title":"3. \u8fb9\u754c\u5c42\u8ba1\u7b97","text":"<p>\u8fb9\u754c\u5c42\u662f\u4e0e\u56fa\u4f53\u8868\u9762\u76f8\u90bb\u7684\u8584\u5c42\u6d41\u4f53\uff0c\u5176\u4e2d\u7c98\u6027\u6548\u5e94\u663e\u8457\u3002\u7406\u89e3\u548c\u51c6\u786e\u5730\u5efa\u6a21\u8fb9\u754c\u5c42\u5728 CFD \u4e2d\u81f3\u5173\u91cd\u8981\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u9884\u6d4b\u963b\u529b\u3001\u5347\u529b\u548c\u4f20\u70ed\u3002<code>FluidMechanics</code> \u7c7b\u63d0\u4f9b\u4e86\u4f30\u7b97\u8fb9\u754c\u5c42\u7279\u5f81\u7684\u5de5\u5177\uff0c\u8fd9\u5bf9\u4e8e CFD \u6a21\u62df\u4e2d\u9002\u5f53\u7684\u7f51\u683c\u751f\u6210\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"zh/fluids_theory/#31-y","title":"3.1. y+ \u503c","text":"<p>y+ \u503c\uff08\u8bfb\u4f5c \"y-plus\"\uff09\u662f\u8ddd\u58c1\u9762\u7684\u65e0\u91cf\u7eb2\u8ddd\u79bb\uff0c\u7531\u7c98\u6027\u957f\u5ea6\u5c3a\u5ea6\u5f52\u4e00\u5316\u3002\u5b83\u662f\u6e4d\u6d41\u5efa\u6a21\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u53c2\u6570\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u58c1\u9762\u7ea6\u675f\u6d41\u3002y+ \u503c\u51b3\u5b9a\u4e86\u4e0d\u540c\u6e4d\u6d41\u6a21\u578b\u5728\u58c1\u9762\u9644\u8fd1\u5408\u9002\u7684\u7f51\u683c\u5212\u5206\u7b56\u7565\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\uff1a</p> \\[y^+ = \\frac{u_\\tau y}{\\nu}\\] <p>\u5176\u4e2d\uff1a * \\(u_\\tau\\) \u662f\u6469\u64e6\u901f\u5ea6 (m/s)\uff0c\u5b9a\u4e49\u4e3a \\(\\sqrt{\\tau_w / \\rho}\\) * \\(y\\) \u662f\u8ddd\u58c1\u9762\u7684\u7269\u7406\u8ddd\u79bb (m) * \\(\\nu\\) \u662f\u8fd0\u52a8\u7c98\u5ea6 (m\u00b2/s) * \\(\\tau_w\\) \u662f\u58c1\u9762\u526a\u5207\u5e94\u529b (Pa) * \\(\\rho\\) \u662f\u6d41\u4f53\u5bc6\u5ea6 (kg/m\u00b3)</p> <p>\u5bf9\u4e8e\u8bb8\u591a\u6e4d\u6d41\u6a21\u578b\uff0c\u7b2c\u4e00\u4e2a\u9760\u8fd1\u58c1\u9762\u7684\u5355\u5143\u4e2d\u5fc3\u5e94\u653e\u7f6e\u5728\u4e00\u4e2a\u7279\u5b9a\u7684 y+ \u8303\u56f4\u5185\u3002<code>FluidMechanics</code> \u7c7b\u6839\u636e\u63d0\u4f9b\u7684\u58c1\u9762\u526a\u5207\u5e94\u529b\u548c\u7279\u5f81\u957f\u5ea6\u8ba1\u7b97 y+ [7]\u3002</p>"},{"location":"zh/fluids_theory/#32","title":"3.2. \u6e4d\u6d41\u8fb9\u754c\u5c42\u539a\u5ea6","text":"<p>\u8fb9\u754c\u5c42\u539a\u5ea6 (\\(\\delta\\)) \u901a\u5e38\u5b9a\u4e49\u4e3a\u6d41\u4f53\u901f\u5ea6\u8fbe\u5230\u81ea\u7531\u6d41\u901f\u5ea6 99% \u7684\u8ddd\u79bb\u3002\u5bf9\u4e8e\u5e73\u677f\u4e0a\u7684\u6e4d\u6d41\u8fb9\u754c\u5c42\uff0c\u7ecf\u9a8c\u5173\u8054\u5f0f\u5e38\u7528\u4e8e\u4f30\u7b97\u5176\u539a\u5ea6\u3002\u6e4d\u6d41\u7684\u4e00\u4e2a\u5e38\u7528\u5173\u8054\u5f0f\u662f\uff1a</p> \\[\\delta \\approx 0.37 L Re_L^{-1/5}\\] <p>\u5176\u4e2d\uff1a * \\(L\\) \u662f\u7279\u5f81\u957f\u5ea6 (m) * \\(Re_L\\) \u662f\u57fa\u4e8e\u7279\u5f81\u957f\u5ea6\u7684\u96f7\u8bfa\u6570</p> <p>\u6b64\u5173\u8054\u5f0f\u4e3a\u6e4d\u6d41\u8fb9\u754c\u5c42\u63d0\u4f9b\u4e86\u5408\u7406\u7684\u4f30\u8ba1\uff0c\u4f46\u5b83\u662f\u4e00\u4e2a\u8fd1\u4f3c\u503c [8]\u3002</p>"},{"location":"zh/fluids_theory/#33","title":"3.3. \u7f51\u683c\u5c3a\u5bf8\u786e\u5b9a\u7684\u8fb9\u754c\u5c42\u5355\u5143\u6570","text":"<p>\u5728 CFD \u4e2d\uff0c\u51c6\u786e\u89e3\u6790\u8fb9\u754c\u5c42\u9700\u8981\u8db3\u591f\u6570\u91cf\u7684\u7f51\u683c\u5355\u5143\u805a\u96c6\u5728\u58c1\u9762\u9644\u8fd1\u3002<code>FluidMechanics</code> \u7c7b\u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u6cd5\uff0c\u7528\u4e8e\u4f30\u7b97\u5728\u7ed9\u5b9a\u81a8\u80c0\u6bd4\u4e0b\uff0c\u8fbe\u5230\u8fb9\u754c\u5c42\u8fb9\u7f18\u76ee\u6807\u5355\u5143\u5c3a\u5bf8\u6240\u9700\u7684\u5c42\u6570\u3002\u6b64\u8ba1\u7b97\u662f\u8fed\u4ee3\u7684\uff0c\u5e76\u786e\u4fdd\u7f51\u683c\u4ece\u58c1\u9762\u5230\u81ea\u7531\u6d41\u533a\u57df\u5e73\u7a33\u8fc7\u6e21\u3002\u81a8\u80c0\u6bd4\u51b3\u5b9a\u4e86\u540e\u7eed\u6bcf\u4e2a\u5355\u5143\u5c42\u539a\u5ea6\u7684\u589e\u957f\u91cf\u3002\u5178\u578b\u7684\u81a8\u80c0\u6bd4\u5728 1.1 \u5230 1.3 \u4e4b\u95f4 [9]\u3002</p>"},{"location":"zh/fluids_theory/#4","title":"4. \u538b\u529b\u635f\u5931\u8ba1\u7b97","text":"<p>\u6d41\u4f53\u6d41\u52a8\u7cfb\u7edf\u4e2d\u7684\u538b\u529b\u635f\u5931\u662f\u5de5\u7a0b\u8bbe\u8ba1\u4e2d\u7684\u5173\u952e\u53c2\u6570\uff0c\u5f71\u54cd\u6cf5\u7684\u9009\u578b\u3001\u80fd\u8017\u548c\u6574\u4f53\u7cfb\u7edf\u6548\u7387\u3002<code>FluidMechanics</code> \u7c7b\u5305\u542b\u4e00\u79cd\u8ba1\u7b97\u5185\u90e8\u6d41\u52a8\u538b\u529b\u635f\u5931\u7684\u65b9\u6cd5\uff0c\u7279\u522b\u662f\u4f7f\u7528\u8fbe\u897f-\u5a01\u65af\u5df4\u8d6b\u65b9\u7a0b\u3002</p>"},{"location":"zh/fluids_theory/#41-","title":"4.1. \u8fbe\u897f-\u5a01\u65af\u5df4\u8d6b\u65b9\u7a0b","text":"<p>\u8fbe\u897f-\u5a01\u65af\u5df4\u8d6b\u65b9\u7a0b\u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684\u7ecf\u9a8c\u65b9\u7a0b\uff0c\u5b83\u5c06\u6cbf\u7ed9\u5b9a\u957f\u5ea6\u7ba1\u9053\u7684\u6469\u64e6\u5f15\u8d77\u7684\u6cbf\u7a0b\u6c34\u5934\u635f\u5931\uff08\u6216\u538b\u529b\u635f\u5931\uff09\u4e0e\u6d41\u4f53\u6d41\u52a8\u7684\u5e73\u5747\u901f\u5ea6\u8054\u7cfb\u8d77\u6765\u3002\u5b83\u9002\u7528\u4e8e\u5c42\u6d41\u548c\u6e4d\u6d41\u3002\u538b\u529b\u635f\u5931 (\\(\\Delta P\\)) \u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a</p> \\[\\Delta P = f \\frac{L}{D} \\frac{\\rho v^2}{2}\\] <p>\u5176\u4e2d\uff1a * \\(f\\) \u662f\u8fbe\u897f\u6469\u64e6\u7cfb\u6570\uff08\u65e0\u91cf\u7eb2\uff09 * \\(L\\) \u662f\u7ba1\u9053\u957f\u5ea6 (m) * \\(D\\) \u662f\u7ba1\u9053\u5185\u5f84 (m) * \\(\\rho\\) \u662f\u6d41\u4f53\u5bc6\u5ea6 (kg/m\u00b3) * \\(v\\) \u662f\u5e73\u5747\u6d41\u901f (m/s)</p>"},{"location":"zh/fluids_theory/#42-f","title":"4.2. \u6469\u64e6\u7cfb\u6570 (\\(f\\))","text":"<p>\u6469\u64e6\u7cfb\u6570 (\\(f\\)) \u53d6\u51b3\u4e8e\u6d41\u52a8\u72b6\u6001\uff08\u5c42\u6d41\u6216\u6e4d\u6d41\uff09\u548c\u7ba1\u9053\u7c97\u7cd9\u5ea6\u3002</p> <ul> <li> <p>\u5bf9\u4e8e\u5c42\u6d41 (\\(Re &lt; 2300\\))\uff0c\u6469\u64e6\u7cfb\u6570\u4ec5\u662f\u96f7\u8bfa\u6570\u7684\u51fd\u6570\uff0c\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a</p> \\[f = \\frac{64}{Re}\\] </li> <li> <p>\u5bf9\u4e8e\u6e4d\u6d41 (\\(Re \\ge 2300\\))\uff0c\u6469\u64e6\u7cfb\u6570\u53d6\u51b3\u4e8e\u96f7\u8bfa\u6570\u548c\u7ba1\u9053\u7684\u76f8\u5bf9\u7c97\u7cd9\u5ea6 (\\(\\epsilon/D\\))\u3002<code>FluidMechanics</code> \u7c7b\u4f7f\u7528\u57fa\u4e8e Colebrook-White \u65b9\u7a0b\u7684\u8fd1\u4f3c\u503c\uff0c\u5982 Swamee-Jain \u65b9\u7a0b\uff0c\u5b83\u5177\u6709\u663e\u5f0f\u5f62\u5f0f\u4e14\u56e0\u5176\u51c6\u786e\u6027\u548c\u7b80\u5355\u6027\u800c\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff1a</p> \\[f = \\frac{0.25}{\\left[\\log_{10}\\left(\\frac{\\epsilon}{3.7D} + \\frac{5.74}{Re^{0.9}}\\right)\\right]^2}\\] </li> </ul> <p>\u8be5\u65b9\u7a0b\u9002\u7528\u4e8e \\(Re &gt; 4000\\) \u548c\u5927\u8303\u56f4\u7684\u76f8\u5bf9\u7c97\u7cd9\u5ea6\u503c [10]\u3002</p>"},{"location":"zh/fluids_theory/#5","title":"5. \u4f20\u70ed\u8ba1\u7b97","text":"<p>\u4f20\u70ed\u662f\u8bb8\u591a\u6d41\u4f53\u6d41\u52a8\u5e94\u7528\u7684\u4e00\u4e2a\u57fa\u672c\u65b9\u9762\uff0c\u7279\u522b\u662f\u5728\u70ed\u7cfb\u7edf\u8bbe\u8ba1\u548c\u5206\u6790\u4e2d\u3002<code>FluidMechanics</code> \u7c7b\u63d0\u4f9b\u4e86\u4f30\u7b97\u5e38\u89c1\u51e0\u4f55\u5f62\u72b6\u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570\u7684\u65b9\u6cd5\uff0c\u8fd9\u5bf9\u4e8e\u8ba1\u7b97\u70ed\u4ea4\u6362\u7387\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"zh/fluids_theory/#51","title":"5.1. \u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570","text":"<p>\u5bf9\u6d41\u4f20\u70ed\u53d1\u751f\u5728\u6d41\u4f53\u548c\u56fa\u4f53\u8868\u9762\u4e4b\u95f4\uff0c\u662f\u7531\u4e8e\u4f20\u5bfc\u548c\u6d41\u4f53\u8fd0\u52a8\u7684\u7efc\u5408\u6548\u5e94\u3002\u5bf9\u6d41\u4f20\u70ed\u901f\u7387 (\\(Q\\)) \u901a\u5e38\u7531\u725b\u987f\u51b7\u5374\u5b9a\u5f8b\u8868\u793a\uff1a</p> \\[Q = h A \\Delta T\\] <p>\u5176\u4e2d\uff1a * \\(h\\) \u662f\u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570 (W/(m\u00b2\u00b7K)) * \\(A\\) \u662f\u4f20\u70ed\u8868\u9762\u79ef (m\u00b2) * \\(\\Delta T\\) \u662f\u8868\u9762\u4e0e\u6d41\u4f53\u4e4b\u95f4\u7684\u6e29\u5dee (K)</p> <p>\u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570 (\\(h\\)) \u4e0d\u662f\u6d41\u4f53\u7684\u56fa\u6709\u5c5e\u6027\uff0c\u800c\u662f\u53d6\u51b3\u4e8e\u6d41\u4f53\u5c5e\u6027\u3001\u6d41\u52a8\u6761\u4ef6\uff08\u901f\u5ea6\u3001\u6d41\u52a8\u72b6\u6001\uff09\u548c\u8868\u9762\u51e0\u4f55\u5f62\u72b6\u3002\u5b83\u901a\u5e38\u901a\u8fc7\u6d89\u53ca\u52aa\u585e\u5c14\u6570\u3001\u96f7\u8bfa\u6570\u548c\u666e\u6717\u7279\u6570\u7b49\u65e0\u91cf\u7eb2\u6570\u7684\u7ecf\u9a8c\u5173\u8054\u5f0f\u6765\u786e\u5b9a\u3002</p>"},{"location":"zh/fluids_theory/#511","title":"5.1.1. \u5e73\u677f (\u5916\u90e8\u6d41\u52a8)","text":"<p>\u5bf9\u4e8e\u5e73\u677f\u4e0a\u7684\u5916\u90e8\u6d41\u52a8\uff0c\u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570\u53d6\u51b3\u4e8e\u8fb9\u754c\u5c42\u662f\u5c42\u6d41\u8fd8\u662f\u6e4d\u6d41\u3002<code>FluidMechanics</code> \u7c7b\u4f7f\u7528\u5e38\u89c1\u7684\u5173\u8054\u5f0f\u8fdb\u884c\u4f30\u7b97\uff1a</p> <ul> <li> <p>\u5c42\u6d41 (\\(Re_L &lt; 5 \\times 10^5\\))\uff1a     \\(\\(Nu_L = 0.664 Re_L^{0.5} Pr^{1/3}\\)\\)</p> </li> <li> <p>\u6e4d\u6d41 (\\(Re_L \\ge 5 \\times 10^5\\))\uff1a     \\(\\(Nu_L = 0.0296 Re_L^{0.8} Pr^{1/3}\\)\\)</p> </li> </ul> <p>\u4e00\u65e6\u786e\u5b9a\u4e86\u52aa\u585e\u5c14\u6570 (\\(Nu_L\\))\uff0c\u5bf9\u6d41\u4f20\u70ed\u7cfb\u6570 (\\(h\\)) \u5c31\u53ef\u4ee5\u4f7f\u7528\u52aa\u585e\u5c14\u6570\u7684\u5b9a\u4e49\u8ba1\u7b97\uff1a\\(h = Nu_L \\frac{k}{L}\\) [11]\u3002</p>"},{"location":"zh/fluids_theory/#512","title":"5.1.2. \u5706\u67f1\u4f53 (\u5916\u90e8\u6d41\u52a8)","text":"<p>\u5bf9\u4e8e\u5355\u4e2a\u5706\u67f1\u4f53\u4e0a\u7684\u5916\u90e8\u6d41\u52a8\uff0cChurchill-Bernstein \u65b9\u7a0b\u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684\u5173\u8054\u5f0f\uff0c\u9002\u7528\u4e8e\u5927\u8303\u56f4\u7684\u96f7\u8bfa\u6570 (\\(Re_D Pr &gt; 0.2\\))\u3002\u8be5\u65b9\u7a0b\u63d0\u4f9b\u4e86\u5782\u76f4\u4e8e\u5706\u5f62\u5706\u67f1\u4f53\u7684\u6d41\u52a8\u7684\u5e73\u5747\u52aa\u585e\u5c14\u6570\uff1a</p> \\[Nu_D = 0.3 + \\frac{0.62 Re_D^{0.5} Pr^{1/3}}{\\left[1 + (0.4/Pr)^{2/3}\\right]^{0.25}} \\left[1 + \\left(\\frac{Re_D}{282000}\\right)^{0.5}\\right]^{0.5}\\] <p>\u5176\u4e2d \\(Re_D\\) \u662f\u57fa\u4e8e\u5706\u67f1\u4f53\u76f4\u5f84\u7684\u96f7\u8bfa\u6570\u3002\u4e0e\u5e73\u677f\u7c7b\u4f3c\uff0c\\(h\\) \u7136\u540e\u8ba1\u7b97\u4e3a \\(h = Nu_D \\frac{k}{D}\\) [12]\u3002</p>"},{"location":"zh/fluids_theory/#52","title":"5.2. \u70ed\u81a8\u80c0\u7cfb\u6570","text":"<p>\u70ed\u81a8\u80c0\u7cfb\u6570 (\\(\\beta\\)) \u91cf\u5316\u4e86\u6d41\u4f53\u5bc6\u5ea6\u5728\u6052\u5b9a\u538b\u529b\u4e0b\u968f\u6e29\u5ea6\u53d8\u5316\u7684\u53d8\u5316\u7a0b\u5ea6\u3002\u5b83\u662f\u81ea\u7136\u5bf9\u6d41\u95ee\u9898\u4e2d\u7684\u5173\u952e\u53c2\u6570\u3002\u5bf9\u4e8e\u7406\u60f3\u6c14\u4f53\uff0c\u70ed\u81a8\u80c0\u7cfb\u6570\u5c31\u662f\u7edd\u5bf9\u6e29\u5ea6\u7684\u5012\u6570\uff1a\\(\\beta = 1/T\\) [13]\u3002</p>"},{"location":"zh/fluids_theory/#6","title":"6. \u6d41\u4f53\u5c5e\u6027\u548c\u6d41\u52a8\u72b6\u6001","text":"<p>\u51c6\u786e\u4e86\u89e3\u6d41\u4f53\u5c5e\u6027\u662f\u8fdb\u884c\u4efb\u4f55\u6d41\u4f53\u529b\u5b66\u5206\u6790\u7684\u57fa\u7840\u3002<code>FluidMechanics</code> \u7c7b\u5229\u7528 <code>pyfluids</code> \u5e93\u6765\u8bbf\u95ee\u5e7f\u6cdb\u7684\u6d41\u4f53\u5c5e\u6027\uff0c\u8fd9\u4e9b\u5c5e\u6027\u968f\u540e\u7528\u4e8e\u5404\u79cd\u8ba1\u7b97\u3002\u6b64\u5916\uff0c\u4e86\u89e3\u6d41\u52a8\u72b6\u6001\u5bf9\u4e8e\u5e94\u7528\u9002\u5f53\u7684\u6a21\u578b\u548c\u5173\u8054\u5f0f\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"zh/fluids_theory/#61","title":"6.1. \u57fa\u672c\u6d41\u4f53\u5c5e\u6027","text":"<p><code>FluidMechanics</code> \u7c7b\u53ef\u4ee5\u68c0\u7d22\u7ed9\u5b9a\u6e29\u5ea6\u548c\u538b\u529b\u4e0b\u6d41\u4f53\u7684\u51e0\u4e2a\u57fa\u672c\u5c5e\u6027\u3002\u8fd9\u4e9b\u5305\u62ec\uff1a</p> <ul> <li>\u5bc6\u5ea6 (\\(\\rho\\))\uff1a\u5355\u4f4d\u4f53\u79ef\u8d28\u91cf (kg/m\u00b3)\u3002</li> <li>\u52a8\u529b\u7c98\u5ea6 (\\(\\mu\\))\uff1a\u6d41\u4f53\u5bf9\u526a\u5207\u6d41\u52a8\u7684\u963b\u529b (Pa\u00b7s)\u3002</li> <li>\u70ed\u5bfc\u7387 (\\(k\\))\uff1a\u6750\u6599\u4f20\u5bfc\u70ed\u91cf\u7684\u80fd\u529b (W/(m\u00b7K))\u3002</li> <li>\u6bd4\u70ed\u5bb9 (\\(c_p\\))\uff1a\u5728\u6052\u5b9a\u538b\u529b\u4e0b\u5c06\u5355\u4f4d\u8d28\u91cf\u6e29\u5ea6\u63d0\u9ad8\u4e00\u5ea6\u6240\u9700\u7684\u5438\u70ed\u91cf (J/(kg\u00b7K))\u3002</li> <li>\u6bd4\u5bb9 (\\(v\\))\uff1a\u6d41\u4f53\u4f53\u79ef\u4e0e\u5176\u8d28\u91cf\u4e4b\u6bd4 (m\u00b3/kg)\uff0c\u662f\u5bc6\u5ea6\u7684\u5012\u6570\u3002</li> </ul> <p>\u8fd9\u4e9b\u5c5e\u6027\u4f9d\u8d56\u4e8e\u6e29\u5ea6\u548c\u538b\u529b\uff0c\u5e76\u4ece <code>pyfluids</code> \u5e93\u4e2d\u68c0\u7d22 [14]\u3002</p>"},{"location":"zh/fluids_theory/#62","title":"6.2. \u6d41\u52a8\u72b6\u6001\u786e\u5b9a","text":"<p>\u6d41\u52a8\u72b6\u6001\u63cf\u8ff0\u4e86\u6d41\u4f53\u6d41\u52a8\u7684\u4e00\u822c\u884c\u4e3a\uff0c\u4e3b\u8981\u5206\u4e3a\u5c42\u6d41\u3001\u8fc7\u6e21\u6d41\u6216\u6e4d\u6d41\u3002<code>FluidMechanics</code> \u7c7b\u6839\u636e\u8ba1\u7b97\u51fa\u7684\u96f7\u8bfa\u6570\u786e\u5b9a\u6d41\u52a8\u72b6\u6001\uff1a</p> <ul> <li>\u5c42\u6d41\uff1a\u53d1\u751f\u5728\u4f4e\u96f7\u8bfa\u6570\u4e0b\uff08\u7ba1\u9053\u6d41\u901a\u5e38 \\(Re &lt; 2300\\)\uff09\u3002</li> <li>\u8fc7\u6e21\u6d41\uff1a\u53d1\u751f\u5728\u4e2d\u95f4\u96f7\u8bfa\u6570\u4e0b\uff08\u7ba1\u9053\u6d41\u901a\u5e38 \\(2300 \\le Re \\le 4000\\)\uff09\u3002</li> <li>\u6e4d\u6d41\uff1a\u53d1\u751f\u5728\u9ad8\u96f7\u8bfa\u6570\u4e0b\uff08\u7ba1\u9053\u6d41\u901a\u5e38 \\(Re &gt; 4000\\)\uff09\u3002</li> </ul> <p>\u4e86\u89e3\u6d41\u52a8\u72b6\u6001\u5bf9\u4e8e\u5728 CFD \u6a21\u62df\u4e2d\u9009\u62e9\u6b63\u786e\u7684\u6e4d\u6d41\u6a21\u578b\u81f3\u5173\u91cd\u8981 [15]\u3002</p>"},{"location":"zh/fluids_theory/#63","title":"6.3. \u4e34\u754c\u901f\u5ea6","text":"<p>\u4e34\u754c\u901f\u5ea6\u662f\u6d41\u4f53\u6d41\u52a8\u4ece\u5c42\u6d41\u8fc7\u6e21\u5230\u6e4d\u6d41\uff08\u53cd\u4e4b\u4ea6\u7136\uff09\u7684\u901f\u5ea6\u3002\u5bf9\u4e8e\u5185\u90e8\u7ba1\u9053\u6d41\u52a8\uff0c\u4e34\u754c\u96f7\u8bfa\u6570\u7ea6\u4e3a 2300\u3002\u4e34\u754c\u901f\u5ea6 (\\(v_c\\)) \u53ef\u4ee5\u8ba1\u7b97\u4e3a\uff1a</p> \\[v_c = \\frac{Re_{crit} \\mu}{\\rho D}\\] <p>\u5176\u4e2d \\(Re_{crit}\\) \u662f\u4e34\u754c\u96f7\u8bfa\u6570\uff08\u901a\u5e38\u4e3a 2300\uff09[16]\u3002</p>"},{"location":"zh/fluids_theory/#7","title":"7. \u8f93\u5165\u9a8c\u8bc1\u548c\u9519\u8bef\u5904\u7406","text":"<p>\u7a33\u5065\u7684\u8f93\u5165\u9a8c\u8bc1\u548c\u5168\u9762\u7684\u9519\u8bef\u5904\u7406\u5bf9\u4e8e\u4efb\u4f55\u8ba1\u7b97\u5de5\u5177\u7684\u53ef\u9760\u6027\u548c\u53ef\u7528\u6027\u90fd\u81f3\u5173\u91cd\u8981\u3002<code>FluidMechanics</code> \u7c7b\u7eb3\u5165\u4e86\u51e0\u79cd\u9a8c\u8bc1\u65b9\u6cd5\uff0c\u4ee5\u786e\u4fdd\u8f93\u5165\u53c2\u6570\u5177\u6709\u7269\u7406\u610f\u4e49\u5e76\u9632\u6b62\u5e38\u89c1\u9519\u8bef\u3002</p>"},{"location":"zh/fluids_theory/#71","title":"7.1. \u6b63\u503c\u9a8c\u8bc1","text":"<p>\u6d41\u4f53\u529b\u5b66\u4e2d\u7684\u8bb8\u591a\u7269\u7406\u91cf\uff0c\u5982\u538b\u529b\u3001\u901f\u5ea6\u548c\u7279\u5f81\u957f\u5ea6\uff0c\u672c\u8d28\u4e0a\u5fc5\u987b\u662f\u6b63\u503c\u3002<code>_validate_positive_quantity</code> \u8f85\u52a9\u65b9\u6cd5\u786e\u4fdd\u4f20\u5165\u7684\u4efb\u4f55 <code>Quantity</code> \u5bf9\u8c61\u7684\u503c\u5927\u4e8e\u96f6\u3002</p>"},{"location":"zh/fluids_theory/#72","title":"7.2. \u975e\u96f6\u503c\u9a8c\u8bc1","text":"<p>\u67d0\u4e9b\u8ba1\u7b97\u6d89\u53ca\u9664\u4ee5\u6d41\u4f53\u5c5e\u6027\uff0c\u5982\u52a8\u529b\u7c98\u5ea6\u6216\u70ed\u5bfc\u7387\u3002<code>_validate_non_zero_quantity</code> \u8f85\u52a9\u65b9\u6cd5\u68c0\u67e5\u5173\u952e <code>Quantity</code> \u5bf9\u8c61\u7684\u503c\u662f\u5426\u975e\u96f6\uff0c\u4ee5\u9632\u6b62\u9664\u4ee5\u96f6\u7684\u6570\u5b66\u9519\u8bef\u3002</p>"},{"location":"zh/fluids_theory/#73","title":"7.3. \u6e29\u5ea6\u8303\u56f4\u9a8c\u8bc1","text":"<p>\u6e29\u5ea6\u5fc5\u987b\u4ee5\u7edd\u5bf9\u6e29\u6807\uff08\u4f8b\u5982\u5f00\u5c14\u6587\uff09\u8868\u793a\u4e14\u5fc5\u987b\u4e3a\u6b63\u3002<code>_validate_temperature_range</code> \u8f85\u52a9\u65b9\u6cd5\u786e\u4fdd\u8f93\u5165\u6e29\u5ea6\u5927\u4e8e 0 \u5f00\u5c14\u6587\uff0c\u4ee5\u4fdd\u8bc1\u8ba1\u7b97\u7684\u7269\u7406\u4e00\u81f4\u6027 [17]\u3002</p>"},{"location":"zh/fluids_theory/#8","title":"8. \u53c2\u8003\u6587\u732e","text":"<p>[1] White, F. M. (2006). Fluid Mechanics (6th ed.). McGraw-Hill.</p> <p>[2] Incropera, F. P., DeWitt, D. P., Bergman, T. L., &amp; Lavine, A. S. (2007). Fundamentals of Heat and Mass Transfer (6th ed.). John Wiley &amp; Sons.</p> <p>[3] Cengel, Y. A., &amp; Ghajar, A. J. (2015). Heat and Mass Transfer: Fundamentals and Applications (5th ed.). McGraw-Hill Education.</p> <p>[4] Bejan, A. (2013). Convection Heat Transfer (4th ed.). John Wiley &amp; Sons.</p> <p>[5] Tritton, D. J. (1988). Physical Fluid Dynamics (2nd ed.). Oxford University Press.</p> <p>[6] Bird, R. B., Stewart, W. E., &amp; Lightfoot, E. N. (2007). Transport Phenomena (2nd ed.). John Wiley &amp; Sons.</p> <p>[7] Versteeg, H. K., &amp; Malalasekera, W. (2007). An Introduction to Computational Fluid Dynamics: The Finite Volume Method (2nd ed.). Pearson Education.</p> <p>[8] Schlichting, H., &amp; Gersten, K. (2017). Boundary-Layer Theory (9th ed.). Springer.</p> <p>[9] Blazek, J. (2015). Computational Fluid Dynamics: Principles and Applications (3rd ed.). Elsevier.</p> <p>[10] Munson, B. R., Young, D. F., &amp; Okiishi, T. H. (2009). Fundamentals of Fluid Mechanics (6th ed.). John Wiley &amp; Sons.</p> <p>[11] Kays, W. M., Crawford, M. E., &amp; Weigand, B. (2005). Convective Heat and Mass Transfer (4th ed.). McGraw-Hill.</p> <p>[12] Churchill, S. W., &amp; Bernstein, M. (1977). A Correlation for Forced Convection from Gases and Liquids to a Circular Cylinder in Crossflow. Journal of Heat Transfer, 99(2), 300-306.</p> <p>[13] Moran, M. J., Shapiro, H. N., Boettner, D. D., &amp; Bailey, M. B. (2014). Fundamentals of Engineering Thermodynamics (8th ed.). John Wiley &amp; Sons.</p> <p>[14] Lemmon, E. W., Bell, I. H., &amp; Huber, M. L. (2010). NIST Standard Reference Database 23: Reference Fluid Thermodynamic and Transport Properties\u2014REFPROP, Version 9.0 (Software). National Institute of Standards</p> <p>[15] Fox, R. W., Pritchard, P. J., &amp; McDonald, A. T. (2016). Introduction to Fluid Mechanics (9th ed.). John Wiley &amp; Sons.</p> <p>[16] Streeter, V. L., Wylie, E. B., &amp; Bedford, K. W. (1998). Fluid Mechanics (9th ed.). McGraw-Hill</p>"},{"location":"zh/install_openfoam/","title":"Windows \u4e0a\u7684 OpenFOAM \u2013 WSL \u5b89\u88c5\u6307\u5357","text":"<p>Windows Subsystem for Linux (WSL) \u5141\u8bb8\u60a8\u5728 Windows 10 \u548c 11 \u4e0a\u76f4\u63a5\u8fd0\u884c\u5b8c\u6574\u7684 Linux \u73af\u5883\u3002\u8fd9\u662f\u76ee\u524d\u5728 Windows \u4e0a\u53ef\u9760\u8fd0\u884c OpenFOAM \u7684\u63a8\u8350\u65b9\u6cd5\u3002</p>"},{"location":"zh/install_openfoam/#_1","title":"\u4e0b\u8f7d\u94fe\u63a5","text":"<ul> <li>OpenFOAM \u5b98\u65b9\u7f51\u7ad9: https://www.openfoam.com  </li> <li>OpenFOAM v13: https://www.openfoam.com/download  </li> <li>OpenFOAM-dev: https://www.openfoam.com/download/dev  </li> <li>\u5728 Windows \u4e0a\u8fd0\u884c OpenFOAM (WSL): https://www.openfoam.com/download/windows  </li> <li>\u5728 macOS \u4e0a\u8fd0\u884c OpenFOAM: https://www.openfoam.com/download/mac  </li> <li>\u4ece\u6e90\u4ee3\u7801\u7f16\u8bd1: https://www.openfoam.com/download/source  </li> <li>\u8f6f\u4ef6\u5305\u4ed3\u5e93: https://dl.openfoam.org  </li> <li>\u7248\u672c\u5386\u53f2: https://www.openfoam.com/releases  </li> </ul>"},{"location":"zh/install_openfoam/#wsl","title":"\u5b89\u88c5 WSL","text":""},{"location":"zh/install_openfoam/#1-windows","title":"1. \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6253\u5f00 Windows \u547d\u4ee4\u63d0\u793a\u7b26","text":"<ul> <li>\u70b9\u51fb \u5f00\u59cb\u83dc\u5355\uff0c\u8f93\u5165 <code>cmd</code> </li> <li>\u53f3\u952e \u547d\u4ee4\u63d0\u793a\u7b26 \u2192 \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884c </li> <li>\u786e\u8ba4\u6240\u6709\u6388\u6743\u63d0\u793a  </li> </ul>"},{"location":"zh/install_openfoam/#2-wsl","title":"2. \u68c0\u67e5 WSL \u662f\u5426\u5df2\u5b89\u88c5","text":"<p>\u8fd0\u884c\u547d\u4ee4\uff1a</p> <pre><code>wsl -l -v\n````\n\n* \u5982\u679c\u672a\u5b89\u88c5\u4efb\u4f55\u53d1\u884c\u7248\uff0c\u8bf7\u7ee7\u7eed\u4e0b\u4e00\u6b65\n* \u5426\u5219\uff0c\u68c0\u67e5 Ubuntu \u662f\u5426\u5217\u51fa\u5e76\u4e14\u7248\u672c\u4e3a 2\n\n### 3. \u5b89\u88c5 WSL \u548c Ubuntu 22.04\n\n\u8fd0\u884c\uff1a\n\n```bash\nwsl --install -d Ubuntu-22.04\n</code></pre> <ul> <li>\u6309\u63d0\u793a\u8bbe\u7f6e Linux \u7528\u6237\u540d\u548c\u5bc6\u7801</li> </ul>"},{"location":"zh/install_openfoam/#4-wsl","title":"4. \u542f\u52a8 WSL","text":"<ul> <li>\u5728 \u5f00\u59cb\u83dc\u5355 \u4e2d\u641c\u7d22 Ubuntu \u5e76\u6253\u5f00</li> <li>\u6216\u5728\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u8f93\u5165\uff1a</li> </ul> <pre><code>wsl\n</code></pre>"},{"location":"zh/install_openfoam/#openfoam-paraview","title":"\u5b89\u88c5 OpenFOAM \u548c ParaView","text":"<p>OpenFOAM \u548c ParaView \u53ef\u4ee5\u901a\u8fc7 <code>apt</code> \u5305\u7ba1\u7406\u5668\u5b89\u88c5\u3002\u4ee5\u4e0b\u547d\u4ee4\u9700\u8981\u8d85\u7ea7\u7528\u6237\u6743\u9650 (<code>sudo</code>)\u3002</p>"},{"location":"zh/install_openfoam/#1-openfoam","title":"1. \u6dfb\u52a0 OpenFOAM \u4ed3\u5e93\u548c\u516c\u94a5","text":"<p>\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\uff1a</p> <pre><code>sudo sh -c \"wget -O - https://dl.openfoam.org/gpg.key &gt; /etc/apt/trusted.gpg.d/openfoam.asc\"\nsudo add-apt-repository http://dl.openfoam.org/ubuntu\n</code></pre> <p>\u6ce8\u610f:</p> <ul> <li>\u516c\u94a5\u4f7f\u7528 <code>https://</code></li> <li>\u4ed3\u5e93 URL \u4f7f\u7528 <code>http://</code>\uff0c\u5b89\u5168\u6027\u7531 GPG \u5bc6\u94a5\u4fdd\u8bc1</li> </ul>"},{"location":"zh/install_openfoam/#2","title":"2. \u66f4\u65b0\u8f6f\u4ef6\u5305\u5217\u8868","text":"<pre><code>sudo apt update\n</code></pre>"},{"location":"zh/install_openfoam/#3-openfoam-13","title":"3. \u5b89\u88c5 OpenFOAM 13","text":"<pre><code>sudo apt -y install openfoam13\n</code></pre> <p>OpenFOAM 13 \u548c ParaView \u4f1a\u5b89\u88c5\u5728 <code>/opt</code> \u76ee\u5f55\u4e0b\u3002</p>"},{"location":"zh/install_openfoam/#_2","title":"\u7528\u6237\u914d\u7f6e","text":"<p>\u8981\u4f7f\u7528 OpenFOAM\uff0c\u8bf7\u6309\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u4f7f\u7528\u7f16\u8f91\u5668\u6253\u5f00\u5bb6\u76ee\u5f55\u4e0b\u7684 <code>.bashrc</code> \u6587\u4ef6\uff0c\u4f8b\u5982\uff1a</li> </ol> <pre><code>gedit ~/.bashrc\n</code></pre> <ol> <li>\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff0c\u7136\u540e\u4fdd\u5b58\u5e76\u5173\u95ed\uff1a</li> </ol> <pre><code>. /opt/openfoam13/etc/bashrc\n</code></pre> <ol> <li>\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u7ec8\u7aef\u7a97\u53e3\u5e76\u6d4b\u8bd5\u5b89\u88c5\uff1a</li> </ol> <pre><code>foamRun -help\n</code></pre> <ol> <li>\u5982\u679c\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\uff0c\u8bf4\u660e\u5b89\u88c5\u548c\u914d\u7f6e\u5df2\u5b8c\u6210\u3002</li> </ol>"},{"location":"zh/install_openfoam/#_3","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u5982\u679c <code>.bashrc</code> \u4e2d\u5df2\u6709\u7c7b\u4f3c\u7684\u65e7\u7248\u672c OpenFOAM \u914d\u7f6e\uff0c\u8bf7\u7528 <code>#</code> \u6ce8\u91ca\u6216\u5220\u9664</li> <li>\u4fee\u6539 <code>.bashrc</code> \u540e\uff0c\u8981\u7acb\u5373\u5e94\u7528\u66f4\u6539\uff0c\u8bf7\u8fd0\u884c\uff1a</li> </ul> <pre><code>. $HOME/.bashrc\n</code></pre>"},{"location":"zh/install_openfoam/#latex","title":"\u56fe\u5f62\u5e93\u548c LaTeX \u4f9d\u8d56","text":""},{"location":"zh/install_openfoam/#gmsh-opengl","title":"\u5b89\u88c5 Gmsh \u548c OpenGL \u6240\u9700\u5e93","text":"<pre><code>sudo apt install libglu1-mesa libgl1-mesa-glx libxrender1 libxext6\n</code></pre>"},{"location":"zh/install_openfoam/#texlivelatex","title":"\u5b89\u88c5 TexLive\uff08LaTeX\uff09","text":""},{"location":"zh/install_openfoam/#1","title":"1. \u57fa\u7840\u5b89\u88c5","text":"<pre><code>sudo apt-get install texlive-latex-base\n</code></pre>"},{"location":"zh/install_openfoam/#2_1","title":"2. \u63a8\u8350\u5b57\u4f53\u548c\u6269\u5c55\u5b57\u4f53","text":"<p>\u4e3a\u4e86\u907f\u514d\u5728\u5904\u7406\u542b\u591a\u5b57\u4f53\u7684 LaTeX \u6587\u4ef6\u65f6\u4f7f\u7528 <code>pdflatex</code> \u51fa\u73b0\u9519\u8bef\uff1a</p> <pre><code>sudo apt-get install texlive-fonts-recommended\nsudo apt-get install texlive-fonts-extra\n</code></pre>"},{"location":"zh/install_openfoam/#3-latex","title":"3. \u989d\u5916 LaTeX \u8f6f\u4ef6\u5305","text":"<pre><code>sudo apt-get install texlive-latex-extra\n</code></pre>"},{"location":"zh/presentation/","title":"foampilot \u6a21\u5757\u7684\u6982\u5ff5\u548c\u7406\u8bba\u6982\u8ff0","text":"<p><code>foampilot</code> \u6a21\u5757\u88ab\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u9762\u5411\u5bf9\u8c61\u7684 Python \u5c42\uff0c\u7528\u4e8e\u8ba1\u7b97\u6d41\u4f53\u529b\u5b66 (CFD) \u5e73\u53f0 OpenFOAM\u3002\u5b83\u7684\u4e3b\u8981\u76ee\u7684\u662f\u5c06\u4f20\u7edf\u4f9d\u8d56\u6587\u672c\u5b57\u5178\u6587\u4ef6\u7684 OpenFOAM \u6848\u4f8b\u914d\u7f6e\u590d\u6742\u6027\u62bd\u8c61\u5316\uff0c\u63d0\u4f9b\u4e00\u4e2a\u76f4\u89c2\u4e14\u5f3a\u5927\u7684 Python \u7f16\u7a0b\u63a5\u53e3\uff08API\uff09\u3002</p> <p><code>foampilot</code> \u7684\u67b6\u6784\u4e0e OpenFOAM \u6848\u4f8b\u7ed3\u6784\u7d27\u5bc6\u5bf9\u5e94\uff0c\u6bcf\u4e2a\u5b50\u6a21\u5757\u7ba1\u7406\u6a21\u62df\u7684\u57fa\u672c\u65b9\u9762\u3002</p>"},{"location":"zh/presentation/#1-foampilotsolver","title":"1. foampilot.solver\uff1a\u7269\u7406\u548c\u6570\u503c\u6838\u5fc3","text":"<p><code>solver</code> \u5b50\u6a21\u5757\u662f\u6a21\u62df\u7684\u6838\u5fc3\u63a7\u5236\u3002\u5b83\u4e0d\u4ec5\u8fd0\u884c OpenFOAM \u6c42\u89e3\u5668\uff0c\u8fd8\u6839\u636e\u7528\u6237\u5b9a\u4e49\u7684\u7269\u7406\u548c\u6570\u503c\u5c5e\u6027\u5904\u7406 \u52a8\u6001\u6c42\u89e3\u5668\u9009\u62e9\u3002</p> OpenFOAM \u6982\u5ff5 foampilot \u4e2d\u7684\u4f5c\u7528 \u7406\u8bba\u8bf4\u660e \u6c42\u89e3\u5668 <code>Solver</code> \u7c7b \u4f5c\u4e3a \u667a\u80fd\u6c42\u89e3\u5668\u7ba1\u7406\u5668\u3002\u901a\u8fc7\u4fee\u6539\u5e03\u5c14\u5c5e\u6027\uff08\u5982 <code>compressible</code>\u3001<code>transient</code>\u3001<code>is_vof</code>\uff09\uff0c\u5b83\u4f1a\u81ea\u52a8\u9009\u62e9\u5bf9\u5e94\u7684 OpenFOAM \u6c42\u89e3\u5668\uff0c\u89e3\u51b3\u6240\u9700\u7684\u7269\u7406\u65b9\u7a0b\uff08\u4e0d\u53ef\u538b\u6d41\u7684 Navier-Stokes \u65b9\u7a0b\u3001\u53ef\u538b\u6d41\u65b9\u7a0b\u7b49\uff09\u3002 \u7269\u7406\u914d\u7f6e Solver \u5c5e\u6027 \u5b9a\u4e49\u95ee\u9898\u7c7b\u578b\uff08\u7a33\u6001\u6216\u77ac\u6001\uff0c\u5355\u76f8\u6216\u591a\u76f8 VOF\uff0c\u6709\u65e0\u91cd\u529b/\u80fd\u91cf\uff09\u3002\u8fd9\u79cd\u62bd\u8c61\u4fdd\u8bc1\u7528\u6237\u53ea\u9700\u5173\u6ce8\u95ee\u9898\u7684\u7269\u7406\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u5177\u4f53\u7684 OpenFOAM \u6c42\u89e3\u5668\u540d\u79f0\u3002"},{"location":"zh/presentation/#2-foampilotconstant","title":"2. foampilot.constant\uff1a\u7269\u7406\u4ecb\u8d28\u5b9a\u4e49","text":"<p><code>constant</code> \u5b50\u6a21\u5757\u7ba1\u7406 OpenFOAM \u7684 <code>constant</code> \u76ee\u5f55\uff0c\u5305\u542b\u6d41\u4f53\u5c5e\u6027\u548c\u7f51\u683c\u4fe1\u606f\u3002</p> OpenFOAM \u6982\u5ff5 foampilot \u4e2d\u7684\u4f5c\u7528 \u7406\u8bba\u8bf4\u660e \u6d41\u4f53\u5c5e\u6027 <code>transportProperties</code>, <code>physicalProperties</code> \u7c7b \u5b9a\u4e49\u6d41\u4f53\u7684\u57fa\u672c\u5c5e\u6027\uff08\u8fd0\u52a8\u7c98\u5ea6 \\(\\nu\\)\u3001\u5bc6\u5ea6 \\(\\rho\\)\u3001\u6bd4\u70ed \\(C_p\\) \u7b49\uff09\u3002\u8fd9\u4e9b\u5c5e\u6027\u5bf9\u4e8e\u5c01\u95ed Navier-Stokes \u65b9\u7a0b\u548c\u4f20\u8f93\u5efa\u6a21\u81f3\u5173\u91cd\u8981\u3002 \u6e4d\u6d41\u6a21\u578b <code>turbulenceProperties</code> \u7c7b \u7ba1\u7406\u6e4d\u6d41\u6a21\u578b\u7684\u9009\u62e9\u548c\u914d\u7f6e\uff08\u5982 \\(k-\\epsilon\\)\u3001\\(k-\\omega\\) SST\uff09\u3002\u8fd9\u4e9b\u6a21\u578b\u901a\u8fc7\u589e\u52a0\u8f93\u8fd0\u65b9\u7a0b\u6765\u6a21\u62df\u6e4d\u6d41\u6548\u5e94\uff0c\u5c01\u95ed RANS\uff08\u96f7\u8bfa\u5e73\u5747 Navier-Stokes\uff09\u65b9\u7a0b\u7cfb\u7edf\u3002 \u91cd\u529b <code>gravityFile</code> \u7c7b \u53ef\u6fc0\u6d3b\u5e76\u5b9a\u4e49\u91cd\u529b\u5411\u91cf \\(\\mathbf{g}\\)\uff0c\u5728\u6d6e\u529b\uff08Boussinesq\uff09\u6216\u81ea\u7531\u8868\u9762\u6d41\u6a21\u62df\u4e2d\u81f3\u5173\u91cd\u8981\u3002"},{"location":"zh/presentation/#3-foampilotsystem","title":"3. foampilot.system\uff1a\u6570\u503c\u548c\u65f6\u95f4\u63a7\u5236","text":"<p><code>system</code> \u5b50\u6a21\u5757\u7ba1\u7406 OpenFOAM \u7684 <code>system</code> \u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u51b3\u5b9a\u65b9\u7a0b\u7684\u79bb\u6563\u548c\u6c42\u89e3\u65b9\u5f0f\u3002</p> OpenFOAM \u6982\u5ff5 foampilot \u4e2d\u7684\u4f5c\u7528 \u7406\u8bba\u8bf4\u660e \u6a21\u62df\u63a7\u5236 <code>controlDictFile</code> \u7c7b \u5b9a\u4e49\u65f6\u95f4\u53c2\u6570\uff08\u65f6\u95f4\u6b65\u957f \\(\\Delta t\\)\u3001\u8d77\u59cb/\u7ed3\u675f\u65f6\u95f4\uff09\u3001\u7ed3\u679c\u5199\u5165\u9891\u7387\uff0c\u4ee5\u53ca\u6267\u884c\u51fd\u6570\uff08\u5982\u81ea\u52a8\u505c\u6b62\u7684 <code>runTimeControl</code>\uff09\u3002 \u6570\u503c\u683c\u5f0f <code>fvSchemesFile</code> \u7c7b \u7ba1\u7406\u65b9\u7a0b\u9879\u7684\u79bb\u6563\uff08\u65f6\u95f4\u5bfc\u6570\u3001\u5bf9\u6d41\u9879\u3001\u6269\u6563\u9879\uff09\u3002\u6570\u503c\u683c\u5f0f\u9009\u62e9\uff08\u5982\u65f6\u95f4\u6b27\u62c9\u6cd5\uff0c\u5bf9\u6d41\u4f7f\u7528 <code>upwind</code> \u6216 <code>Gauss linear</code>\uff09\u76f4\u63a5\u5f71\u54cd\u6570\u503c\u7a33\u5b9a\u6027\u548c\u7cbe\u5ea6\u3002 \u4ee3\u6570\u6c42\u89e3\u5668 <code>fvSolutionFile</code> \u7c7b \u914d\u7f6e\u79bb\u6563\u540e\u7ebf\u6027\u65b9\u7a0b\u7cfb\u7edf\u7684\u77e9\u9635\u6c42\u89e3\u5668\uff08\u5982\u538b\u529b\u4f7f\u7528 <code>PCG</code>\uff0c\u901f\u5ea6\u4f7f\u7528 <code>BiCGStab</code>\uff09\u3002\u540c\u65f6\u5b9a\u4e49\u6536\u655b\u51c6\u5219\uff08\u5bb9\u5dee\uff09\u548c\u6b20\u677e\u5f1b\u7b56\u7565\u3002"},{"location":"zh/presentation/#4-foampilotmesh","title":"4. foampilot.mesh\uff1a\u7f51\u683c\u751f\u6210","text":"<p><code>mesh</code> \u5b50\u6a21\u5757\u8d1f\u8d23\u7f51\u683c\u521b\u5efa\uff0c\u5373\u8ba1\u7b97\u57df\u7684\u7a7a\u95f4\u79bb\u6563\u5316\u3002</p> OpenFOAM \u6982\u5ff5 foampilot \u4e2d\u7684\u4f5c\u7528 \u7406\u8bba\u8bf4\u660e \u7ed3\u6784\u5316\u7f51\u683c <code>BlockMeshFile</code> \u7c7b \u5c01\u88c5 OpenFOAM \u7684 <code>blockMesh</code> \u5de5\u5177\u3002\u901a\u8fc7\u516d\u9762\u4f53\u5757\u5b9a\u4e49\u57df\u51e0\u4f55\uff0c\u662f\u5904\u7406\u7b80\u5355\u6216\u53c2\u6570\u5316\u51e0\u4f55\u7684\u9ad8\u6548\u65b9\u6cd5\u3002 \u975e\u7ed3\u6784\u5316\u7f51\u683c <code>gmsh_mesher</code>, <code>snappymesh</code> \u7c7b \u5904\u7406\u590d\u6742\u51e0\u4f55\uff08\u5982 STL \u6587\u4ef6\uff09\u4e0e\u9ad8\u7ea7\u7f51\u683c\u5de5\u5177\uff08<code>Gmsh</code>\u3001<code>snappyHexMesh</code>\uff09\u7684\u96c6\u6210\uff0c\u5e76\u751f\u6210\u8fd9\u4e9b\u5de5\u5177\u6240\u9700\u7684\u914d\u7f6e\u6587\u4ef6\u3002"},{"location":"zh/presentation/#5-foampilotboundaries","title":"5. foampilot.boundaries\uff1a\u7269\u7406\u8fb9\u754c\u6761\u4ef6","text":"<p><code>boundaries</code> \u5b50\u6a21\u5757\u7528\u4e8e\u5b9a\u4e49\u6d41\u4f53\u4e0e\u73af\u5883\u7684\u4ea4\u4e92\u3002</p> OpenFOAM \u6982\u5ff5 foampilot \u4e2d\u7684\u4f5c\u7528 \u7406\u8bba\u8bf4\u660e \u8fb9\u754c\u6761\u4ef6 <code>Boundary</code> \u7c7b \u7ba1\u7406\u6bcf\u4e2a\u7269\u7406\u573a (\\(\\mathbf{U}\\), \\(p\\), \\(k\\), \\(\\epsilon\\) \u7b49) \u5728\u7f51\u683c patch \u4e0a\u7684\u8fb9\u754c\u6761\u4ef6\u3002\u7406\u8bba\u4e0a\uff0c\u8fd9\u4e9b\u6761\u4ef6\u63d0\u4f9b\u7f3a\u5931\u8fb9\u754c\u4fe1\u606f\uff0c\u786e\u4fdd\u504f\u5fae\u5206\u65b9\u7a0b\u7684\u552f\u4e00\u89e3\u3002 \u6761\u4ef6\u7c7b\u578b <code>Boundary</code> \u65b9\u6cd5 \u63d0\u4f9b\u5e38\u7528\u7269\u7406\u6761\u4ef6\u65b9\u6cd5\uff1a<code>set_velocity_inlet</code>\uff08\u901f\u5ea6 Dirichlet\uff09\uff0c<code>set_pressure_outlet</code>\uff08\u538b\u529b Neumann\uff09\uff0c<code>set_wall</code>\uff08\u65e0\u6ed1\u6216\u6ed1\u52a8\uff09\u7b49\u3002 \u58c1\u9762\u51fd\u6570 \u81ea\u52a8\u96c6\u6210 \u4e3a\u6e4d\u6d41\u6a21\u578b\u81ea\u52a8\u5e94\u7528\u9002\u5f53\u7684\u58c1\u9762\u51fd\u6570\uff0c\u5b9e\u73b0\u8fb9\u754c\u5c42\u6a21\u62df\uff0c\u65e0\u9700\u6781\u7ec6\u58c1\u9762\u7f51\u683c\u3002"},{"location":"zh/presentation/#6-foampilotpostprocess-foampilotreport","title":"6. foampilot.postprocess \u548c foampilot.report\uff1a\u7ed3\u679c\u5206\u6790","text":"<p>\u8fd9\u4e9b\u5b50\u6a21\u5757\u7ba1\u7406\u6a21\u62df\u540e\u7684\u6570\u636e\u63d0\u53d6\u3001\u5206\u6790\u548c\u5c55\u793a\u3002</p> \u5b50\u6a21\u5757 \u6982\u5ff5\u89d2\u8272 \u7406\u8bba\u8bf4\u660e <code>postprocess</code> \u53ef\u89c6\u5316\u548c\u5206\u6790 \u4f7f\u7528 PyVista \u52a0\u8f7d OpenFOAM \u7ed3\u679c (VTK \u6587\u4ef6) \u5e76\u8fdb\u884c\u5e38\u7528\u540e\u5904\u7406\uff08\u5207\u7247\u3001\u7b49\u503c\u7ebf\u3001\u77e2\u91cf\u3001\u6d41\u7ebf\uff09\u3002\u53ef\u89c6\u5316\u7269\u7406\u573a\u5e76\u63d0\u53d6\u6d3e\u751f\u91cf\uff08\u5982 Q \u51c6\u5219\u3001\u6da1\u5ea6\uff09\u3002 <code>report</code> \u62a5\u544a\u751f\u6210 \u81ea\u52a8\u751f\u6210\u7ed3\u6784\u5316\u6a21\u62df\u62a5\u544a\uff08\u5982 PDF\uff09\uff0c\u6574\u5408\u5173\u952e\u6570\u636e\uff08\u8f93\u5165\u53c2\u6570\u3001\u6536\u655b\u6b8b\u5dee\u3001\u540e\u5904\u7406\u56fe\u50cf\uff09\uff0c\u4fdd\u8bc1\u53ef\u8ffd\u6eaf\u6027\u548c\u53ef\u91cd\u590d\u6027\u3002"},{"location":"zh/presentation/#7-foampilotutilities-foampilotcommons","title":"7. foampilot.utilities \u548c foampilot.commons\uff1a\u8de8\u6a21\u5757\u5de5\u5177","text":"<p>\u8fd9\u4e9b\u6a21\u5757\u4e3a\u6574\u4e2a\u6846\u67b6\u63d0\u4f9b\u652f\u6301\u529f\u80fd\u3002</p> \u5b50\u6a21\u5757 \u6982\u5ff5\u89d2\u8272 \u7406\u8bba\u8bf4\u660e <code>utilities.manageunits</code> \u5355\u4f4d\u7ba1\u7406 \u4f7f\u7528 <code>Quantity</code> \u7c7b\u786e\u4fdd\u8f93\u5165\u7684\u91cf\u7eb2\u4e00\u81f4\u3002\u8fd9\u5728\u7269\u7406\u548c\u5de5\u7a0b\u4e2d\u81f3\u5173\u91cd\u8981\uff0c\u53ef\u907f\u514d\u5355\u4f4d\u8f6c\u6362\u9519\u8bef\uff0c\u5e76\u4f7f\u4ee3\u7801\u72ec\u7acb\u4e8e\u4f7f\u7528\u7684\u5355\u4f4d\u5236\uff08SI\u3001\u82f1\u5236\u7b49\uff09\u3002 <code>utilities.dictonnary</code> OpenFOAM \u5b57\u5178\u5904\u7406 \u63d0\u4f9b\u521b\u5efa\u548c\u64cd\u4f5c\u590d\u6742\u6570\u636e\u7ed3\u6784\u7684\u5de5\u5177\uff0c\u5339\u914d OpenFOAM \u5b57\u5178\u6587\u4ef6\uff08\u5982 <code>topoSetDict</code>\u3001<code>createPatchDict</code>\uff09\u3002 <code>commons</code> \u901a\u7528\u5de5\u5177 \u5305\u542b\u7c7b\u5e8f\u5217\u5316\u3001\u7f51\u683c\u6587\u4ef6\u8bfb\u53d6\uff08<code>polyMesh/boundary</code>\uff09\u53ca\u5176\u4ed6\u5e95\u5c42\u64cd\u4f5c\uff0c\u5b9e\u73b0\u4e0e OpenFOAM \u6587\u4ef6\u683c\u5f0f\u63a5\u53e3\u3002 <p>\u672c\u6587\u6982\u8ff0\u4e86 <code>foampilot</code> \u5982\u4f55\u5c06 OpenFOAM \u6a21\u62df\u7684\u57fa\u672c\u6982\u5ff5\u7ed3\u6784\u5316\u5e76\u6620\u5c04\u5230\u6a21\u5757\u5316\u3001\u76f4\u89c2\u7684 Python \u67b6\u6784\u4e2d\u3002</p>"},{"location":"zh/user_documentation/","title":"<code>foampilot</code> \u7528\u6237\u6587\u6863","text":"<p>\u4f5c\u8005\uff1a Manus AI \u65e5\u671f\uff1a 2025\u5e7412\u67084\u65e5</p>"},{"location":"zh/user_documentation/#1-foampilot","title":"1. <code>foampilot</code> \u7684\u603b\u4f53\u5de5\u4f5c\u7406\u5ff5","text":"<p><code>foampilot</code> \u6a21\u5757\u8bbe\u8ba1\u4e3a OpenFOAM \u7684 Python \u5c01\u88c5\uff0c\u65e8\u5728\u7b80\u5316\u548c\u81ea\u52a8\u5316\u8ba1\u7b97\u6d41\u4f53\u529b\u5b66\uff08CFD\uff09\u6a21\u62df\u8fc7\u7a0b\u3002\u5b83\u62bd\u8c61\u4e86 OpenFOAM \u6587\u4ef6\u7ed3\u6784\u548c\u547d\u4ee4\u7684\u590d\u6742\u6027\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u5b8c\u5168\u901a\u8fc7 Python \u5b9a\u4e49\u3001\u8fd0\u884c\u548c\u540e\u5904\u7406\u6a21\u62df\u3002</p> <p><code>foampilot</code> \u7684\u8bbe\u8ba1\u7406\u5ff5\u5982\u4e0b\uff1a</p> <ol> <li>Python \u4e2d\u5b9a\u4e49\u6848\u4f8b\uff1a \u7528\u6237\u901a\u8fc7 Python \u5bf9\u8c61\uff08\u5982 <code>Solver</code>\u3001<code>Meshing</code>\u3001<code>Boundary</code>\u3001<code>Constant</code>\u3001<code>System</code>\uff09\u4e0e OpenFOAM \u4ea4\u4e92\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>\u81ea\u52a8\u751f\u6210\u6587\u4ef6\uff1a Python \u5bf9\u8c61\u8d1f\u8d23\u5728\u6848\u4f8b\u76ee\u5f55\u4e2d\u81ea\u52a8\u751f\u6210 OpenFOAM \u914d\u7f6e\u6587\u4ef6\uff08\u5982 <code>controlDict</code>\u3001<code>fvSchemes</code>\u3001<code>transportProperties</code> \u7b49\uff09\u3002</li> <li>Python \u751f\u6001\u96c6\u6210\uff1a \u6a21\u5757\u4e0e\u5f3a\u5927\u7684 Python \u5e93\u96c6\u6210\uff0c\u4ee5\u5b8c\u6210\u7279\u5b9a\u4efb\u52a1\uff1a</li> <li><code>classy_blocks</code>\uff1a\u7528\u4e8e\u751f\u6210\u7ed3\u6784\u5316\u7f51\u683c\uff08<code>blockMesh</code>\uff09\u3002</li> <li><code>pyfluid</code>\uff1a\u7ba1\u7406\u6d41\u4f53\u5c5e\u6027\u548c\u7269\u7406\u5e38\u6570\u3002</li> <li><code>pyvista</code>\uff1a\u9ad8\u7ea7\u540e\u5904\u7406\u548c\u53ef\u89c6\u5316\u3002</li> <li><code>latex_pdf</code>\uff1a\u751f\u6210\u7ed3\u6784\u5316\u62a5\u544a\u3002</li> </ol> <p>\u603b\u4e4b\uff0c<code>foampilot</code> \u5c06\u624b\u52a8\u4e14\u5206\u6563\u7684\u5de5\u4f5c\u6d41\u7a0b\uff08\u7f16\u8f91\u6587\u4ef6\u3001\u6267\u884c shell \u547d\u4ee4\uff09\u8f6c\u5316\u4e3a\u53ef\u91cd\u590d\u7684 Python \u811a\u672c\u5de5\u4f5c\u6d41\u7a0b\u3002</p>"},{"location":"zh/user_documentation/#2","title":"2. \u51e0\u4f55\u4e0e\u7f51\u683c\u9009\u62e9","text":"<p>\u7f51\u683c\u65b9\u6cd5\u7684\u9009\u62e9\u5728 CFD \u4e2d\u81f3\u5173\u91cd\u8981\uff0c\u53d6\u51b3\u4e8e\u51e0\u4f55\u590d\u6742\u6027\u3002<code>foampilot</code> \u63d0\u4f9b\u4e09\u79cd\u4e3b\u8981\u65b9\u6848\uff1a</p> \u7f51\u683c\u65b9\u6cd5 \u76ee\u6807\u51e0\u4f55 <code>foampilot</code> / \u5e93 \u63cf\u8ff0\u4e0e\u4f18\u52bf <code>blockMesh</code> \u7b80\u5355\u51e0\u4f55\u3001\u62c9\u4f38\u51e0\u4f55\u6216\u7531\u516d\u9762\u4f53\u5757\u7ec4\u6210\u7684\u51e0\u4f55 <code>Meshing(..., mesher=\"blockMesh\")</code>\uff08\u901a\u8fc7 <code>classy_blocks</code>\uff09 \u9002\u5408\u7b80\u5355\u51e0\u4f55\uff08\u901a\u9053\u3001\u5706\u67f1\u7b49\uff09\u6216\u89c4\u5219\u8ba1\u7b97\u57df\u3002\u63d0\u4f9b\u5bf9\u7f51\u683c\u8d28\u91cf\u548c\u5355\u5143\u5206\u5e03\u7684\u5b8c\u5168\u63a7\u5236\u3002` <code>gmsh</code> STEP \u6216 IGES \u683c\u5f0f\u7684\u590d\u6742\u51e0\u4f55 <code>Meshing(..., mesher=\"gmsh\")</code> \u53ef\u751f\u6210\u590d\u6742 CAD \u51e0\u4f55\u7684\u975e\u7ed3\u6784\u5316\u7f51\u683c\uff08\u56db\u9762\u4f53\u3001\u68f1\u67f1\uff09\u3002\u9700\u8981\u5bfc\u5165\u51e0\u4f55\u6587\u4ef6\uff08\u5982 <code>.step</code>\uff09\u3002 <code>snappyHexMesh</code> STL \u683c\u5f0f\u7684\u590d\u6742\u51e0\u4f55\uff08\u4e09\u89d2\u5316\u8868\u9762\uff09 <code>Meshing(..., mesher=\"snappy\")</code> \u9002\u7528\u4e8e\u975e\u5e38\u590d\u6742\u51e0\u4f55\uff08\u5982\u8f66\u8f86\u3001\u5efa\u7b51\uff09\u3002\u751f\u6210\u7b26\u5408 STL \u8868\u9762\u7684\u516d\u9762\u4f53\u7f51\u683c\uff0c\u5e76\u81ea\u52a8\u52a0\u5bc6\u8fb9\u754c\u5c42\u3002"},{"location":"zh/user_documentation/#21-blockmesh-classy_blocks","title":"2.1 \u4f7f\u7528 <code>blockMesh</code> \u751f\u6210\u7ed3\u6784\u5316\u7f51\u683c\uff08\u901a\u8fc7 <code>classy_blocks</code>\uff09","text":"<p>\u6b65\u9aa4\uff1a 1. \u5b9a\u4e49\u57fa\u7840\u51e0\u4f55\u5f62\u72b6\uff08\u5982 <code>cb.Cylinder</code>\u3001<code>cb.ExtrudedRing</code>\u3001<code>cb.Elbow</code>\uff09\u3002 2. \u4f7f\u7528\u94fe\u5f0f\u65b9\u6cd5\uff08<code>.chain()</code>\u3001<code>.expand()</code>\u3001<code>.fill()</code>\uff09\u6784\u5efa\u590d\u6742\u51e0\u4f55\u3002 3. \u5bf9\u6bcf\u4e2a\u5f62\u72b6\u5b9a\u4e49\u7f51\u683c\uff08<code>.chop_axial()</code>\u3001<code>.chop_radial()</code>\u3001<code>.chop_tangential()</code>\uff09\u3002 4. \u5206\u914d\u8865\u4e01\uff08\u8868\u9762\uff09\uff08<code>.set_start_patch()</code>\u3001<code>.set_end_patch()</code>\uff09\u3002 5. \u5c06\u6240\u6709\u5bf9\u8c61\u7ec4\u5408\u5230 <code>cb.Mesh()</code> \u5e76\u5199\u51fa <code>blockMeshDict</code>\u3002</p> <pre><code>mesh = cb.Mesh()\n# ... \u6dfb\u52a0\u5f62\u72b6 ...\nmesh.set_default_patch(\"walls\", \"wall\")\nmesh.write(current_path / \"system\" / \"blockMeshDict\", current_path /\"debug.vtk\")\n</code></pre>"},{"location":"zh/user_documentation/#22-gmsh-step","title":"2.2 \u4f7f\u7528 <code>gmsh</code> \u751f\u6210\u975e\u7ed3\u6784\u5316\u7f51\u683c\uff08STEP\uff09","text":"<ol> <li>\u786e\u4fdd STEP \u6587\u4ef6\u53ef\u7528\uff08\u5982 <code>geometry.step</code>\uff09\u3002</li> <li>\u521d\u59cb\u5316 <code>Meshing</code> \u5bf9\u8c61\u5e76\u6307\u5b9a <code>mesher=\"gmsh\"</code>\u3002</li> <li>\u6267\u884c\u7f51\u683c\u751f\u6210\uff1a</li> </ol> <pre><code>mesh_obj = Meshing(current_path, mesher=\"gmsh\")\nmesh_obj.mesher.run(current_path / \"geometry.step\")\n</code></pre>"},{"location":"zh/user_documentation/#23-snappyhexmesh-stl","title":"2.3 \u4f7f\u7528 <code>snappyHexMesh</code> \u751f\u6210 STL \u7f51\u683c","text":"<ol> <li>\u521b\u5efa\u57fa\u672c <code>blockMeshDict</code> \u6765\u5305\u56f4 STL \u51e0\u4f55\u3002</li> <li>\u786e\u4fdd STL \u6587\u4ef6\u5728 <code>constant/triSurface</code>\u3002</li> <li>\u521d\u59cb\u5316 <code>Meshing</code> \u5bf9\u8c61\u5e76\u6307\u5b9a <code>mesher=\"snappyHexMesh\"</code>\u3002</li> <li>\u6267\u884c\u7f51\u683c\u751f\u6210\uff1a</li> </ol> <pre><code>mesh_obj = Meshing(current_path, mesher=\"snappyHexMesh\")\nmesh_obj.mesher.run()\n</code></pre> <p>\u6ce8\u610f\uff1a\u8be6\u7ec6\u7684 <code>snappyHexMeshDict</code> \u914d\u7f6e\u9700\u7528\u6237\u81ea\u884c\u8bbe\u7f6e\uff0c\u6216\u4f7f\u7528 <code>foampilot</code> \u9ad8\u7ea7\u51fd\u6570\u3002</p>"},{"location":"zh/user_documentation/#3","title":"3. \u6c42\u89e3\u5668\u9009\u62e9\u4e0e\u7269\u7406\u6a21\u578b","text":"<p>\u901a\u8fc7\u914d\u7f6e <code>Solver</code> \u5bf9\u8c61\uff0c<code>foampilot</code> \u6839\u636e\u7269\u7406\u5c5e\u6027\u81ea\u52a8\u9009\u62e9 OpenFOAM \u6c42\u89e3\u5668\u3002</p>"},{"location":"zh/user_documentation/#31","title":"3.1 \u6c42\u89e3\u5668\u9009\u62e9","text":"<pre><code>from foampilot.solver import Solver\nsolver = Solver(current_path)\nsolver.compressible = False\nsolver.with_gravity = False\n</code></pre> <p>\u6839\u636e\u8bbe\u7f6e\uff0c<code>foampilot</code> \u914d\u7f6e <code>controlDict</code> \u548c\u76f8\u5173\u5b57\u5178\uff0c\u4f8b\u5982 <code>simpleFoam</code>\u3001<code>pimpleFoam</code> \u6216 <code>rhoSimpleFoam</code>\u3002</p>"},{"location":"zh/user_documentation/#32","title":"3.2 \u8fb9\u754c\u6761\u4ef6\u8bbe\u7f6e","text":"<pre><code>solver.boundary.initialize_boundary()\nsolver.boundary.apply_condition_with_wildcard(pattern=\"inlet\", condition_type=\"velocityInlet\", velocity=(Quantity(10, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\nsolver.boundary.apply_condition_with_wildcard(pattern=\"outlet\", condition_type=\"pressureOutlet\")\nsolver.boundary.apply_condition_with_wildcard(pattern=\"walls\", condition_type=\"wall\")\nsolver.boundary.write_boundary_conditions()\n</code></pre>"},{"location":"zh/user_documentation/#33","title":"3.3 \u4fee\u6539\u5b57\u5178\u6216\u6dfb\u52a0\u8865\u4e01","text":"<pre><code>solver.constant.transportProperties.nu = Quantity(1e-6, \"m2/s\")\nsolver.system.controlDict.writeInterval = 100\nsolver.system.write()\nsolver.constant.write()\n</code></pre>"},{"location":"zh/user_documentation/#4-pyfluid-system-constant","title":"4. \u4f7f\u7528 <code>pyfluid</code> \u8bbe\u7f6e <code>system</code> \u548c <code>constant</code>","text":"<pre><code>from foampilot.utilities.fluids_theory import FluidMechanics\nfluid_mech = FluidMechanics(FluidMechanics.get_available_fluids()['Water'], temperature=Quantity(293.15, \"K\"), pressure=Quantity(101325, \"Pa\"))\nproperties = fluid_mech.get_fluid_properties()\nsolver.constant.transportProperties.nu = properties['kinematic_viscosity']\nsolver.system.write()\nsolver.constant.write()\n</code></pre>"},{"location":"zh/user_documentation/#5","title":"5. \u6c42\u89e3\u5668\u8fd0\u884c","text":""},{"location":"zh/user_documentation/#51","title":"5.1 \u987a\u5e8f\u8fd0\u884c","text":"<pre><code>solver.run_simulation()\n</code></pre>"},{"location":"zh/user_documentation/#52","title":"5.2 \u5e76\u884c\u8fd0\u884c","text":"<pre><code>solver.decompose_domain(cores=4)\nsolver.run_simulation(parallel=True)\nsolver.reconstruct_domain()\n</code></pre>"},{"location":"zh/user_documentation/#6-pyvista","title":"6. \u4f7f\u7528 <code>pyvista</code> \u540e\u5904\u7406","text":"<pre><code>from foampilot import postprocess\nfoam_post = postprocess.FoamPostProcessing(case_path=current_path)\nfoam_post.foamToVTK()\ntime_steps = foam_post.get_all_time_steps()\nstructure = foam_post.load_time_step(time_steps[-1])\npl_contour = pv.Plotter(off_screen=True)\npl_contour.add_mesh(structure[\"cell\"], scalars='p', show_scalar_bar=True)\nfoam_post.export_plot(pl_contour, current_path / \"contour_plot.png\")\n</code></pre>"},{"location":"zh/user_documentation/#7-latex_pdf","title":"7. \u4f7f\u7528 <code>latex_pdf</code> \u751f\u6210\u62a5\u544a","text":"<pre><code>doc = latex_pdf.LatexDocument(title=\"Simulation Report\", author=\"Automated Report\", filename=\"simulation_report\", output_dir=current_path)\ndoc.add_table([[\"Statistic\", \"Value\"]], headers=[\"Statistic\", \"Value\"], caption=\"Mesh Quality Statistics\")\ndoc.generate_document(output_format=\"pdf\")\n</code></pre>"},{"location":"zh/dev/dev_intro_documentation/","title":"\u5f00\u53d1\u8005\u5feb\u901f\u5165\u95e8\u6587\u6863\uff1a<code>foampilot</code> \u6a21\u5757","text":""},{"location":"zh/dev/dev_intro_documentation/#1","title":"1. \u4ecb\u7ecd","text":"<p><code>foampilot</code> \u6a21\u5757\u65e8\u5728\u7b80\u5316\u548c\u81ea\u52a8\u5316\u57fa\u4e8e OpenFOAM \u7684\u6a21\u62df\u6848\u4f8b\u7684\u521b\u5efa\u3001\u914d\u7f6e\u3001\u6267\u884c\u548c\u540e\u5904\u7406\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9762\u5411\u5bf9\u8c61\u7684 Python \u63a5\u53e3\uff0c\u7528\u4e8e\u7ba1\u7406\u590d\u6742\u7684 OpenFOAM \u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u4e13\u6ce8\u4e8e\u95ee\u9898\u7684\u7269\u7406\u548c\u51e0\u4f55\uff0c\u800c\u4e0d\u5fc5\u5173\u6ce8\u5b57\u5178\u8bed\u6cd5\u3002</p> <p>\u672c\u6587\u6863\u65e8\u5728\u63d0\u4f9b\u4ee3\u7801\u7ed3\u6784\u7684\u8be6\u7ec6\u6982\u89c8\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3\u548c\u53c2\u4e0e\u9879\u76ee\u3002</p>"},{"location":"zh/dev/dev_intro_documentation/#2","title":"2. \u5173\u952e\u6982\u5ff5\u4e0e\u67b6\u6784","text":"<p><code>foampilot</code> \u7684\u67b6\u6784\u7d27\u5bc6\u6a21\u4eff\u6807\u51c6 OpenFOAM \u6848\u4f8b\u7684\u7ed3\u6784\uff0c\u8be5\u6848\u4f8b\u901a\u5e38\u5206\u4e3a\u4e09\u4e2a\u4e3b\u8981\u76ee\u5f55\uff1a<code>constant</code>\u3001<code>system</code> \u548c\u521d\u59cb\u65f6\u95f4\u76ee\u5f55 (<code>0</code>)\u3002</p>"},{"location":"zh/dev/dev_intro_documentation/#solver","title":"\u6838\u5fc3\u7c7b\uff1a<code>Solver</code>","text":"<p><code>Solver</code> \u7c7b\uff08<code>foampilot.solver.Solver</code>\uff09\u662f\u6a21\u5757\u7684\u6838\u5fc3\u534f\u8c03\u8005\u3002\u5b83\u5c01\u88c5\u6574\u4e2a\u6a21\u62df\u6848\u4f8b\uff0c\u5e76\u63d0\u4f9b\u5bf9 <code>constant</code> \u548c <code>system</code> \u76ee\u5f55\u7684\u8bbf\u95ee\uff0c\u4ee5\u53ca\u8fb9\u754c\u6761\u4ef6\u7ba1\u7406\u3002</p> <p>\u521d\u59cb\u5316\u65f6\uff0c<code>Solver</code> \u5b9e\u4f8b\u4f1a\u81ea\u52a8\u521b\u5efa\u7ba1\u7406\u914d\u7f6e\u6587\u4ef6\u6240\u9700\u7684\u5bf9\u8c61\uff1a</p> <ul> <li><code>solver.constant</code>\uff1a<code>ConstantDirectory</code> \u7684\u5b9e\u4f8b\uff0c\u7528\u4e8e\u7ba1\u7406 <code>constant</code> \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</li> <li><code>solver.system</code>\uff1a<code>SystemDirectory</code> \u7684\u5b9e\u4f8b\uff0c\u7528\u4e8e\u7ba1\u7406 <code>system</code> \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</li> <li><code>solver.boundary</code>\uff1a<code>Boundary</code> \u7684\u5b9e\u4f8b\uff0c\u7528\u4e8e\u7ba1\u7406\u8fb9\u754c\u6761\u4ef6\u3002</li> </ul>"},{"location":"zh/dev/dev_intro_documentation/#3","title":"3. \u4ee3\u7801\u7ed3\u6784\u8be6\u89e3","text":"<p><code>foampilot</code> \u6838\u5fc3\u903b\u8f91\u4f4d\u4e8e <code>foampilot/foampilot/src/foampilot</code> \u76ee\u5f55\u4e2d\u3002\u8be5\u76ee\u5f55\u6309\u529f\u80fd\u5212\u5206\u4e3a\u5b50\u6a21\u5757\uff0c\u6bcf\u4e2a\u5b50\u6a21\u5757\u8d1f\u8d23 OpenFOAM \u6848\u4f8b\u7ba1\u7406\u7684\u7279\u5b9a\u65b9\u9762\u3002</p> \u6e90\u76ee\u5f55 \u63cf\u8ff0 \u5173\u952e\u7c7b\uff08\u793a\u4f8b\uff09 <code>base</code> OpenFOAM \u6587\u4ef6\u5904\u7406\u7684\u57fa\u7840\u7c7b\u548c\u5de5\u5177\u3002 <code>Meshing</code>, <code>OpenFOAMFile</code> <code>solver</code> \u5305\u542b\u4e3b <code>Solver</code> \u7c7b\u548c\u6a21\u62df\u6267\u884c\u903b\u8f91\u3002 <code>Solver</code>, <code>BaseSolver</code> <code>constant</code> \u7ba1\u7406 <code>constant</code> \u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\u3002 <code>ConstantDirectory</code>, <code>transportPropertiesFile</code>, <code>turbulencePropertiesFile</code> <code>system</code> \u7ba1\u7406 <code>system</code> \u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\u3002 <code>SystemDirectory</code>, <code>controlDictFile</code>, <code>fvSchemesFile</code>, <code>fvSolutionFile</code> <code>boundaries</code> \u5b9a\u4e49\u5e76\u5e94\u7528\u8fb9\u754c\u6761\u4ef6\u3002 <code>Boundary</code>, <code>boundaries_conditions_config</code> <code>mesh</code> \u7f51\u683c\u5de5\u5177\uff0c\u5305\u62ec\u4e0e <code>classy_blocks</code> \u548c <code>snappyHexMesh</code> \u7684\u96c6\u6210\u3002 <code>BlockMeshFile</code>, <code>Meshing</code>, <code>gmsh_mesher</code> <code>utilities</code> \u975e OpenFOAM \u7279\u5b9a\u7684\u5de5\u5177\u51fd\u6570\u548c\u7c7b\uff08\u5355\u4f4d\u3001\u6d41\u4f53\u5c5e\u6027\u7b49\uff09\u3002 <code>Quantity</code>, <code>FluidMechanics</code>, <code>manageunits</code> <code>postprocess</code> \u7ed3\u679c\u5206\u6790\u3001\u53ef\u89c6\u5316\uff08\u901a\u8fc7 <code>pyvista</code>\uff09\u548c\u6570\u636e\u63d0\u53d6\u7684\u7c7b\u3002 <code>FoamPostProcessing</code>, <code>ResidualsPost</code>"},{"location":"zh/dev/dev_intro_documentation/#4","title":"4. \u5f00\u53d1\u8005\u5185\u90e8\u673a\u5236","text":"<p>\u4e3a\u4e86\u9ad8\u6548\u8d21\u732e\uff0c\u7406\u89e3 <code>foampilot</code> \u5982\u4f55\u5c06 Python \u5bf9\u8c61\u8f6c\u6362\u4e3a OpenFOAM \u6587\u4ef6\u4ee5\u53ca\u5982\u4f55\u7ba1\u7406\u590d\u6742\u914d\u7f6e\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"zh/dev/dev_intro_documentation/#41-openfoamfile","title":"4.1 \u6587\u4ef6\u5199\u5165\u673a\u5236 (<code>OpenFOAMFile</code>)","text":"<p>\u6570\u636e\u5e8f\u5217\u5316\u7684\u6838\u5fc3\u5728\u4e8e\u57fa\u7c7b <code>OpenFOAMFile</code>\uff08<code>foampilot/foampilot/src/foampilot/base/openFOAMFile.py</code>\uff09\u3002</p> <ul> <li>\u7ee7\u627f\u4e0e\u5c5e\u6027\uff1a\u6bcf\u4e2a OpenFOAM \u914d\u7f6e\u6587\u4ef6\uff08\u5982 <code>transportPropertiesFile</code> \u6216 <code>controlDictFile</code>\uff09\u90fd\u7ee7\u627f\u81ea <code>OpenFOAMFile</code>\u3002\u914d\u7f6e\u53c2\u6570\u5b58\u50a8\u5728\u5b9e\u4f8b\u5c5e\u6027 <code>self.attributes</code> \u4e2d\u3002</li> <li>\u52a8\u6001\u8bbf\u95ee\uff1a\u91cd\u8f7d\u9b54\u6cd5\u65b9\u6cd5 <code>__getattr__</code> \u548c <code>__setattr__</code> \u5141\u8bb8\u76f4\u63a5\u901a\u8fc7\u5bf9\u8c61\u5c5e\u6027\u8bbf\u95ee\u548c\u4fee\u6539\u53c2\u6570\uff08\u5982 <code>solver.constant.transportProperties.nu = ...</code>\uff09\uff0c\u5373\u4f7f\u5b83\u4eec\u5b58\u50a8\u5728 <code>self.attributes</code> \u5b57\u5178\u4e2d\u3002</li> <li>\u5e8f\u5217\u5316 (<code>write_file</code>)\uff1a<code>write_file</code> \u65b9\u6cd5\u9012\u5f52\u904d\u5386 <code>self.attributes</code>\uff0c\u5e76\u4f7f\u7528\u5185\u90e8 <code>_format_value</code> \u65b9\u6cd5\u5c06 Python \u6570\u636e\u7c7b\u578b\uff08\u5e03\u5c14\u503c\u3001\u6570\u5b57\u3001\u5143\u7ec4\uff0c\u5c24\u5176\u662f <code>Quantity</code>\uff09\u8f6c\u6362\u4e3a OpenFOAM \u7279\u5b9a\u8bed\u6cd5\uff08\u5982 <code>true</code>/<code>false</code>\uff0c\u62ec\u53f7\u5217\u8868\uff09\u3002</li> </ul>"},{"location":"zh/dev/dev_intro_documentation/#42-quantity","title":"4.2 \u5355\u4f4d\u4e0e\u7ef4\u5ea6\u7ba1\u7406 (<code>Quantity</code>)","text":"<p><code>Quantity</code> \u7c7b\uff08<code>foampilot/foampilot/src/foampilot/utilities/manageunits.py</code>\uff09\u662f <code>pint</code> \u5e93\u7684\u5c01\u88c5\uff0c\u7528\u4e8e\u4fdd\u8bc1\u7269\u7406\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u4f5c\u7528\uff1a\u5b58\u50a8\u5e26\u6709\u7269\u7406\u5355\u4f4d\u7684\u6570\u503c\uff08\u5982 <code>Quantity(10, \"m/s\")</code>\uff09\u3002</li> <li>\u81ea\u52a8\u8f6c\u6362\uff1a\u5199\u5165 OpenFOAM \u6587\u4ef6\u65f6\uff0c<code>OpenFOAMFile._format_value</code> \u4f1a\u68c0\u67e5\u503c\u662f\u5426\u4e3a <code>Quantity</code> \u5b9e\u4f8b\u3002\u5982\u679c\u662f\uff0c\u5219\u4f7f\u7528 <code>get_in(target_unit)</code> \u5c06\u5176\u8f6c\u6362\u4e3a OpenFOAM \u671f\u671b\u7684\u5355\u4f4d\uff08\u7531 <code>OpenFOAMFile.DEFAULT_UNITS</code> \u5b9a\u4e49\uff09\uff0c\u786e\u4fdd\u6240\u6709\u5199\u5165\u503c\u4f7f\u7528 OpenFOAM \u57fa\u672c\u5355\u4f4d\u3002</li> <li>OpenFOAM \u7ef4\u5ea6\uff1a<code>to_openfoam_dimensions()</code> \u65b9\u6cd5\u4f7f\u7528 <code>pint</code> \u63a8\u5bfc OpenFOAM \u7ef4\u5ea6\u5411\u91cf (M, L, T, \u0398, N, J, A)\uff0c\u8fd9\u5bf9\u4e8e\u751f\u6210\u573a\u6587\u4ef6\u5934\uff08\u5982 <code>U</code>, <code>p</code>\uff09\u975e\u5e38\u5173\u952e\u3002</li> </ul>"},{"location":"zh/dev/dev_intro_documentation/#43-solver-casefieldsmanager","title":"4.3 \u6c42\u89e3\u5668\u4e0e\u573a\u534f\u8c03 (<code>Solver</code> \u548c <code>CaseFieldsManager</code>)","text":"<p><code>Solver</code> \u7c7b\u5c06\u573a\u7ba1\u7406\u59d4\u6258\u7ed9 <code>CaseFieldsManager</code>\uff08<code>foampilot/foampilot/src/foampilot/base/cases_variables.py</code>\uff09\u3002</p> <ul> <li>\u6c42\u89e3\u5668\u9009\u62e9\uff1a<code>Solver</code>\uff08<code>foampilot/foampilot/src/foampilot/solver/solver.py</code>\uff09\u4f7f\u7528\u5e03\u5c14\u5c5e\u6027\uff08\u5982 <code>self.compressible</code>\u3001<code>self.with_gravity</code>\u3001<code>self.is_vof</code>\uff09\u6765\u786e\u5b9a\u6a21\u62df\u7c7b\u578b\u3002\u5185\u90e8 <code>_update_solver()</code> \u65b9\u6cd5\u9009\u62e9\u5408\u9002\u7684 OpenFOAM \u6c42\u89e3\u5668\uff08\u5982 <code>incompressibleFluid</code>, <code>compressibleVoF</code>\uff09\u5e76\u66f4\u65b0 <code>BaseSolver</code> \u5b9e\u4f8b\u3002</li> <li>\u573a\u7ba1\u7406\uff1a<code>CaseFieldsManager</code> \u4f7f\u7528\u8fd9\u4e9b\u5c5e\u6027\u52a8\u6001\u751f\u6210\u6240\u9700\u7269\u7406\u573a\u5217\u8868\uff08\u5982 <code>U</code>, <code>p</code>, <code>k</code>, <code>epsilon</code>, <code>T</code>\uff09\u3002<ul> <li>\u5982\u679c <code>self.with_gravity</code> \u4e3a\u771f\uff0c\u5219\u538b\u529b\u573a\u53d8\u4e3a <code>p_rgh</code>\u3002</li> <li>\u5982\u679c\u5b9a\u4e49\u4e86\u6e4d\u6d41\u6a21\u578b\uff0c\u5219\u6dfb\u52a0\u76f8\u5173\u5b57\u6bb5\uff08<code>k</code>, <code>epsilon</code>, <code>omega</code>, <code>nut</code>\uff09\u3002</li> <li>\u6b64\u5b57\u6bb5\u5217\u8868\u968f\u540e\u7531 <code>Boundary</code> \u7528\u4e8e\u521d\u59cb\u5316 \u6240\u6709 \u5fc5\u9700\u5b57\u6bb5\u7684\u8fb9\u754c\u6761\u4ef6\u3002</li> </ul> </li> </ul>"},{"location":"zh/dev/dev_intro_documentation/#44-boundary","title":"4.4 \u9ad8\u7ea7\u8fb9\u754c\u6761\u4ef6\u7ba1\u7406 (<code>Boundary</code>)","text":"<p><code>Boundary</code> \u7c7b\uff08<code>foampilot/foampilot/src/foampilot/boundaries/boundaries_dict.py</code>\uff09\u5c06\u7269\u7406\u8fb9\u754c\u6761\u4ef6\u7ffb\u8bd1\u4e3a OpenFOAM \u914d\u7f6e\u3002</p> <ul> <li>\u96c6\u4e2d\u914d\u7f6e\uff1a\u4f7f\u7528\u914d\u7f6e\u5b57\u5178 (<code>BOUNDARY_CONDITIONS_CONFIG</code>) \u5c06\u7269\u7406\u6761\u4ef6\u7c7b\u578b\uff08\u5982 <code>\"velocityInlet\"</code>\uff09\u6620\u5c04\u5230\u6bcf\u4e2a\u573a\uff08U, p, k \u7b49\uff09\u6240\u9700\u7684 OpenFOAM \u914d\u7f6e\uff0c\u6839\u636e\u9009\u5b9a\u7684\u6e4d\u6d41\u6a21\u578b\u3002</li> <li>\u901a\u914d\u7b26\u5e94\u7528\uff1a<code>apply_condition_with_wildcard(pattern, condition_type, **kwargs)</code> \u53ef\u5c06\u6761\u4ef6\u5e94\u7528\u4e8e\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f (<code>pattern</code>) \u7684\u6240\u6709 patch\u3002</li> <li>\u6761\u4ef6\u89e3\u6790\uff1a\u5bf9\u6bcf\u4e2a\u573a\uff0c<code>_resolve_field_config</code> \u786e\u5b9a\u6700\u7ec8 OpenFOAM \u914d\u7f6e\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u5899\u9762\u6761\u4ef6\uff0c\u9009\u62e9 <code>noSlip</code> \u6216 <code>slip</code>\uff0c\u5e76\u4e3a\u6e4d\u6d41\u5b57\u6bb5\u4f7f\u7528 <code>WALL_FUNCTIONS</code> \u5b57\u5178\u5e94\u7528\u9002\u5f53\u7684 wall function\u3002</li> <li>\u6587\u4ef6\u751f\u6210\uff1a<code>write_boundary_conditions()</code> \u904d\u5386 <code>CaseFieldsManager</code> \u7ba1\u7406\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u5e76\u4f7f\u7528 <code>OpenFOAMFile.write_boundary_file</code> \u5728 <code>0/</code> \u76ee\u5f55\u751f\u6210\u8fb9\u754c\u6761\u4ef6\u6587\u4ef6\u3002</li> </ul>"},{"location":"zh/dev/dev_intro_documentation/#5-mufflerpy","title":"5. \u5f00\u53d1\u8005\u5de5\u4f5c\u6d41\u7a0b\uff08\u57fa\u4e8e <code>muffler.py</code>\uff09","text":"<p>\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86\u5f00\u53d1\u8005\u4f7f\u7528 <code>foampilot</code> \u7684\u5178\u578b\u5de5\u4f5c\u6d41\u7a0b\uff1a</p> \u6b65\u9aa4 \u63cf\u8ff0 \u5173\u952e\u7c7b\u4e0e\u65b9\u6cd5 1. \u521d\u59cb\u5316 \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55\u5e76\u521d\u59cb\u5316\u6c42\u89e3\u5668\u3002 <code>Solver(path)</code>, <code>FluidMechanics</code> 2. \u7269\u7406\u914d\u7f6e \u786e\u5b9a\u6d41\u4f53\u5c5e\u6027\u5e76\u5e94\u7528\u5230\u914d\u7f6e\u6587\u4ef6\u3002 <code>FluidMechanics.get_fluid_properties()</code>, <code>solver.constant.transportProperties.nu = ...</code> 3. \u7f51\u683c \u5b9a\u4e49\u51e0\u4f55\u548c\u7f51\u683c\uff08\u901a\u5e38\u901a\u8fc7 <code>classy_blocks</code> \u96c6\u6210\uff09\u5e76\u751f\u6210 <code>blockMeshDict</code>\u3002 <code>classy_blocks.Cylinder</code>, <code>cb.Mesh()</code>, <code>Meshing(path, mesher=\"blockMesh\")</code> 4. \u8fb9\u754c\u6761\u4ef6 \u521d\u59cb\u5316\u5e76\u5c06\u8fb9\u754c\u6761\u4ef6\u5e94\u7528\u4e8e\u7f51\u683c\u5b9a\u4e49\u7684 patch\u3002 <code>solver.boundary.initialize_boundary()</code>, <code>solver.boundary.apply_condition_with_wildcard()</code> 5. \u5199\u5165\u6587\u4ef6 \u5728\u78c1\u76d8\u4e0a\u751f\u6210\u6240\u6709 OpenFOAM \u914d\u7f6e\u6587\u4ef6\u3002 <code>solver.system.write()</code>, <code>solver.constant.write()</code>, <code>solver.boundary.write_boundary_conditions()</code> 6. \u6267\u884c \u8fd0\u884c OpenFOAM \u6a21\u62df\u3002 <code>solver.run_simulation()</code> 7. \u540e\u5904\u7406 \u5206\u6790\u7ed3\u679c\uff0c\u751f\u6210\u53ef\u89c6\u5316\u548c\u62a5\u544a\u3002 <code>FoamPostProcessing</code>, <code>ResidualsPost</code>, <code>latex_pdf.LatexDocument</code> <p>\u8be5\u5de5\u4f5c\u6d41\u7a0b\u5c55\u793a\u4e86\u5404\u4e2a <code>foampilot</code> \u6a21\u5757\u5982\u4f55\u534f\u4f5c\uff0c\u4e3a OpenFOAM \u6a21\u62df\u63d0\u4f9b\u5b8c\u6574\u62bd\u8c61\u3002\u8981\u6709\u6548\u8d21\u732e\uff0c\u5f00\u53d1\u8005\u5fc5\u987b\u7406\u89e3\u6bcf\u4e2a\u6a21\u5757\u7c7b\u5982\u4f55\u4e0e\u6838\u5fc3 <code>Solver</code> \u5bf9\u8c61\u4ea4\u4e92\uff0c\u4ee5\u53ca\u5982\u4f55\u5c06 Python \u547d\u4ee4\u8f6c\u6362\u4e3a OpenFOAM \u5b57\u5178\u8bed\u6cd5\u3002</p>"},{"location":"zh/dev/manage_quantity/","title":"Gestion des quantit\u00e9s","text":"<pre><code># `Quantity` \u7c7b\uff1a\u65b9\u6cd5\u8be6\u7ec6\u8bf4\u660e\n\n\u672c\u6587\u6863\u8be6\u7ec6\u8bf4\u660e\u4e86 `Quantity` \u7c7b\u7684\u5404\u4e2a\u65b9\u6cd5\uff0c\u8be5\u7c7b\u7528\u4e8e\u5904\u7406\u5e26\u6709\u5355\u4f4d\u7684\u7269\u7406\u91cf\u3002\n\n## \u4ecb\u7ecd\n\n`Quantity` \u7c7b\u662f\u5bf9 Pint \u5e93\u7684\u5c01\u88c5\uff0c\u53ef\u7528\u4e8e\u64cd\u4f5c\u5e26\u6709\u7269\u7406\u5355\u4f4d\u7684\u6570\u503c\u3002\u5b83\u7b80\u5316\u4e86\u5355\u4f4d\u8f6c\u6362\u3001\u663e\u793a\u3001\u5e8f\u5217\u5316\u4ee5\u53ca\u7b97\u672f\u8fd0\u7b97\u3002\n\n## \u6784\u9020\u51fd\u6570\n\n### \u63cf\u8ff0\n\n\u6784\u9020\u51fd\u6570\u7528\u4e8e\u4f7f\u7528\u6570\u503c\u548c\u5355\u4f4d\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684 `Quantity` \u5b9e\u4f8b\u3002\n\n- **\u53c2\u6570**\uff1a\n  - `value`\uff1a\u7269\u7406\u91cf\u7684\u6570\u503c\u3002\n  - `unit`\uff1a\u5355\u4f4d\u5b57\u7b26\u4e32\uff08\u4f8b\u5982\uff1a\"m/s\"\u3001\"Pa\"\u3001\"kg\"\uff09\u3002\n\n## \u4e3b\u8981\u65b9\u6cd5\n\n### `set_quantity`\n\n#### \u63cf\u8ff0\n\n\u66f4\u65b0\u7269\u7406\u91cf\u7684\u6570\u503c\u548c\u5355\u4f4d\u3002\n\n- **\u53c2\u6570**\uff1a\n  - `value`\uff1a\u65b0\u7684\u6570\u503c\u3002\n  - `unit`\uff1a\u65b0\u7684\u5355\u4f4d\u3002\n\n### `get_in`\n\n#### \u63cf\u8ff0\n\n\u5c06\u7269\u7406\u91cf\u8f6c\u6362\u4e3a\u76ee\u6807\u5355\u4f4d\uff0c\u5e76\u8fd4\u56de\u6570\u503c\u3002\n\n- **\u53c2\u6570**\uff1a\n  - `target_unit`\uff1a\u76ee\u6807\u5355\u4f4d\u3002\n- **\u8fd4\u56de**\uff1a\u76ee\u6807\u5355\u4f4d\u4e0b\u7684\u6570\u503c\u3002\n- **\u5f02\u5e38**\uff1a\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5c06\u5f15\u53d1\u9519\u8bef\u3002\n\n### `to`\n\n#### \u63cf\u8ff0\n\n\u5c06\u7269\u7406\u91cf\u8f6c\u6362\u4e3a\u76ee\u6807\u5355\u4f4d\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 `Quantity` \u5bf9\u8c61\u3002\n\n- **\u53c2\u6570**\uff1a\n  - `target_unit`\uff1a\u76ee\u6807\u5355\u4f4d\u3002\n- **\u8fd4\u56de**\uff1a\u5305\u542b\u8f6c\u6362\u540e\u6570\u503c\u7684\u65b0 `Quantity` \u5bf9\u8c61\u3002\n- **\u5f02\u5e38**\uff1a\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5c06\u5f15\u53d1\u9519\u8bef\u3002\n\n## \u5e8f\u5217\u5316\n\n### `as_dict`\n\n#### \u63cf\u8ff0\n\n\u8fd4\u56de\u7269\u7406\u91cf\u7684\u5b57\u5178\u8868\u793a\u3002\n\n- **\u8fd4\u56de**\uff1a\u5305\u542b `value` \u548c `unit` \u952e\u7684\u5b57\u5178\u3002\n- **\u793a\u4f8b\u8f93\u51fa**\uff1a`{\"value\": 10.0, \"unit\": \"meter / second\"}`\n\n### `from_dict`\n\n#### \u63cf\u8ff0\n\n\u4ece\u5b57\u5178\u521b\u5efa\u4e00\u4e2a `Quantity` \u5bf9\u8c61\u3002\n\n- **\u53c2\u6570**\uff1a\n  - `data`\uff1a\u5305\u542b `value` \u548c `unit` \u7684\u5b57\u5178\u3002\n- **\u8fd4\u56de**\uff1a\u65b0\u7684 `Quantity` \u5bf9\u8c61\u3002\n\n### `from_pint`\n\n#### \u63cf\u8ff0\n\n\u4ece Pint Quantity \u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a `Quantity` \u5bf9\u8c61\u3002\n\n- **\u53c2\u6570**\uff1a\n  - `pint_quantity`\uff1aPint Quantity \u5bf9\u8c61\u3002\n- **\u8fd4\u56de**\uff1a\u65b0\u7684 `Quantity` \u5bf9\u8c61\u3002\n\n## \u8868\u793a\u65b9\u6cd5\n\n### `__repr__` \u548c `__str__`\n\n#### \u63cf\u8ff0\n\n- **`__repr__`**\uff1a\u8fd4\u56de\u5bf9\u8c61\u7684\u6b63\u5f0f\u8868\u793a\uff0c\u7528\u4e8e\u8c03\u8bd5\u3002  \n- **`__str__`**\uff1a\u8fd4\u56de\u53ef\u8bfb\u6027\u8f83\u9ad8\u7684\u5bf9\u8c61\u8868\u793a\u3002\n\n## \u7b97\u672f\u8fd0\u7b97\n\n### \u63cf\u8ff0\n\n\u8be5\u7c7b\u652f\u6301\u4e0e\u5176\u4ed6 `Quantity` \u5bf9\u8c61\u6216\u6807\u91cf\u7684 `+`\u3001`-`\u3001`*`\u3001`/` \u8fd0\u7b97\u3002\n\n- **\u52a0\u6cd5 (`__add__`)**\uff1a\u4e24\u4e2a\u7269\u7406\u91cf\u76f8\u52a0\u6216\u7269\u7406\u91cf\u4e0e\u6807\u91cf\u76f8\u52a0\u3002\n- **\u51cf\u6cd5 (`__sub__`)**\uff1a\u4e24\u4e2a\u7269\u7406\u91cf\u76f8\u51cf\u6216\u7269\u7406\u91cf\u4e0e\u6807\u91cf\u76f8\u51cf\u3002\n- **\u4e58\u6cd5 (`__mul__`)**\uff1a\u4e24\u4e2a\u7269\u7406\u91cf\u76f8\u4e58\u6216\u7269\u7406\u91cf\u4e0e\u6807\u91cf\u76f8\u4e58\u3002\n- **\u9664\u6cd5 (`__truediv__`)**\uff1a\u4e24\u4e2a\u7269\u7406\u91cf\u76f8\u9664\u6216\u7269\u7406\u91cf\u4e0e\u6807\u91cf\u76f8\u9664\u3002\n\n- **\u8fd4\u56de**\uff1a\u4e00\u4e2a\u65b0\u7684 `Quantity` \u5bf9\u8c61\uff0c\u8868\u793a\u8fd0\u7b97\u7ed3\u679c\u3002\n\n## \u4f7f\u7528\u793a\u4f8b\n\n1. **\u521b\u5efa\u5bf9\u8c61**\uff1a\n   - `speed = Quantity(10, \"m/s\")`\n   - `pressure = Quantity(101325, \"Pa\")`\n\n2. **\u5355\u4f4d\u8f6c\u6362**\uff1a\n   - `speed.get_in(\"km/h\")`\n   - `pressure.get_in(\"atm\")`\n\n3. **\u7b97\u672f\u8fd0\u7b97**\uff1a\n   - `d1 + d2`\n   - `force / area`\n\n4. **\u5e8f\u5217\u5316**\uff1a\n   - `data = {\"speed\": speed.as_dict(), \"pressure\": pressure.as_dict()}`\n   - `json_str = json.dumps(data, indent=2)`\n\n5. **\u53cd\u5e8f\u5217\u5316**\uff1a\n   - `speed_loaded = Quantity.from_dict(loaded_data[\"speed\"])`\n\n## \u7ed3\u8bba\n\n`Quantity` \u7c7b\u7b80\u5316\u4e86 Python \u4e2d\u5e26\u5355\u4f4d\u7269\u7406\u91cf\u7684\u5904\u7406\uff0c\u5229\u7528 Pint \u8fdb\u884c\u5355\u4f4d\u8f6c\u6362\uff0c\u540c\u65f6\u589e\u52a0\u4e86\u5e8f\u5217\u5316\u548c\u7b97\u672f\u8fd0\u7b97\u529f\u80fd\u3002\n</code></pre>"},{"location":"zh/example/presentation_example/","title":"FOAMPilot \u793a\u4f8b","text":"<p>FOAMPilot \u662f\u4e00\u4e2a Python \u5e93\uff0c\u65e8\u5728\u7b80\u5316 OpenFOAM \u4eff\u771f\u7684\u521b\u5efa\u3001\u914d\u7f6e\u548c\u6267\u884c\u3002\u5b83\u63d0\u4f9b\u6a21\u5757\u5316\u4e14\u76f4\u89c2\u7684\u65b9\u6cd5\u6765\u7ba1\u7406 CFD \u5de5\u7a0b\u6848\u4f8b\u3001\u7f51\u683c\u751f\u6210\u3001\u8fb9\u754c\u6761\u4ef6\u3001\u51fd\u6570\u5bf9\u8c61\u4ee5\u53ca\u7ed3\u679c\u540e\u5904\u7406\u3002</p> <p>\u672c\u8282\u4ecb\u7ecd\u4e0d\u540c\u7684\u793a\u4f8b\uff0c\u5c55\u793a FOAMPilot \u5728\u81ea\u52a8\u5316 CFD \u5de5\u4f5c\u6d41\u7a0b\u4ee5\u53ca\u4f7f\u7528 Python \u5b66\u4e60 OpenFOAM \u65b9\u9762\u7684\u4f18\u52bf\u548c\u7075\u6d3b\u6027\u3002</p>"},{"location":"zh/example/presentation_example/#_1","title":"\u793a\u4f8b\u76ee\u6807","text":"<p>\u8fd9\u4e9b\u793a\u4f8b\u7684\u76ee\u6807\u5305\u62ec\uff1a</p> <ul> <li>\u6f14\u793a\u5982\u4f55\u4ece Python \u521d\u59cb\u5316 OpenFOAM \u6848\u4f8b\u3002</li> <li>\u5c55\u793a\u5982\u4f55\u4f7f\u7528 JSON \u6587\u4ef6\u751f\u6210\u548c\u4fee\u6539\u7f51\u683c\u3002</li> <li>\u8bf4\u660e\u5982\u4f55\u5b9a\u4e49\u6d41\u4f53\u5c5e\u6027\u548c\u8fb9\u754c\u6761\u4ef6\u3002</li> <li>\u8bbe\u7f6e <code>functionObjects</code> \u4ee5\u76d1\u63a7\u7269\u7406\u91cf\uff08\u529b\u3001\u538b\u529b\u3001\u573a\u5e73\u5747\u7b49\uff09\u3002</li> <li>\u521b\u5efa\u548c\u7ba1\u7406 OpenFOAM \u7279\u5b9a\u5b57\u5178\uff08<code>topoSetDict</code>\u3001<code>createPatchDict</code> \u7b49\uff09\u3002</li> <li>\u8fd0\u884c\u4eff\u771f\u5e76\u81ea\u52a8\u5316\u540e\u5904\u7406\u3002</li> <li>\u63d0\u4f9b\u53ef\u590d\u73b0\u7684\u793a\u4f8b\u7528\u4e8e\u5b66\u4e60\u548c\u539f\u578b\u5f00\u53d1\u3002</li> </ul>"},{"location":"zh/example/presentation_example/#_2","title":"\u793a\u4f8b\u5217\u8868","text":"<p>\u968f\u7740\u66f4\u591a\u6d4b\u8bd5\u7684\u5f00\u53d1\uff0c\u672c\u90e8\u5206\u5c06\u4e0d\u65ad\u66f4\u65b0\u3002</p> <ul> <li>\u6d88\u58f0\u5668\uff1a\u8be6\u7ec6\u793a\u4f8b\uff0c\u5c55\u793a\u6c7d\u8f66\u6d88\u58f0\u5668\u7684\u590d\u6742\u7f51\u683c\u751f\u6210\u3001\u8fb9\u754c\u6761\u4ef6\u8bbe\u7f6e\u4ee5\u53ca\u58f0\u5b66\u548c\u6d41\u4f53\u7ed3\u679c\u5206\u6790\u3002  </li> <li>\u7b80\u5355\u6c7d\u8f66\uff1a\u57fa\u4e8e\u5b98\u65b9 OpenFOAM \u6559\u7a0b SimpleCar \u7684\u793a\u4f8b\uff0c\u6f14\u793a\u4f7f\u7528 JSON \u7f51\u683c\u751f\u6210\u3001\u8fb9\u754c\u6761\u4ef6\u5e94\u7528\u548c\u7a7a\u6c14\u52a8\u529b\u5b66\u529b\u76d1\u6d4b\u8fdb\u884c\u7b80\u5355\u6c7d\u8f66\u6c14\u6d41\u4eff\u771f\u3002</li> </ul>"},{"location":"zh/example/presentation_example/#_3","title":"\u8bf4\u660e","text":"<p>\u6bcf\u4e2a\u793a\u4f8b\u90fd\u9644\u5e26\u72ec\u7acb\u7684 Python \u811a\u672c\uff0c\u529f\u80fd\u5305\u62ec\uff1a</p> <ol> <li>\u5b9a\u4e49\u6848\u4f8b\u8def\u5f84 (<code>current_path</code>)\u3002</li> <li>\u521d\u59cb\u5316\u6d41\u4f53\u5c5e\u6027\uff08\u5bc6\u5ea6\u3001\u7c98\u5ea6\u3001\u538b\u529b\u3001\u6e29\u5ea6\u7b49\uff09\u3002</li> <li>\u521d\u59cb\u5316 FOAMPilot \u6c42\u89e3\u5668\u4ee5\u53ca system/constant \u6587\u4ef6\u5939\u3002</li> <li>\u4ece JSON \u6587\u4ef6\u751f\u6210\u7f51\u683c\u3002</li> <li>\u6dfb\u52a0\u6240\u9700\u7684 <code>functionObjects</code>\uff08\u573a\u5e73\u5747\u3001\u53c2\u8003\u538b\u529b\u3001\u8fd0\u884c\u65f6\u63a7\u5236\u7b49\uff09\u3002</li> <li>\u64cd\u4f5c OpenFOAM \u5b57\u5178\u4ee5\u521b\u5efa patch \u548c\u5b9a\u4e49\u533a\u57df\u3002</li> <li>\u4f7f\u7528\u73b0\u4ee3 API \u5e94\u7528\u8fb9\u754c\u6761\u4ef6\u3002</li> <li>\u8fd0\u884c\u4eff\u771f\u3002</li> <li>\u81ea\u52a8\u540e\u5904\u7406\u7ed3\u679c\u5e76\u5bfc\u51fa CSV\u3001JSON\u3001PNG \u548c HTML \u6587\u4ef6\u3002</li> </ol> <p>\u8fd9\u4e9b\u793a\u4f8b\u8bbe\u8ba1\u4e3a\u6a21\u5757\u5316\uff0c\u6613\u4e8e\u9002\u5e94\u5404\u79cd CFD \u6848\u4f8b\u7814\u7a76\u3002</p>"},{"location":"zh/example/muffler/detailled_example_muffler/","title":"\u6d88\u58f0\u5668 CFD \u793a\u4f8b \u2013 FoamPilot","text":""},{"location":"zh/example/muffler/detailled_example_muffler/#_1","title":"\u6982\u8ff0","text":"<p>\u6b64\u793a\u4f8b\u5c55\u793a\u4e86\u4f7f\u7528 FoamPilot \u548c OpenFOAM \u5b8c\u6574\u7684 CFD \u5de5\u4f5c\u6d41\u7a0b\uff0c\u7528\u4e8e\u6a21\u62df\u6d88\u58f0\u5668\u51e0\u4f55\u4e2d\u7684\u4e0d\u53ef\u538b\u7f29\u6d41\u52a8\u3002\u8be5\u793a\u4f8b\u53ef\u4f5c\u4e3a \u53c2\u8003\uff0c\u5c55\u793a FoamPilot \u7684\u5de5\u4f5c\u7406\u5ff5\uff1a</p> <ul> <li>\u660e\u786e\u7684\u7269\u7406\u5efa\u6a21\uff08\u6d41\u4f53\u3001\u5355\u4f4d\uff09</li> <li>\u53c2\u6570\u5316\u51e0\u4f55\u4e0e\u7ed3\u6784\u5316\u7f51\u683c</li> <li>\u8fb9\u754c\u6761\u4ef6\u7684\u53ef\u9760\u7ba1\u7406</li> <li>\u81ea\u52a8\u5316\u6a21\u62df\u6267\u884c</li> <li>\u9ad8\u7ea7\u540e\u5904\u7406\u4e0e\u53ef\u89c6\u5316</li> <li>\u81ea\u52a8\u751f\u6210 PDF \u62a5\u544a</li> </ul> <p>\ud83d\udcc1 \u4f4d\u7f6e\uff1a<code>examples/muffler</code></p>"},{"location":"zh/example/muffler/detailled_example_muffler/#1","title":"1. \u524d\u63d0\u6761\u4ef6","text":"<p>\u8fd0\u884c\u6b64\u793a\u4f8b\u524d\uff0c\u8bf7\u786e\u4fdd\uff1a</p> <ul> <li>\u5df2\u6b63\u786e\u5b89\u88c5\u5e76\u914d\u7f6e OpenFOAM</li> <li>\u5df2\u5b89\u88c5 FoamPilot</li> <li>\u5df2\u5b89\u88c5\u4ee5\u4e0b Python \u4f9d\u8d56\uff1a</li> <li><code>classy_blocks</code></li> <li><code>pyvista</code></li> <li><code>numpy</code></li> <li><code>pandas</code></li> </ul>"},{"location":"zh/example/muffler/detailled_example_muffler/#2","title":"2. \u521d\u59cb\u5316\u6848\u4f8b","text":"<p>\u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55\u5e76\u521d\u59cb\u5316 FoamPilot \u6c42\u89e3\u5668\u3002</p> <pre><code>from foampilot.solver import Solver\nfrom pathlib import Path\n\ncurrent_path = Path.cwd() / \"cas_test\"\nsolver = Solver(current_path)\n\nsolver.compressible = False\nsolver.with_gravity = False\n</code></pre> <p><code>Solver</code> \u662f\u6838\u5fc3\u5bf9\u8c61\uff0c\u8d1f\u8d23\uff1a</p> <ul> <li>OpenFOAM \u5b57\u5178\u7ba1\u7406</li> <li>\u8fb9\u754c\u6761\u4ef6\u7ba1\u7406</li> <li>\u6a21\u62df\u6267\u884c</li> </ul>"},{"location":"zh/example/muffler/detailled_example_muffler/#3","title":"3. \u6d41\u4f53\u5c5e\u6027","text":"<p>\u4f7f\u7528 FoamPilot \u7684 <code>FluidMechanics</code> API \u660e\u786e\u5b9a\u4e49\u6d41\u4f53\u3002</p> <pre><code>from foampilot import FluidMechanics, Quantity\n\navailable_fluids = FluidMechanics.get_available_fluids()\n\nfluid = FluidMechanics(\n    available_fluids[\"Water\"],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\n\nproperties = fluid.get_fluid_properties()\nnu = properties[\"kinematic_viscosity\"]\n</code></pre> <p>\u5c06\u8fd0\u52a8\u7c98\u5ea6\u6ce8\u5165 OpenFOAM \u914d\u7f6e\uff1a</p> <pre><code>solver.constant.transportProperties.nu = nu\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#4-openfoam","title":"4. \u5199\u5165 OpenFOAM \u914d\u7f6e\u6587\u4ef6","text":"<pre><code>solver.system.write()\nsolver.constant.write()\nsolver.system.fvSchemes.to_dict()\n</code></pre> <p>FoamPilot \u81ea\u52a8\u751f\u6210\uff1a</p> <ul> <li><code>controlDict</code></li> <li><code>fvSchemes</code></li> <li><code>fvSolution</code></li> <li><code>transportProperties</code></li> </ul>"},{"location":"zh/example/muffler/detailled_example_muffler/#5-classyblocks","title":"5. \u51e0\u4f55\u5b9a\u4e49 (ClassyBlocks)","text":""},{"location":"zh/example/muffler/detailled_example_muffler/#51","title":"5.1 \u51e0\u4f55\u53c2\u6570","text":"<pre><code>pipe_radius = 0.05\nmuffler_radius = 0.08\nref_length = 0.1\ncell_size = 0.015\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#52","title":"5.2 \u6784\u5efa\u51e0\u4f55","text":"<p>\u51e0\u4f55\u901a\u8fc7 \u53c2\u6570\u5316\u5f62\u72b6\u5e8f\u5217 \u6784\u5efa\uff1a</p> <ol> <li>\u5165\u53e3\u7ba1\u9053\uff08\u5706\u67f1\uff09</li> <li>\u6269\u5c55\u73af\uff08\u6d88\u58f0\u5668\u4e3b\u4f53\uff09</li> <li>\u586b\u5145\u90e8\u5206</li> <li>90\u00b0 \u51fa\u53e3\u5f2f\u5934</li> </ol> <p>\u5165\u53e3\u5706\u67f1\u793a\u4f8b\uff1a</p> <pre><code>import classy_blocks as cb\n\nshapes = []\n\nshapes.append(cb.Cylinder(\n    [0, 0, 0],\n    [3 * ref_length, 0, 0],\n    [0, pipe_radius, 0]\n))\n\nshapes[-1].chop_axial(start_size=cell_size)\nshapes[-1].chop_radial(start_size=cell_size)\nshapes[-1].chop_tangential(start_size=cell_size)\nshapes[-1].set_start_patch(\"inlet\")\n</code></pre> <p>\u901a\u8fc7\u5728\u51e0\u4f55\u7ea7\u522b\u5b9a\u4e49 patch\uff0c\u4fdd\u8bc1\u7f51\u683c\u4e0e\u8fb9\u754c\u6761\u4ef6\u4e00\u81f4\u3002</p>"},{"location":"zh/example/muffler/detailled_example_muffler/#6","title":"6. \u7f51\u683c\u751f\u6210","text":"<pre><code>mesh = cb.Mesh()\nfor shape in shapes:\n    mesh.add(shape)\n\nmesh.set_default_patch(\"walls\", \"wall\")\nmesh.write(\n    current_path / \"system\" / \"blockMeshDict\",\n    current_path / \"debug.vtk\"\n)\n</code></pre> <p>\u4f7f\u7528 OpenFOAM \u6267\u884c\u7f51\u683c\u751f\u6210\uff1a</p> <pre><code>from foampilot import Meshing\n\nmeshing = Meshing(current_path, mesher=\"blockMesh\")\nmeshing.mesher.run()\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#7","title":"7. \u8fb9\u754c\u6761\u4ef6\u7ba1\u7406","text":"<p>FoamPilot \u63d0\u4f9b\u901a\u7528 API\uff0c\u901a\u8fc7\u6a21\u5f0f\u5339\u914d\u8bbe\u7f6e\u8fb9\u754c\u6761\u4ef6\uff1a</p> <pre><code>solver.boundary.initialize_boundary()\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#71","title":"7.1 \u5165\u53e3\u901f\u5ea6","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"inlet\",\n    condition_type=\"velocityInlet\",\n    velocity=(\n        Quantity(10, \"m/s\"),\n        Quantity(0, \"m/s\"),\n        Quantity(0, \"m/s\")\n    ),\n    turbulence_intensity=0.05\n)\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#72","title":"7.2 \u51fa\u53e3\u538b\u529b","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"outlet\",\n    condition_type=\"pressureOutlet\"\n)\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#73","title":"7.3 \u58c1\u9762","text":"<pre><code>solver.boundary.apply_condition_with_wildcard(\n    pattern=\"walls\",\n    condition_type=\"wall\"\n)\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#74","title":"7.4 \u5199\u5165\u8fb9\u754c\u6761\u4ef6\u6587\u4ef6","text":"<pre><code>solver.boundary.write_boundary_conditions()\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#8","title":"8. \u6a21\u62df\u6267\u884c","text":"<pre><code>solver.run_simulation()\n</code></pre> <p>FoamPilot \u81ea\u52a8\u7ba1\u7406\u6c42\u89e3\u5668\u3001\u6267\u884c\u548c\u65e5\u5fd7\u8bb0\u5f55\u3002</p>"},{"location":"zh/example/muffler/detailled_example_muffler/#9","title":"9. \u6b8b\u5dee\u540e\u5904\u7406","text":"<pre><code>from foampilot.utilities import ResidualsPost\n\nresiduals = ResidualsPost(current_path / \"log.incompressibleFluid\")\nresiduals.process(\n    export_csv=True,\n    export_json=True,\n    export_png=True,\n    export_html=True\n)\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#10","title":"10. \u7ed3\u679c\u53ef\u89c6\u5316\u4e0e\u5206\u6790","text":""},{"location":"zh/example/muffler/detailled_example_muffler/#_2","title":"\u7ed3\u679c\u52a0\u8f7d","text":"<pre><code>from foampilot import postprocess\n\nfoam_post = postprocess.FoamPostProcessing(case_path=current_path)\nfoam_post.foamToVTK()\ntime_steps = foam_post.get_all_time_steps()\nlatest_time_step = time_steps[-1]\nstructure = foam_post.load_time_step(latest_time_step)\ncell_mesh = structure[\"cell\"]\nboundaries = structure[\"boundaries\"]\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#_3","title":"\u53ef\u89c6\u5316","text":"<ul> <li>\u5207\u7247 (slice)</li> <li>\u538b\u529b\u7b49\u503c\u7ebf</li> <li>\u901f\u5ea6\u77e2\u91cf</li> <li>\u7f51\u683c\u7ebf\u6846</li> </ul>"},{"location":"zh/example/muffler/detailled_example_muffler/#_4","title":"\u5206\u6790","text":"<ul> <li>Q \u5224\u636e</li> <li>\u6da1\u91cf</li> <li>\u7f51\u683c\u548c\u5b57\u6bb5\u7edf\u8ba1</li> <li>CSV / JSON \u6570\u636e\u5bfc\u51fa</li> <li>\u52a8\u753b\u751f\u6210</li> </ul> <pre><code>foam_post.calculate_q_criterion(mesh=cell_mesh, velocity_field=\"U\")\nfoam_post.calculate_vorticity(mesh=cell_mesh, velocity_field=\"U\")\nfoam_post.create_animation(\n    scalars=\"U\",\n    filename=current_path / \"animation.gif\",\n    fps=5\n)\n</code></pre>"},{"location":"zh/example/muffler/detailled_example_muffler/#11-pdf","title":"11. \u81ea\u52a8\u751f\u6210 PDF \u62a5\u544a","text":"<pre><code>from foampilot import latex_pdf\n\ndoc = latex_pdf.LatexDocument(\n    title=\"\u4eff\u771f\u62a5\u544a\uff1a\u6d88\u58f0\u5668\",\n    author=\"\u81ea\u52a8\u751f\u6210\u62a5\u544a\",\n    output_dir=current_path\n)\n\ndoc.add_title()\ndoc.add_toc()\ndoc.add_abstract(\n    \"\u672c\u62a5\u544a\u603b\u7ed3\u4e86\u6d88\u58f0\u5668\u4e0d\u53ef\u538b\u7f29\u6d41\u4f53 CFD \u4eff\u771f\u7ed3\u679c\u3002\"\n)\n\ndoc.generate_document(output_format=\"pdf\")\n</code></pre> <p>\u62a5\u544a\u5305\u542b\uff1a</p> <ul> <li>\u6d41\u4f53\u5c5e\u6027</li> <li>\u7f51\u683c\u7edf\u8ba1</li> <li>\u5b57\u6bb5\u7edf\u8ba1</li> <li>\u53ef\u89c6\u5316\u56fe\u5f62</li> <li>\u6570\u636e\u9644\u5f55</li> </ul>"},{"location":"zh/example/muffler/detailled_example_muffler/#12","title":"12. \u603b\u7ed3","text":"<p>\u8be5\u793a\u4f8b\u5c55\u793a\u4e86\u5b8c\u6574\u7684 CFD \u4eff\u771f\u94fe\uff1a</p> <ul> <li>\u53c2\u6570\u5316\u51e0\u4f55\u4e0e\u7ed3\u6784\u5316\u7f51\u683c (classy_blocks)</li> <li>\u901a\u8fc7 FoamPilot \u4f7f\u7528 OpenFOAM \u8fdb\u884c CFD \u4eff\u771f</li> <li>\u9ad8\u7ea7\u540e\u5904\u7406\u4e0e\u53ef\u89c6\u5316 (pyvista)</li> <li>\u81ea\u52a8\u5316 PDF \u62a5\u544a\u751f\u6210</li> </ul>"},{"location":"zh/example/simplecar/detailled_example/","title":"OpenFOAM \u793a\u4f8b\u4f7f\u7528 FoamPilot","text":"<p>\u672c\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u4f7f\u7528 Python \u5e93 FoamPilot \u6765\u8bbe\u7f6e\u3001\u7f51\u683c\u751f\u6210\u3001\u6c42\u89e3\u548c\u540e\u5904\u7406\u4e00\u4e2a\u7b80\u5355\u7684\u4e0d\u53ef\u538b\u7f29\u6d41\u52a8\u6848\u4f8b\u3002</p> <p>\u793a\u4f8b\u53c2\u8003\uff1ahttps://develop.openfoam.com/Development/openfoam/-/tree/30d2e2d3cfd2c2f268dd987b413dbeffd63962eb/tutorials/incompressible/simpleFoam/simpleCar</p>"},{"location":"zh/example/simplecar/detailled_example/#1","title":"1. \u5b9a\u4e49\u6848\u4f8b\u8def\u5f84","text":"<p><pre><code>from pathlib import Path\ncurrent_path = Path.cwd() / \"cases\"\n</code></pre> \u8fd9\u91cc\u5c06\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0b\u7684 <code>cases</code> \u6587\u4ef6\u5939\u4f5c\u4e3a\u6848\u4f8b\u7684\u6839\u76ee\u5f55\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#2","title":"2. \u6d41\u4f53\u5c5e\u6027","text":"<p><pre><code>from foampilot import FluidMechanics, Quantity\navailable_fluids = FluidMechanics.get_available_fluids()\nfluid = FluidMechanics(\n    available_fluids[\"Air\"],\n    temperature=Quantity(293.15, \"K\"),\n    pressure=Quantity(101325, \"Pa\")\n)\nnu = fluid.get_fluid_properties()[\"kinematic_viscosity\"]\n</code></pre> \u4f7f\u7528 FoamPilot \u7684\u73b0\u4ee3 API \u83b7\u53d6\u7a7a\u6c14\u7684\u8fd0\u52a8\u7c98\u5ea6\uff0c\u5e76\u8bbe\u7f6e\u6e29\u5ea6\u548c\u538b\u529b\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#3","title":"3. \u521d\u59cb\u5316\u6c42\u89e3\u5668","text":"<p><pre><code>from foampilot.solver import Solver\nsolver = Solver(current_path)\nsolver.compressible = False\nsolver.with_gravity = False\nsolver.constant.transportProperties.nu = nu\nsolver.system.write()\nsolver.constant.write()\n</code></pre> \u8fd9\u91cc\u521b\u5efa\u6c42\u89e3\u5668\u5bf9\u8c61\uff0c\u7981\u7528\u53ef\u538b\u7f29\u6027\u548c\u91cd\u529b\uff0c\u5e76\u5c06\u7c98\u5ea6\u5199\u5165 OpenFOAM \u6587\u4ef6\u7ed3\u6784\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#4-blockmesh-json","title":"4. \u7f51\u683c\u751f\u6210\uff08blockMesh JSON\uff09","text":"<p><pre><code>from foampilot import Meshing\nfrom pathlib import Path\nmesh = Meshing(current_path, mesher=\"blockMesh\")\ndata_path = Path.cwd() / \"block_mesh.json\"\nmesh.mesher.load_from_json(data_path)\nmesh.mesher.write(file_path=current_path / \"system\" / \"blockMeshDict\")\nmesh.mesher.run()\n</code></pre> - load_from_json: \u4ece JSON \u6587\u4ef6\u52a0\u8f7d blockMesh \u914d\u7f6e\u3002\u65b9\u4fbf\u4f7f\u7528\u7a0b\u5e8f\u5316\u65b9\u5f0f\u6216\u4ece\u5176\u4ed6\u5de5\u5177\u751f\u6210\u7684\u7f51\u683c\u914d\u7f6e\u3002 - write: \u5c06 Python \u4e2d\u7684\u7f51\u683c\u914d\u7f6e\u5199\u5165 <code>blockMeshDict</code>\u3002 - run: \u8c03\u7528 OpenFOAM <code>blockMesh</code> \u547d\u4ee4\u751f\u6210\u7f51\u683c\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#5-function-objects","title":"5. \u51fd\u6570\u5bf9\u8c61 (Function Objects)","text":""},{"location":"zh/example/simplecar/detailled_example/#51-fieldaverage","title":"5.1 \u8ba1\u7b97 fieldAverage","text":"<p><pre><code>from foampilot import utilities\nname_field, field_average_dict = utilities.Functions.field_average(\"fieldAverage\")\nutilities.Functions.write_function_field_average(name_field, field_average_dict, base_path=current_path, folder='system')\n</code></pre> <code>fieldAverage</code> \u7528\u4e8e\u5728\u8ba1\u7b97\u4e2d\u7edf\u8ba1\u6307\u5b9a\u533a\u57df\u7684\u5e73\u5747\u573a\u503c\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#52","title":"5.2 \u8bbe\u7f6e\u53c2\u8003\u538b\u529b","text":"<p><pre><code>name_field_ref, reference_dict = utilities.Functions.reference_pressure(\"referencePressure\")\nutilities.Functions.write_function_reference_pressure(name_field_ref, reference_dict, base_path=current_path, folder='system')\n</code></pre> \u53c2\u8003\u538b\u529b\u7528\u4e8e\u8bbe\u7f6e\u538b\u529b\u6c42\u89e3\u7684\u57fa\u51c6\u70b9\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#53-runtimecontrol","title":"5.3 \u8fd0\u884c\u65f6\u63a7\u5236 (runTimeControl)","text":"<p><pre><code>conditions1 = {\n    \"condition1\": {\n        \"type\": \"average\",\n        \"functionObject\": \"forceCoeffs1\",\n        \"fields\": \"(Cd)\",\n        \"tolerance\": \"1e-3\",\n        \"window\": \"20\",\n        \"windowType\": \"exact\"\n    }\n}\nname_field_rt1, rt1_dict = utilities.Functions.run_time_control(\"runTimeControl\", conditions=conditions1)\nutilities.Functions.write_function_run_time_control(name_field=name_field_rt1, name_condition=\"runTimeControl1\", function_dict=rt1_dict, base_path=current_path, folder='system')\nsolver.system.write_functions_file(includes=[\"fieldAverage\", \"runTimeControl\"])\n</code></pre> <code>runTimeControl</code> \u7528\u4e8e\u5728\u6a21\u62df\u8fd0\u884c\u4e2d\u6839\u636e\u7279\u5b9a\u6761\u4ef6\u505c\u6b62\u6216\u8bb0\u5f55\u6570\u636e\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#6-patches-toposet","title":"6. \u5b57\u5178\u64cd\u4f5c (patches &amp; topoSet)","text":""},{"location":"zh/example/simplecar/detailled_example/#61-patch","title":"6.1 \u521b\u5efa patch","text":"<p><pre><code>patch_names = [\"airIntake\"]\npatches_dict = utilities.dictonnary.dict_tools.create_patches_dict(patch_names)\ncreate_patch_dict_file = utilities.dictonnary.OpenFOAMDictAddFile(object_name='createPatchDict', **patches_dict)\ncreate_patch_dict_file.write(\"createPatchDict\", current_path)\n</code></pre> \u7528\u4e8e\u5728\u7f51\u683c\u4e2d\u521b\u5efa\u6216\u4fee\u6539\u8fb9\u754c\u9762\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#62-toposet","title":"6.2 \u521b\u5efa topoSet","text":"<p><pre><code>actions = [\n    utilities.dictonnary.dict_tools.create_action(name=\"porousCells\", action_type=\"cellSet\", action=\"new\", source=\"boxToCell\", box=[(2.05, 0.4, -1), (2.1, 0.85, 1)]),\n    utilities.dictonnary.dict_tools.create_action(name=\"porousZone\", action_type=\"cellZoneSet\", action=\"new\", source=\"setToCellZone\", set=\"porousCells\"),\n    utilities.dictonnary.dict_tools.create_action(name=\"airIntake\", action_type=\"faceSet\", action=\"new\", source=\"patchToFace\", patch=\"body\"),\n    utilities.dictonnary.dict_tools.create_action(name=\"airIntake\", action_type=\"faceSet\", action=\"subset\", source=\"boxToFace\", box=[(2.6, 0.75, 0), (2.64, 0.8, 0.1)])\n]\nactions_dict = utilities.dictonnary.dict_tools.create_actions_dict(actions)\ncreate_topo_set_dict_file = utilities.dictonnary.OpenFOAMDictAddFile(object_name='topoSetDict', **actions_dict)\ncreate_topo_set_dict_file.write(\"topoSetDict\", current_path)\nsolver.system.run_topoSet()\nsolver.system.run_createPatch()\n</code></pre> <code>topoSet</code> \u7528\u4e8e\u521b\u5efa cellSets\u3001faceSets \u548c cellZoneSets\uff0c\u4e3a\u540e\u7eed\u51fd\u6570\u548c\u6a21\u62df\u6761\u4ef6\u63d0\u4f9b\u4fbf\u5229\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#7","title":"7. \u8fb9\u754c\u6761\u4ef6","text":"<p><pre><code>solver.boundary.initialize_boundary()\nsolver.boundary.apply_condition_with_wildcard(pattern=\"inlet\", condition_type=\"velocityInlet\", velocity=(Quantity(10, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\nsolver.boundary.apply_condition_with_wildcard(pattern=\"airIntake\", condition_type=\"velocityInlet\", velocity=(Quantity(1.2, \"m/s\"), Quantity(0, \"m/s\"), Quantity(0, \"m/s\")), turbulence_intensity=0.05)\nsolver.boundary.apply_condition_with_wildcard(pattern=\"outlet\", condition_type=\"pressureOutlet\")\nsolver.boundary.apply_condition_with_wildcard(pattern=\"walls\", condition_type=\"wall\")\nsolver.boundary.write_boundary_conditions()\n</code></pre> \u8bbe\u7f6e\u901f\u5ea6\u5165\u53e3\u3001\u538b\u529b\u51fa\u53e3\u4ee5\u53ca\u58c1\u9762\u8fb9\u754c\u6761\u4ef6\uff0c\u5e76\u5c06\u5176\u5199\u5165 OpenFOAM \u6587\u4ef6\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#8","title":"8. \u8fd0\u884c\u6a21\u62df","text":"<p><pre><code>solver.run_simulation()\n</code></pre> \u6267\u884c OpenFOAM \u6a21\u62df\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#9","title":"9. \u540e\u5904\u7406","text":"<p><pre><code>residuals_post = utilities.ResidualsPost(current_path / \"log.incompressibleFluid\")\nresiduals_post.process(export_csv=True, export_json=True, export_png=True, export_html=True)\n</code></pre> \u5904\u7406\u6b8b\u5dee\u5e76\u5bfc\u51fa\u4e3a CSV\u3001JSON\u3001PNG \u548c HTML \u683c\u5f0f\u3002</p>"},{"location":"zh/example/simplecar/detailled_example/#_1","title":"\u5b8c\u6210","text":"<p><pre><code>print(\"Simulation and post-processing completed.\")\n</code></pre> \u8868\u793a\u6a21\u62df\u53ca\u540e\u5904\u7406\u5b8c\u6210\u3002</p>"}]}